var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s]
return i},__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}
return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()
if("undefined"==typeof jQuery)throw new Error("WUX requires jQuery");+function(t){t.fn.wuxComponent=function(t){var e=this.data("wuxComponent")
return e||(t instanceof WUX.WComponent?(this.data("wuxComponent",t),t):(null==t&&(t=!0),t?(e=new WUX.WComponent(this),this.data("wuxComponent",e),e):void 0))}}(jQuery)
var WuxDOM=function(){function t(){}return t.onRender=function(e){t.onRenderHandlers.push(e)},t.onUnmount=function(e){t.onUnmountHandlers.push(e)},t.render=function(e,n,i,o){WUX.debug&&console.log("WuxDOM.render "+WUX.str(e)+" on "+WUX.str(n)+"..."),$(document).ready(function(){WUX.global.init(function(){n||(n=t.lastCtx?t.lastCtx:$("#view-root")),i&&i(n)
var r=t.mount(e,n)
if(t.lastCtx=r,o&&o(n),t.onRenderHandlers.length>0){for(var s=e instanceof WUX.WComponent?e:null,a={component:s,element:r,target:r.get(0),type:"render"},l=0,h=t.onRenderHandlers;l<h.length;l++){(0,h[l])(a)}t.onRenderHandlers=[]}})})},t.mount=function(e,n){if(n||(n=t.lastCtx?t.lastCtx:$("#view-root")),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(n)+"..."),null==e)return void console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(n)+" -> invalid component")
var i="string"==typeof n?n.indexOf("#")<0?$("#"+n):$(n):n
return i.length?(t.lastCtx=i,e instanceof WUX.WComponent?(e.mount(i),i.wuxComponent(e)):i.append(e),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(n)+" completed."),i):void console.error("WuxDOM.mount "+WUX.str(e)+" on "+WUX.str(n)+" -> context unavailable")},t.unmount=function(e){e||(e=t.lastCtx?t.lastCtx:$("#view-root")),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(e)+"...")
var n="string"==typeof e?e.indexOf("#")<0?$("#"+e):$(e):e
if(!n.length)return void console.error("WuxDOM.unmount "+WUX.str(e)+" -> node unavailable")
var i=n.wuxComponent(!1)
if(i&&i.unmount(),n.html(""),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(e)+" completed."),t.onUnmountHandlers.length>0){for(var o={component:i,element:n,target:n.get(0),type:"unmount"},r=0,s=t.onUnmountHandlers;r<s.length;r++){(0,s[r])(o)}t.onUnmountHandlers=[]}return n},t.replace=function(e,n){var i
if(n||(n=e,e=void 0),e)if("string"==typeof e){var o=WUX.getComponent(e)
o||(i=o.getContext(),o.unmount())}else e instanceof WUX.WComponent?(i=e.getContext(),e.unmount()):(i=e.parent())&&i.html("")
else i=t.unmount()
return i||(i=$("#view-root")),i.length?t.mount(n,i):void console.error("WuxDOM.replace "+WUX.str(i)+" -> node unavailable")},t.onRenderHandlers=[],t.onUnmountHandlers=[],t}(),WUX
!function(t){function e(t){if(t){if(t instanceof jQuery)return t.attr("id")
if(t instanceof U)return t.id
if("string"==typeof t&&t.indexOf("<")<0)return 0==t.indexOf("#")?t.substring(1):t
var e=$(t),n=e.attr("id")
if(!n){var i=e.prop("tagName")
"i"!=i&&"I"!=i||(n=e.parent().attr("id"))}return n}}function n(t,n){var i=e(t)
if(!i)return""
var o=i.indexOf("-")
return o<0?i:n?i.substring(o+1):i.substring(0,o)}function i(t){var n=e(t)
if(!n)return""
var i=n.lastIndexOf("-")
if(i<0)return n
if(i>0){if("-"==n.charAt(i-1))return n.substring(i)}return n.substring(i+1)}function o(t){if(t){var e=$("#"+t)
if(e.length)return e.wuxComponent(!1)}}function r(t){return t&&t.parent?r(t.parent):t}function s(t,e){if(t){var n=$("#"+t)
if(n.length){var i=n.wuxComponent(!1)
if(i)return i.setProps(e),i}}}function a(t,e){if(!t)return e
var n=$("#"+t)
if(!n.length)return e
var i=n.wuxComponent(!1)
if(!i)return e
var o=i.getProps()
return null==o?e:o}function l(t,e){if(t){var n=$("#"+t)
if(n.length){var i=n.wuxComponent(!1)
if(i)return i.setState(e),i}}}function h(t,e){if(!t)return e
var n=$("#"+t)
if(!n.length)return e
var i=n.wuxComponent(!1)
if(!i)return e
var o=i.getState()
return null==o?e:o}function u(t){if(!t)return null
var e=t.lastIndexOf(".")
if(e>0){var n=t.substring(0,e)
if(window[n]){var i=t.substring(e+1)
for(var o in window[n])if(o==i)return new window[n][o]
return null}}var r=window[t]
return r&&r.prototype?Object.create(r.prototype):null}function p(t,n){if("string"==typeof t&&"string"==typeof n)return t==n
if("string"==typeof t||"string"==typeof n)return!1
var i=e(t),o=e(n)
return i&&o&&i==o}function c(t){if(!t)return["",$("<span></span>"),""]
if("string"==typeof t){if("<"!=t.charAt(0)||">"!=t.charAt(t.length-1)){var e=t.indexOf("<")
if(e<0)return["",$("<span>"+t.replace(">","&gt;")+"</span>"),""]
var n=t.lastIndexOf(">")
return n<0?["",$("<span>"+t.replace("<","&lt;")+"</span>"),""]:[t.substring(0,e),$(t.substring(e,n+1)),t.substring(n+1)]}return["",$(t),""]}return t instanceof jQuery?["",t,""]:["",$("<span>"+t+"</span>"),""]}function d(t){if(!t)return["","",""]
if(" "==t)return["","&nbsp;",""]
var e=" "==t.charAt(0)?"&nbsp;":"",n=t.length>1&&" "==t.charAt(t.length-1)?"&nbsp;":"",i=t.trim().split("<>")
return!i||i.length<2?[e,t.trim(),n]:(e+=i[0],2==i.length?[e,i[1],""]:(n+=i[2],[e,i[1],n]))}function f(t){if(t instanceof U){var e=t.name,n=t.id
return e||(e="WComponent"),n?e+"("+n+")":e}if(t instanceof jQuery){if(t.length){var i=t.attr("id")?" id="+t.attr("id"):""
return t.selector?'$("'+t.selector+'")':"$(<"+t.prop("tagName")+i+">)"}return'$("'+t.selector+'").length=0'}return"object"==typeof t?JSON.stringify(t):t+""}function g(e){if(!e)return""
if(e instanceof U){var n=e.rootTag
if(n)return n.toLowerCase()
var i=e.getRoot()
return i?"":t.getTagName(i)}if(!(e instanceof jQuery)){var o=""+e
if("<"==o.charAt(0)){var r=o.indexOf(" ")
if(r<0&&(r=o.indexOf(">")),r>0){var n=o.substring(1,r).toLowerCase()
return"/"==n.charAt(n.length-1)?n.substring(0,n.length-1):n}return""}return"#"==o.charAt(0)?t.getTagName($(o)):t.getTagName($("#"+o))}if(e.length){var n=e.prop("tagName")
return n?(""+n).toLowerCase():""}return""}function b(t,e){return e?null==t?"string"==typeof e?""==e:!e.id:"object"==typeof t?"string"==typeof e?e==t.id:e.id==t.id:"string"==typeof e?e==t:e.id==t:!t}function y(t){if(!t)return 0
var e=M.toString(t),n=0,i=e.length,o=0
if(i>0)for(;o<i;)n=(n<<5)-n+e.charCodeAt(o++)|0
return n}function v(t){var e=m(t),n={}
if(!e)return n
for(var i=e.split(";"),o=0,r=i;o<r.length;o++){var s=r[o],a=s.split(":")
a.length<2||(n[a[0].trim()]=a[1].trim())}return n}function m(t){var e=""
return t?"string"==typeof t?t.indexOf(":")<=0?"":";"!=t.charAt(t.length-1)?t+";":t:(t.s&&(e+=_(t.s)),t.fs&&(e+="font-style:"+t.fs+";"),t.fw&&(e+="font-weight:"+t.fw+";"),t.tt&&(e+="text-transform:"+t.tt+";"),t.tr&&(e+="transform:"+t.tr+";"),t.fl&&(e+="float:"+t.fl+";"),t.cl&&(e+="clear:"+t.cl+";"),t.a&&(e+="text-align:"+t.a+";"),t.c&&(e+="color:"+t.c+";"),t.v&&(e+="vertical-align:"+t.v+";"),t.d&&(e+="display:"+t.d+";"),t.z&&(e+="z-index:"+t.z+";"),t.lh&&(e+="line-height:"+t.lh+";"),t.ps&&(e+="position:"+t.ps+";"),t.o&&(e+="overflow:"+t.o+";"),t.ox&&(e+="overflow-x:"+t.ox+";"),t.oy&&(e+="overflow-y:"+t.oy+";"),null!=t.op&&(e+="opacity:"+t.op+";"),null!=t.ol&&(e+="outline:"+t.ol+";"),t.cr&&(e+="cursor:"+t.cr+";"),t.cn&&(e+="content:"+t.cn+";"),t.k&&t.k.indexOf(":")>0&&(e+="-"==t.k.charAt(0)?"-webkit"+t.k+";":"-webkit-"+t.k+";"),t.k&&t.k.indexOf(":")>0&&(e+="-"==t.k.charAt(0)?"-moz"+t.k+";":"-moz-"+t.k+";"),t.k&&t.k.indexOf(":")>0&&(e+="-"==t.k.charAt(0)?"-o"+t.k+";":"-o-"+t.k+";"),t.k&&t.k.indexOf(":")>0&&(e+="-"==t.k.charAt(0)?"-ms"+t.k+";":"-ms-"+t.k+";"),t.bs&&(e+="box-shadow:"+t.bs+";"),t.bz&&(e+="box-sizing:"+t.bz+";"),t.b&&(e+=t.b.indexOf(":")>0?_("border"+t.b):t.b.match(/^(|none|inherit|initial|unset)$/)?"border:"+t.b+";":t.b.indexOf(" ")>0?"border:"+t.b+";":"border:1px solid "+t.b+";"),t.bc&&(e+="border-collapse:"+t.bc+";"),null!=t.br&&(e+="number"==typeof t.br?"border-radius:"+t.br+"px;":"border-radius:"+t.br+";"),null!=t.bsp&&(e+="number"==typeof t.bsp?"border-spacing:"+t.bsp+"px;":"border-spacing:"+t.bsp+";"),null!=t.m&&(e+="number"==typeof t.m?"margin:"+t.m+"px;":t.m.indexOf(":")>0?_("margin"+t.m):"margin:"+t.m+";"),null!=t.mt&&(e+="number"==typeof t.mt?"margin-top:"+t.mt+"px;":"margin-top:"+t.mt+";"),null!=t.mr&&(e+="number"==typeof t.mr?"margin-right:"+t.mr+"px;":"margin-right:"+t.mr+";"),null!=t.mb&&(e+="number"==typeof t.mb?"margin-bottom:"+t.mb+"px;":"margin-bottom:"+t.mb+";"),null!=t.ml&&(e+="number"==typeof t.ml?"margin-left:"+t.ml+"px;":"margin-left:"+t.ml+";"),null!=t.p&&(e+="number"==typeof t.p?"padding:"+t.p+"px;":t.p.indexOf(":")>0?_("padding"+t.p):"padding:"+t.p+";"),null!=t.pt&&(e+="number"==typeof t.pt?"padding-top:"+t.pt+"px;":"padding-top:"+t.pt+";"),null!=t.pr&&(e+="number"==typeof t.pr?"padding-right:"+t.pr+"px;":"padding-right:"+t.pr+";"),null!=t.pb&&(e+="number"==typeof t.pb?"padding-bottom:"+t.pb+"px;":"padding-bottom:"+t.pb+";"),null!=t.pl&&(e+="number"==typeof t.pl?"padding-left:"+t.pl+"px;":"padding-left:"+t.pl+";"),null!=t.f&&(e+="number"==typeof t.f?"font-size:"+t.f+"px;":t.f.indexOf(":")>0?_("font"+t.f):"font-size:"+t.f+";"),t.bg&&(e+=t.bg.indexOf(":")>0?_("background"+t.bg):t.bg.indexOf("url")>=0?"background:"+t.bg+";":"background-color:"+t.bg+";"),t.bgi&&(e+="background-image:"+t.bgi+";"),t.bgp&&(e+="background-position:"+t.bgp+";"),t.bgr&&(e+="background-repeat:"+t.bgr+";"),t.text&&(e+=t.text.indexOf(":")>0?_("text"+t.text):"text-decoration:"+t.text+";"),null!=t.l&&(e+="number"==typeof t.l?"left:"+t.l+"px;":"left:"+t.l+";"),null!=t.r&&(e+="number"==typeof t.r?"right:"+t.r+"px;":"right:"+t.r+";"),null!=t.t&&(e+="number"==typeof t.t?"top:"+t.t+"px;":"top:"+t.t+";"),null!=t.bt&&(e+="number"==typeof t.bt?"bottom:"+t.bt+"px;":"bottom:"+t.bt+";"),t.w&&(e+="number"==typeof t.w?"width:"+t.w+"px;":"width:"+t.w+";"),t.h&&(e+="number"==typeof t.h?"height:"+t.h+"px;":"height:"+t.h+";"),t.minw&&(e+="number"==typeof t.minw?"min-width:"+t.minw+"px;":"min-width:"+t.minw+";"),t.maxw&&(e+="number"==typeof t.maxw?"max-width:"+t.maxw+"px;":"max-width:"+t.maxw+";"),t.minh&&(e+="number"==typeof t.minh?"min-height:"+t.minh+"px;":"min-height:"+t.minh+";"),t.maxh&&(e+="number"==typeof t.maxh?"max-height:"+t.maxh+"px;":"max-height:"+t.maxh+";"),e):e}function C(t,e,n,i){return e&&n?t?i&&t.indexOf(e+":")>=0?_(t):_(t)+e+":"+n+";":e+":"+n+";":_(t)}function _(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(!t||0==t.length)return""
for(var n="",i={},o=!0,r=0;r<t.length;r++){var s=t[r]
s&&("string"==typeof s?(o||(n+=m(i),i={},o=!0),s.indexOf(":")>0&&(n+=s,";"!=s.charAt(s.length-1)&&(n+=";"))):($.extend(i,s),o=!1))}return o||(n+=m(i)),n}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(!t||!t.length)return""
for(var n="",i=0;i<t.length;i++){var o=t[i]
if(o){var r="string"==typeof o?o:o.n
r&&(r.indexOf(":")>0||(n+=r+" "))}}return n.trim()}function S(t){if(!t)return""
if("string"==typeof t)return t
if("object"==typeof t){var e=""
for(var n in t)e+=n+'="'+t[n]+'" '
return e.trim()}return""}function O(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]
if(!e||!e.length)return""
for(var i=t?"<ul"+T(t)+">":"<ul>",o=0;o<e.length;o++){var r=e[o]
null!=r&&(i+="<li>"+r+"</li>")}return i+="</ul>"}function x(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]
if(!n||!n.length)return""
var o=""
o=null!=e?t?"<ol"+T(t)+' start="'+e+'">':'<ol start="'+e+'">':t?"<ol"+T(t)+">":"<ol>"
for(var r=0;r<n.length;r++){var s=n[r]
null!=s&&(o+="<li>"+s+"</li>")}return o+="</ol>"}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(!t||!t.length)return""
var n=w.apply(void 0,t),i=_.apply(void 0,t),o=""
return n&&(o+=' class="'+n+'"'),i&&(o+=' style="'+i+'"'),o}function E(t,e){if(!t||!e)return t
for(var n=t.split(" "),i="",o=0,r=n;o<r.length;o++){var s=r[o]
s!=e&&(i+=s+" ")}return i.trim()}function R(t,e){if(!t||!e)return t
for(var n=t.split(" "),i=!1,o="",r=0,s=n;r<s.length;r++){var a=s[r]
a!=e?o+=a+" ":i=!0}return i?o.trim():o.trim()+" "+e}function I(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]
if(!t||!e||!e.length)return t
if(t instanceof U)t.css.apply(t,e)
else if(t instanceof jQuery){if(!t.length)return t
var i=_.apply(void 0,e),o=w.apply(void 0,e)
o&&t.addClass(o),i&&t.css(v(i))}return t}function W(t,e,n,i,o,r){if(!t)return""
e||(e=""),n||(n="")
var s=r?' title="'+r+'"':""
return o=o?" "+o:"",t.indexOf(".")>0?e+'<img src="'+t+'"'+s+">"+n:!i||i<2?e+'<i class="fa '+t+o+'"'+s+"></i>"+n:(i>5&&(i=5),e+'<i class="fa '+t+" fa-"+i+"x"+o+'"'+s+"></i>"+n)}function D(e,n,i,o,r,s){e||(e="div")
var a,l
"string"==typeof i?i.indexOf(":")>0?l=i:a=i:i&&(i.n&&(a=i.n),l=t.style(i)),s&&(a?a+=" "+s:a=s)
var h="<"+e
r&&(h+=' id="'+r+'"'),a&&(h+=' class="'+a+'"'),l&&(h+=' style="'+l+'"')
var u=t.attributes(o)
u&&(h+=" "+u),h+=">"
var p=d(n)
return h+=p[1],"input"==e?p[0]+h+p[2]:(h+="</"+e+">",p[0]+h+p[2])}function A(e,n,i,o){if(!e||!n)return e
var r=t.cls(n.classStyle,n.style),s=t.style(n.style),a=n.type?n.type:"div",l="<"+a
n.id&&(l+=' id="'+n.id+'"'),r&&(l+=' class="'+r+'"'),s&&(l+=' style="'+s+'"')
var h=t.attributes(S)
h&&(l+=" "+h),n.title&&(l+=' title="'+n.title+'"'),l+=">",l+="</"+a+">"
var u=$(l)
return n.element=u,i&&e.append(i),e.append(u),o&&e.append(o),n.wrapper?t.addWrapper(u,n.wrapper,n.begin,n.end):(n.begin&&u.append(n.begin),n.end&&u.append(n.end),u)}function L(e,n){if(e){if("string"==typeof e){if(e.indexOf("<")>=0)return
e.indexOf("#")<0&&(e="#"+e)
var i=t.getComponent(e)
if(i){if(void 0===n)return i.getState()
i.setState(n)}else{if(void 0===n)return $(e).val()
$(e).val(n)}}else if(e instanceof U){if(void 0===n)return e.getState()
e.setState(n)}else if(e instanceof jQuery){if(void 0===n)return e.val()
e.val(n)}else{if(void 0===n)return $(e).val()
$(e).val(n)}return n}}function N(e,n){if(void 0===n&&(n="div"),e){if("string"==typeof e){if(e.indexOf("<")>=0)return
return e.indexOf("#")<0&&(e="#"+e),t.getContainer($(e))}if(e instanceof U){var i=e.getContext()
if(i){var o=i.closest(n)
if(o&&o.length)return o}return i}var o=e.parent().closest(n)
return o&&o.length?o:e.parent()}}function k(t,e,n,i){if(void 0===e&&(e=!0),void 0===n&&(n=!1),t){if(i&&"object"==typeof i){var o=""
for(var r in i)if(i.hasOwnProperty(r)){var s=i[r]
o+="&"+encodeURIComponent(r)+"="+encodeURIComponent(s)}o&&(t.indexOf("?")>0?t+=o:t+="?"+o.substring(1))}n?window.open(t,"_blank"):e?window.location.assign(t):window.location.replace(t)}}t.debug=!1,t.registry=[],t.version="1.0.0"
var U=function(){function e(e,n,i,o,r,s){if(this.mounted=!1,this.debug=t.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),e instanceof jQuery)this.root=e,this.root&&this.root.length&&(this.mounted=!0),this.debug&&console.log("["+f(this)+"] new wrapper root="+f(this.root))
else{"string"==typeof e&&(this.id="*"==e?"w"+this.cuid:e),this.name=n||"WComponent",this._classStyle=o
var a=t.cls(r)
a&&(this._classStyle=this._classStyle?this._classStyle+" "+a:a),this._style=t.style(r),this._attributes=t.attributes(s),this.debug&&console.log("["+f(this)+"] new"),this.debug&&console.log("["+f(this)+"] updateProps",i),this.updateProps(i)}}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(t){this._visible=t,this.internal&&(this.internal.visible=t),this.root&&this.root.length&&(this._visible?this.root.show():this.root.hide())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.root&&this.root.length&&this.root.prop("disabled",!this._enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(e){this._style=t.css(this._baseStyle,e),this.internal&&(this.internal.style=e),this.root&&this.root.length&&this.root.attr("style",this._style)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(e){this.internal&&(this.internal.classStyle=e)
var n=!1,i=!1
e&&e.length>1&&"!"==e.charAt(0)?(e=e.substring(1),n=!0):e&&e.length>1&&"?"==e.charAt(0)&&(e=e.substring(1),i=!0),this._classStyle=n?t.removeClass(this._classStyle,e):i?t.toggleClass(this._classStyle,e):t.cls(this._baseClass,e),this.root&&this.root.length&&(n?this.root.removeClass(e):i?this.root.toggleClass(e):this.root.addClass(this._classStyle))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(t){this._attributes=t,this.internal&&(this.internal.attributes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(t){this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.root&&this.root.length&&this.root.attr("title",this._tooltip)},enumerable:!0,configurable:!0}),e.prototype.css=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(!t||0==t.length)return this
var n=w.apply(void 0,t)
n&&(this.classStyle=n)
var i=_.apply(void 0,t)
return i&&(this.style=i),this},e.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root&&this.root.length&&this.root.focus(),this},e.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root&&this.root.length&&this.root.blur(),this},e.prototype.forceUpdate=function(t){return this.update(this.props,this.state,!1,!1,!0,t),this},e.prototype.getContext=function(){return this.context},e.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot()
if(!this.root){if(this.id){var t=$("#"+this.id)
if(t.length)return t}return this.context}return this.root},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t,e,n){return this.debug&&console.log("["+f(this)+"] setState",t),this.update(this.props,t,!1,!0,this.forceOnChange||e,n),this},e.prototype.getProps=function(){return this.props},e.prototype.setProps=function(t,e,n){return this.debug&&console.log("["+f(this)+"] setProps",t),this.update(t,this.state,!0,!1,this.forceOnChange||e,n),this},e.prototype.on=function(t,e){if(!t)return this
for(var n=t.split(" "),i=0,o=n;i<o.length;i++){var r=o[i]
this.handlers[r]||(this.handlers[r]=[]),this.handlers[r].push(e)}return this.internal&&this.internal.on(t,e),this.root&&this.root.length&&this.root.on(t,e),this},e.prototype.off=function(t){if(t)for(var e=t.split(" "),n=0,i=e;n<i.length;n++){var o=i[n]
delete this.handlers[o]}else this.handlers={}
return this.internal&&this.internal.off(t),this.root&&this.root.length&&this.root.off(t),this},e.prototype.trigger=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o]
if(this.debug&&console.log("["+f(this)+"] trigger",t,i),t){var r=i&&i.length>0?i[0]:void 0
if("_"==t.charAt(0)||"mount"==t||"unmount"==t||"statechange"==t||"propschange"==t){if(void 0!==r&&("statechange"==t?this.state!=i[0]&&(this.state=i[0],this.debug&&console.log("["+f(this)+"] trigger set state",this.state)):"propschange"==t&&this.props!=i[0]&&(this.props=i[0],this.debug&&console.log("["+f(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[t])return this
for(var s=this.createEvent(t,r),a=0,l=this.handlers[t];a<l.length;a++){(0,l[a])(s)}}else this.root&&this.root.length&&(this.debug&&console.log("["+f(this)+"] trigger "+t+" on root="+f(this.root)),(e=this.root).trigger.apply(e,__spreadArrays([t],i)))
return this.internal&&(this.debug&&console.log("["+f(this)+"] trigger "+t+" on internal="+f(this.internal)),(n=this.internal).trigger.apply(n,__spreadArrays([t],i))),this}},e.prototype.unmount=function(){if(this.debug&&console.log("["+f(this)+"] unmount ctx="+f(this.context)+" root="+f(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.length&&this.root.remove(),this.root=void 0,this.id){var e=t.registry.indexOf(this.id)
e>=0&&t.registry.splice(e,1)}return this.mounted=!1,this.trigger("unmount"),this},e.prototype.mount=function(n){this.debug&&console.log("["+f(this)+"] mount ctx="+f(n)+" root="+f(this.root),this.state,this.props),this.id||this.root&&this.root.length&&(this.id=this.root.attr("id")),n&&n.length&&(this.context=n),this.context||this.root&&this.root.length&&(this.context=this.root.parent(),this.context||(this.context=this.root))
try{if(this.mounted&&this.unmount(),this.mounted=!1,!this.context||!this.context.length){var i=$("#"+this.id)
i.length&&(this.context=i)}if(this.debug&&console.log("["+f(this)+"] componentWillMount ctx="+f(n)+" root="+f(this.root)),this.componentWillMount(),this.context&&this.context.length){this.debug&&console.log("["+f(this)+"] render ctx="+f(n)+" root="+f(this.root))
var o=this.render()
if(void 0!==o&&null!==o)if(o instanceof e){if(this.debug&&console.log("["+f(this)+"] render -> "+f(o)),this.internal=o,o.parent||(o.parent=this),o.mount(this.context),!this.root)if(this.id){var i=$("#"+this.id)
this.root=i.length?i:this.internal.getRoot()}else this.root=this.context}else if(o instanceof jQuery)this.context.append(o),this.root||(this.root=o)
else{var r=c(o),s=r[0],a=r[1],l=r[2]
s&&this.context.append(s),this.context.append(a),l&&this.context.append(l),this.root||(this.root=this.id?$("#"+this.id):a)}else this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?$("#"+this.id):this.context)}if(this._visible||(this.internal?this.internal.visible=!1:this.root.hide()),this._enabled||(this.internal?this.internal.enabled=!1:this.root.prop("disabled",!0)),this.debug&&console.log("["+f(this)+"] componentDidMount ctx="+f(n)+" root="+f(this.root)),this.componentDidMount(),this.root&&this.root.length)for(var h in this.handlers)if(h&&"_"!=h.charAt(0)&&"mount"!=h&&"unmount"!=h&&"statechange"!=h&&"propschange"!=h)for(var u=0,p=this.handlers[h];u<p.length;u++){var d=p[u]
this.root.on(h,d)}if(this.root.wuxComponent(this),this.mounted=!0,this.id&&(!this.internal||this.internal.id!=this.id)){if(t.registry.indexOf(this.id)>=0){var g=t.getComponent(this.id)
g&&g.cuid!=this.cuid&&console.error("["+f(this)+"] id already used by "+f(g))}else t.registry.push(this.id)}this.trigger("mount")}catch(t){var b=f(this)+" "+f(this.context)
console.error("["+f(this)+"] mount error "+b,t),this.componentDidCatch(t,b)}return this},e.prototype.componentWillUnmount=function(){},e.prototype.componentWillMount=function(){},e.prototype.render=function(){return this.buildRoot(this.rootTag)},e.prototype.componentDidMount=function(){},e.prototype.componentDidCatch=function(t,e){},e.prototype.shouldComponentUpdate=function(t,e){return"object"==typeof t||"object"==typeof e||(this.props!=t||this.state!=e)},e.prototype.componentWillUpdate=function(t,e){},e.prototype.componentDidUpdate=function(t,e){},e.prototype.updateProps=function(t){this.props=t},e.prototype.updateState=function(t){this.state=t},e.prototype.update=function(t,e,n,i,o,r){void 0===o&&(o=!1),this.debug&&console.log("["+f(this)+"] update",t,e,"propsChange="+n+",stateChange="+i+",force="+o),t=void 0===t?this.props:t
var s=this.props,a=this.state
if(this.dontTrigger=!1,this.mounted){if(o||this.shouldComponentUpdate(t,e)){try{this.debug&&console.log("["+f(this)+"] componentWillUpdate",t,e),this.componentWillUpdate(t,e),n&&(this.debug&&console.log("["+f(this)+"] updateProps",t),this.updateProps(t)),i&&(this.debug&&console.log("["+f(this)+"] updateState",e),this.updateState(e)),o&&this.mount(),this.debug&&console.log("["+f(this)+"] componentDidUpdate",s,a),this.componentDidUpdate(s,a),n&&!this.dontTrigger&&this.trigger("propschange"),i&&!this.dontTrigger&&this.trigger("statechange")}catch(t){return this.componentDidCatch(t,f(this)+"|"+f(this.context)),!1}r&&r()}}else n&&(this.debug&&console.log("["+f(this)+"] updateProps",t),this.updateProps(t),this.dontTrigger||this.trigger("propschange")),i&&(this.debug&&console.log("["+f(this)+"] updateState",e),this.updateState(e),this.dontTrigger||this.trigger("statechange"))
return!0},e.prototype.createEvent=function(t,e){var n=this.root&&this.root.length?this.root.get(0):this.root
return{component:this,element:this.root,target:n,type:t,data:e}},e.prototype.shouldBuildRoot=function(){if(this.internal)return!1
if(this.root&&this.root.length)return!1
if(this.context&&this.context.length){var t=this.context.attr("id")
if(!t&&t==this.id)return!1}return!0},e.prototype.buildRoot=function(t,e,n,i,o,r,s){return this.debug&&console.log("["+f(this)+"] buildRoot",t,e,n,i,o,r,s),this.shouldBuildRoot()?(this.debug&&console.log("["+f(this)+"] shouldBuildRoot() -> true"),this.build(t,e,n,i,o,r,s)):void(this.debug&&console.log("["+f(this)+"] shouldBuildRoot() -> false"))},e.prototype.build=function(e,n,i,o,r,s,a){e||(e="div"),void 0===o&&(o=this._classStyle),void 0===r&&(r=this._style),void 0===s&&(s=this._attributes),void 0===a&&(a=this.id)
var l="<"+e
a&&(l+=' id="'+a+'"'),o&&(l+=' class="'+o+'"'),r&&(l+=' style="'+r+'"')
var h=t.attributes(s)
h&&(l+=" "+h)
var u=t.attributes(i)
u&&(l+=" "+u),l+=">"
var p=d(null==n?this.make():n)
return l+=p[1],"input"==e?p[0]+l+p[2]:(l+="</"+e+">",p[0]+l+p[2])},e.prototype.make=function(){return""},e.prototype.subId=function(t,n){if(t instanceof e){var i=t.id
return i&&this.id?0!=i.indexOf(this.id+"-")?i:i.substring(this.id.length+1):i}return this.id&&"*"!=this.id||(this.id="w"+this.cuid),t&&"*"!=t||(t=(this.subSeq++).toString()),n||0==n?this.id+"-"+t+"-"+n:this.id+"-"+t},e.prototype.ripId=function(t){return t&&this.id&&0==t.indexOf(this.id)&&t.length>this.id.length+1?t.substring(this.id.length+1):t},e.prototype.transferTo=function(t,e,n){return this.debug&&console.log("["+f(this)+"] transferTo "+f(t)),!!t&&(t.setState(this.getState(),e,n),!0)},e}()
t.WComponent=U
!function(t){t.Text="text",t.Number="number",t.Password="password",t.CheckBox="checkbox",t.Radio="radio",t.Date="date",t.DateTime="datetime",t.Time="time",t.File="file",t.Image="image",t.Color="color",t.Email="email",t.Url="url",t.Month="month",t.Week="week",t.Search="search",t.Hidden="hidden",t.Note="note",t.Select="select",t.Static="static",t.Component="component",t.Blank="blank",t.Link="link",t.Integer="integer",t.Cron="crontab",t.TreeSelect="tree",t.Ftp="ftp"}(t.WInputType||(t.WInputType={}))
var M=function(){function e(){}return e.toArrayComponent=function(t){if(!t)return[]
if(Array.isArray(t)&&t.length)return t[0]instanceof U?t:[]
var e=[]
return t instanceof U&&e.push(t),e},e.hasComponents=function(t){return!!t&&(Array.isArray(t)&&t.length?t[0]instanceof U:t instanceof U)},e.toArray=function(t){if(t instanceof U&&(t=t.getState()),null==t)return[]
if(Array.isArray(t))return t
var e=[]
return e.push(t),e},e.toArrayNumber=function(t,n){if(t instanceof U&&(t=t.getState()),null==t)return[]
var i=[]
if(Array.isArray(t))for(var o=0,r=t;o<r.length;o++){var s=r[o],a=e.toNumber(s)
n&&!a||i.push(a)}else{var a=e.toNumber(t)
if(n&&!a)return i
i.push(a)}return i},e.toArrayString=function(t,n){if(t instanceof U&&(t=t.getState()),null==t)return[]
var i=[]
if(Array.isArray(t))for(var o=0,r=t;o<r.length;o++){var s=r[o],a=e.toString(s)
n&&!a||i.push(a)}else{var a=e.toString(t)
if(n&&!a)return i
i.push(e.toString(t))}return i},e.splitNumbers=function(t,n){if(!t)return[]
for(var i=e.toString(t),o=i.split(n),r=[],s=0,a=o;s<a.length;s++){var l=a[s]
r.push(e.toNumber(l))}return r},e.toObject=function(t,e){return t instanceof U&&(t=t.getState()),null==t?e:"object"==typeof t?t:e},e.toString=function(n,i){return void 0===i&&(i=""),n instanceof U&&(n=n.getState()),null==n?i:"string"==typeof n?n:n instanceof Date?t.formatDate(n):"object"==typeof n&&void 0!=n.id?e.toString(n.id,i):Array.isArray(n)&&n.length?e.toString(n[0],i):""+n},e.toText=function(t,n){return void 0===n&&(n=""),e.toString(t,n).replace("<","&lt;").replace(">","&gt;")},e.toNumber=function(t,n){if(void 0===n&&(n=0),t instanceof U&&(t=t.getState()),null==t)return n
if("number"==typeof t)return t
if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()
if("object"==typeof t&&void 0!=t.id)return e.toNumber(t.id,n)
if(Array.isArray(t)&&t.length)return e.toNumber(t[0],n)
var i=(""+t).trim()
i.indexOf(".")>=0&&i.indexOf(",")>=0&&(i=i.replace(".","")),i=i.replace(",",".")
var o=i.indexOf(".")>=n?parseFloat(i):parseInt(i)
return isNaN(o)?n:o},e.toInt=function(t,n){if(void 0===n&&(n=0),t instanceof U&&(t=t.getState()),null==t)return n
if("number"==typeof t)return Math.floor(t)
if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()
if("object"==typeof t&&void 0!=t.id)return e.toInt(t.id,n)
if(Array.isArray(t)&&t.length)return e.toInt(t[0],n)
var i=(""+t).replace(",","."),o=parseInt(i)
return isNaN(o)?n:o},e.toIntTime=function(t,n){if(void 0===n&&(n=0),t instanceof U&&(t=t.getState()),null==t)return n
if(t instanceof Date)return 100*t.getHours()+t.getMinutes()
if(Array.isArray(t)&&t.length)return e.toIntTime(t[0],n)
var i=(""+t).replace(":","").replace(".","").replace(",",""),o=parseInt(i)
return isNaN(o)?n:o},e.isNumeric=function(t){return!isNaN(t)},e.checkEmail=function(t){if(!t)return""
var n=e.toString(t)
if(!n)return""
if(n.length<5)return""
var i=n.indexOf("@")
return i<=0?"":n.lastIndexOf(".")<i?"":n.trim().toLowerCase()},e.starts=function(t,n){return!(!t||null==n)&&0==e.toString(t).indexOf(n)},e.ends=function(t,n){if(!t||null==n)return!1
var i=e.toString(t),o=i.lastIndexOf(n)
return!(o<0)&&o==i.length-n.length},e.isEmpty=function(t){if(!t)return!0
if(Array.isArray(t)&&!t.length)return!0
if("object"==typeof t){for(var e in t)if(t.hasOwnProperty(e))return!1
return!0}return!1},e.toBoolean=function(e,n){return void 0===n&&(n=!1),e instanceof t.WCheck&&(e=e.getProps()),e instanceof U&&(e=e.getState()),null==e?n:"boolean"==typeof e?e:"string"==typeof e&&e.length?"1YyTtSs".indexOf(e.charAt(0))>=0:!!n},e.toDate=function(t,e){if(t instanceof U&&(t=t.getState()),null==t)return e
if(t instanceof Date)return t
if("number"==typeof t)return t<10000101?e:new Date(t/1e4,t%1e4/100-1,t%1e4%100)
if("string"==typeof t){if(t.length<8)return e
var n=t.indexOf(",")
if(n>=0&&(t=t.substring(n+1)),t.indexOf("-")>3)return new Date(t.trim())
if(this.isNumeric(t)){var i=parseInt(t)
return i<10000101?e:new Date(i/1e4,i%1e4/100-1,i%1e4%100)}return new Date(t.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))}return e},e.getWeek=function(t){var n
n=t instanceof Date?new Date(t.getTime()):e.toDate(t),n||(n=new Date),n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7)
var i=new Date(n.getFullYear(),0,4)
return 1+Math.round(((n.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},e.getParam=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&")
var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e)
return i&&i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):""},e.size=function(t){if(!t)return 0
if(Array.isArray(t))return t.length
if("object"==typeof t){var e=0
for(var n in t)t.hasOwnProperty(n)&&e++
return e}return 0},e.setValue=function(t,e,n){return"object"==typeof t&&(t[e]=n),t},e.getValue=function(t,n,i){if(!n)return i
if(Array.isArray(t)&&t.length)return"-1"==n?e.getLast(t,i):e.isNumeric(n)?e.getItem(t,e.toInt(n),i):e.getValue(t[0],n,i)
if("object"==typeof t){var o=n.indexOf(".")
if(null==t[n]&&o>0){var r=n.substring(0,o)
return null==t[r]?i:e.getValue(t[r],n.substring(o+1),i)}return null==t[n]?i:t[n]}return i},e.getItem=function(t,e,n){if(e<0)return n
if(Array.isArray(t)){if(t.length>e){var i=t[e]
return null==i?n:i}return n}return n},e.getEntity=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i]
if(!t)return null
var o
if(Array.isArray(t)){var r=t[0]
return r?(o={id:r},o.text=e.toString(t[1]),null!=t[2]&&(o.code=t[2]),null!=t[3]&&(o.group=t[3]),null!=t[4]&&(o.type=t[4]),null!=t[5]&&(o.date=e.toDate(t[5])),null!=t[6]&&(o.reference=t[6]),null!=t[7]&&(o.value=e.toNumber(t[7])),o):null}if(!n||!n.length)return null
if(n[0]){var r=e.getValue(t,n[0])
if(!r)return null
o={id:r}}return o?(n[1]&&(o.text=e.getString(t,n[1])),n[2]&&(o.code=e.getValue(t,n[2])),n[3]&&(o.group=e.getValue(t,n[3])),n[4]&&(o.type=e.getValue(t,n[4])),n[5]&&(o.date=e.getDate(t,n[5])),n[6]&&(o.reference=e.getValue(t,n[6])),n[7]&&(o.value=e.getNumber(t,n[7])),o):null},e.toEntity=function(t,n){if(!t||!n||!n.id)return null
var i={id:e.getValue(t,n.id)}
return n.text&&(i.text=e.getString(t,n.text)),n.code&&(i.code=e.getValue(t,n.code)),n.group&&(i.group=e.getValue(t,n.group)),n.type&&(i.type=e.getValue(t,n.type)),n.reference&&(i.reference=e.getValue(t,n.reference)),n.enabled&&(i.enabled=e.getBoolean(t,n.enabled)),n.marked&&(i.marked=e.getBoolean(t,n.marked)),n.date&&(i.date=e.getDate(t,n.date)),n.notBefore&&(i.notBefore=e.getDate(t,n.notBefore)),n.expires&&(i.expires=e.getDate(t,n.expires)),n.icon&&(i.icon=e.getString(t,n.icon)),n.color&&(i.color=e.getString(t,n.color)),n.value&&(i.value=e.getNumber(t,n.value)),i},e.getFirst=function(t,e){if(Array.isArray(t)){if(t.length>0){var n=t[0]
return null==n?e:n}return e}return e},e.getLast=function(t,e){if(Array.isArray(t)){if(t.length>0){var n=t[t.length-1]
return null==n?e:n}return e}return e},e.toCode=function(t,e){return void 0===e&&(e=""),t instanceof U&&(t=t.getState()),null==t?e:"string"==typeof t?t:"object"==typeof t&&void 0!=t.code?t.code:Array.isArray(t)&&t.length?t.length>1?t[1]:t[0]:t},e.toDesc=function(t,n){return void 0===n&&(n=""),t instanceof U&&(t=t.getState()),null==t?n:"string"==typeof t?t:"object"==typeof t&&void 0!=t.text?e.toString(t.text,n):Array.isArray(t)&&t.length?e.toString(t[t.length-1],n):e.toString(t,n)},e.getNumber=function(t,n,i){return e.toNumber(e.getValue(t,n,i))},e.getInt=function(t,n,i){return e.toInt(e.getValue(t,n,i))},e.getString=function(n,i,o,r){var s=e.getValue(n,i)
return null==s?o:r?"?"==r?"number"==typeof s?t.formatNum(s):e.toString(s):"c"==r?t.formatCurr(s):"c5"==r?t.formatCurr5(s):"n"==r?t.formatNum(s):"n2"==r?t.formatNum2(s):"m"==r?t.formatMonth(s):"d"==r?t.formatDate(s):"dt"==r?t.formatDateTime(s):"t"==r?t.formatTime(s):e.toString(s):e.toString(s)},e.getText=function(t,n,i){return e.toText(e.getValue(t,n,i))},e.getBoolean=function(t,n,i){return e.toBoolean(e.getValue(t,n,i))},e.getDate=function(t,n,i){return e.toDate(e.getValue(t,n,i))},e.getArray=function(t,n){return e.toArray(e.getValue(t,n))},e.getArrayNumber=function(t,n,i){return e.toArrayNumber(e.getValue(t,n),i)},e.getArrayString=function(t,n,i){return e.toArrayString(e.getValue(t,n),i)},e.getCode=function(t,n,i){return e.toCode(e.getValue(t,n,i))},e.getDesc=function(t,n,i){return e.toDesc(e.getValue(t,n,i))},e.getObject=function(t,n,i){var o=e.toObject(e.getValue(t,n))
return!o&&i?{}:o},e.sort=function(t,n,i){if(void 0===n&&(n=!0),!t)return[]
var o=e.toArray(t)
if(!i){var r=o.sort()
return n?r:r.reverse()}var s=o.sort(function(t,n){var o=e.getValue(t,i),r=e.getValue(n,i)
return o<r?-1:o>r?1:0})
return n?s:s.reverse()},e.find=function(t,n,i){if(!t||!n)return null
for(var o=e.toArray(t),r=0,s=o;r<s.length;r++){var a=s[r],l=e.getValue(a,n)
if(l instanceof Date&&i instanceof Date&&l.getTime()==i.getTime())return a
if(l==i)return a}return null},e.indexOf=function(t,n,i){if(!t||!n)return-1
for(var o=e.toArray(t),r=0;r<o.length;r++){var s=e.getValue(o[r],n)
if(s instanceof Date&&i instanceof Date&&s.getTime()==i.getTime())return r
if(s==i)return r}return-1},e.isSameDate=function(t,e){return this.toNumber(t)==this.toNumber(e)},e.indexOfDate=function(t,n){if(!t||!n)return-1
for(var i=e.toNumber(n),o=0;o<t.length;o++)if(t[o]){var r=e.toNumber(t[o])
if(r==i)return o}return-1},e.round2=function(t){if(null==t)return 0
var n=e.toNumber(t)
return Math.round(100*n)/100},e.floor2=function(t){if(null==t)return 0
var n=e.toNumber(t)
return Math.floor(100*n)/100},e.ceil2=function(t){if(null==t)return 0
var n=e.toNumber(t)
return Math.ceil(100*n)/100},e.compare2=function(t,n){if(!t&&!n)return 0
var i=Math.round(100*e.toNumber(t)),o=Math.round(100*e.toNumber(n))
return i==o?0:i>o?1:-1},e.compare5=function(t,n){if(!t&&!n)return 0
var i=Math.round(1e4*e.toNumber(t)),o=Math.round(1e4*e.toNumber(n))
return i==o?0:i>o?1:-1},e.getCurrDate=function(t,e,n,i,o){var r=new Date
return r.setHours(0,0,0,0),t&&r.setDate(r.getDate()+t),e&&r.setMonth(r.getMonth()+e),n&&r.setFullYear(r.getFullYear()+n),i&&r.setDate(1),o&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},e.calcDate=function(t,e,n,i,o,r){return t=t?new Date(t.getTime()):new Date,t.setHours(0,0,0,0),e&&t.setDate(t.getDate()+e),n&&t.setMonth(t.getMonth()+n),i&&t.setFullYear(t.getFullYear()+i),o&&t.setDate(1),r&&(t.setMonth(t.getMonth()+1),t.setDate(0)),t},e.timestamp=function(t){var n=t?e.toDate(t):new Date
n||(n=new Date)
var i=""+n.getFullYear(),o=n.getMonth()+1,r=o<10?"0"+o:""+o,s=n.getDate(),a=s<10?"0"+s:""+s,l=n.getHours(),h=l<10?"0"+l:""+l,u=n.getMinutes(),p=u<10?"0"+u:""+u,c=n.getSeconds()
return i+r+a+h+p+(c<10?"0"+c:""+c)},e.nvl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(t&&t){for(var n=0,i=t;n<i.length;n++){var o=i[n]
if(!o)return o}return t[0]}},e.eqValues=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]
if(!t&&!e)return!0
if(!t||!e)return!1
for(var o=0,r=n;o<r.length;o++){var s=r[o]
if(t[s]!=e[s])return!1}return!0},e.cat=function(t,n,i,o,r){var s=e.toString(t),a=e.toString(n),l=e.toString(i),h=e.toString(o),u=e.toString(r),p=""
return s&&(p+=s,l&&(p+=l)),a&&(h&&(p+=h),p+=a,u&&(p+=u)),p},e.col=function(t,n,i){var o=[]
if(!t||!t.length)return o
for(var r=0,s=t;r<s.length;r++){var a=s[r]
o.push(e.getItem(a,n,i))}return o},e.getSortedKeys=function(t){if(!t)return[]
var e=[]
for(var n in t)t.hasOwnProperty(n)&&e.push(n)
return e.sort()},e.diffMinutes=function(t,n){var i=e.toDate(t),o=e.toDate(n)
return i||(i=new Date),o||(o=new Date),(i.getTime()-o.getTime())/6e4},e.diffHours=function(t,n){var i=e.toDate(t),o=e.toDate(n)
return i||(i=new Date),o||(o=new Date),(i.getTime()-o.getTime())/36e5},e.diffDays=function(t,n){var i=e.toDate(t),o=e.toDate(n)
i||(i=new Date),o||(o=new Date)
var r=i.getTime()-o.getTime(),s=r/864e5,a=r%864e5,l=a/6e4,h=s
return l>12&&h++,h},e.isValidPhone=function(t){return!!t&&!!t.match("^[0-9]*$")},e}()
t.WUtil=M,t.getId=e,t.firstSub=n,t.lastSub=i,t.getComponent=o,t.getRootComponent=r,t.setProps=s,t.getProps=a,t.setState=l,t.getState=h,t.newInstance=u,t.same=p,t.parse=c,t.divide=d,t.str=f,t.getTagName=g,t.match=b,t.hashCode=y,t.styleObj=v,t.style=m,t.addStyle=C,t.css=_,t.cls=w,t.attributes=S,t.ul=O,t.ol=x,t.buildCss=T,t.removeClass=E,t.toggleClass=R,t.setCss=I,t.buildIcon=W,t.build=D,t.addWrapper=A,t.val=L,t.getContainer=N,t.openURL=k}(WUX||(WUX={}))
var WUX
!function(t){function e(t,e,n,i){_showMessage(t,e,n,i)}function n(t,e,n,i){_showInfo(t,e,n,i)}function i(t,e,n){_showSuccess(t,e,n)}function o(t,e,n){_showWarning(t,e,n)}function r(t,e,n){_showError(t,e,n)}function s(t,e){_confirm(t,e)}function a(t,e,n){_getInput(t,e,n)}function l(){return $("#ptitle")}function h(){return $("#pbreadcrumb")}function u(){return $("#pheader")}function p(){return $("#pfooter")}function c(){return $("#side-menu")}function d(){return $("#view-root")}function f(t){}function g(){}function b(e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),!e)return""
var o=t.WUtil.toDate(e)
if(!o)return""
var r=o.getMonth()+1,s=r<10?"0"+r:""+r,a=o.getDate()<10?"0"+o.getDate():""+o.getDate()
return n?t.formatDay(o.getDay(),i)+", "+a+"/"+s+"/"+o.getFullYear():a+"/"+s+"/"+o.getFullYear()}function y(e,n,i,o){if(void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),!e)return""
var r=t.WUtil.toDate(e)
if(!r)return""
var s=r.getMonth()+1,a=s<10?"0"+s:""+s,l=r.getDate()<10?"0"+r.getDate():""+r.getDate(),h=r.getHours()<10?"0"+r.getHours():""+r.getHours(),u=r.getMinutes()<10?"0"+r.getMinutes():""+r.getMinutes()
if(n){var p=r.getSeconds()<10?"0"+r.getSeconds():""+r.getSeconds()
return i?t.formatDay(r.getDay(),o)+", "+l+"/"+a+"/"+r.getFullYear()+" "+h+":"+u+":"+p:l+"/"+a+"/"+r.getFullYear()+" "+h+":"+u+":"+p}return i?t.formatDay(r.getDay(),o)+", "+l+"/"+a+"/"+r.getFullYear()+" "+h+":"+u:l+"/"+a+"/"+r.getFullYear()+" "+h+":"+u}function v(t,e){if(void 0===e&&(e=!1),null==t)return""
if("number"==typeof t){if(e){var n=Math.floor(t/1e4),i=Math.floor(t%1e4/100),o=t%1e4%100,r=i<10?"0"+i:""+i,s=o<10?"0"+o:""+o
return n+":"+r+":"+s}var n=Math.floor(t/100),i=t%100,r=i<10?"0"+i:""+i
return n+":"+r}if("string"==typeof t)return t.indexOf(":")>0?t:t.length<3?t+":00":t.length>=5?t.substring(0,2)+":"+t.substring(2,4)+":"+t.substring(4):t.substring(0,2)+":"+t.substring(2)
if(t instanceof Date){var a=t.getHours()<10?"0"+t.getHours():""+t.getHours(),l=t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes()
if(e){var s=t.getSeconds()<10?"0"+t.getSeconds():""+t.getSeconds()
return a+":"+l+":"+s}return a+":"+l}return""}function m(e,n,i,o){if(null==e)return""
var r=t.WUtil.toNumber(e),s=(""+Math.round(100*r)/100).replace(".",",")
return null!=n&&0!=r?null!=o&&r<0?o.replace("$",s):n.replace("$",s):null!=i&&0==r?i.replace("$",s):s}function C(e,n,i,o){if(null==e)return""
var r=t.WUtil.toNumber(e),s=(""+r).replace(".",",")
return null!=n&&0!=r?null!=o&&r<0?"l"==o?r.toLocaleString("it-IT"):o.replace("$",s):"l"==n?r.toLocaleString("it-IT"):n.replace("$",s):null!=i&&0==r?i.replace("$",s):s}function _(e,n,i,o){if(null==e)return""
var r=t.WUtil.toNumber(e),s=(Math.round(100*r)/100).toLocaleString("it-IT"),a=s.indexOf(",")
return a<0&&(s+=",00"),a==s.length-2&&(s+="0"),null!=n&&0!=r?null!=o&&r<0?o.replace("$",s):n.replace("$",s):null!=i&&0==r?i.replace("$",s):s}function w(e,n,i,o){if(null==e)return""
var r=t.WUtil.toNumber(e),s=(""+Math.round(1e5*r)/1e5).replace(".",","),a=s.indexOf(",")
if(a<0&&(s+=",00"),a==s.length-2&&(s+="0"),a>0){for(var l=s.substring(0,a),h=s.substring(a),u="",p=1;p<=l.length;p++)p>3&&(p-1)%3==0&&(u="."+u),u=l.charAt(l.length-p)+u
s=u+h}return null!=n&&0!=r?null!=o&&r<0?o.replace("$",s):n.replace("$",s):null!=i&&0==r?i.replace("$",s):s}function S(t){return t?"S":"N"}function O(e){if(null==e)return""
if("string"==typeof e)return e
if("boolean"==typeof e)return t.formatBoolean(e)
if("number"==typeof e){return(""+e).indexOf(".")>=0?t.formatCurr(e):t.formatNum(e)}if(e instanceof Date)return t.formatDate(e)
if(e instanceof t.WComponent){if(e instanceof t.WCheck)return e.checked?e.text:""
if("select"==e.rootTag){var n=e.getProps()
if(Array.isArray(n)&&n.length>1){for(var i="",o=0,r=n;o<r.length;o++){var s=r[o],a=t.WUtil.toString(s)
if(a)if(a.length>9){var l=a.indexOf(" -")
l>0&&(a=a.substring(0,l).trim()),i+=","+a}else i+=","+a}return i.length&&(i=i.substring(1)),i}var a=t.WUtil.toString(e.getProps())
return a||(a=e.getState()),t.format(a)}return t.format(e.getState())}return""+e}function x(t,e){switch(t){case 0:return e?"Domenica":"Dom"
case 1:return e?"Luned&igrave;":"Lun"
case 2:return e?"Marted&igrave;":"Mar"
case 3:return e?"Mercoled&igrave;":"Mer"
case 4:return e?"Giove&igrave;":"Gio"
case 5:return e?"Venerd&igrave;":"Ven"
case 6:return e?"Sabato":"Sab"}return""}function T(t,e,n){switch(t>100&&(n=Math.floor(t/100),t%=100),n=n?" "+n:"",t){case 1:return e?"Gennaio"+n:"Gen"+n
case 2:return e?"Febbraio"+n:"Feb"+n
case 3:return e?"Marzo"+n:"Mar"+n
case 4:return e?"Aprile"+n:"Apr"+n
case 5:return e?"Maggio"+n:"Mag"+n
case 6:return e?"Giugno"+n:"Giu"+n
case 7:return e?"Luglio"+n:"Lug"+n
case 8:return e?"Agosto"+n:"Ago"+n
case 9:return e?"Settembre"+n:"Set"+n
case 10:return e?"Ottobre"+n:"Ott"+n
case 11:return e?"Novembre"+n:"Nov"+n
case 12:return e?"Dicembre"+n:"Dic"+n}return""}function E(e){if(!e)return 0
if("number"==typeof e)return e>0&&e<13?e:0
var n=(""+e).toLowerCase()
if(n.length>3&&(n=n.substring(0,3)),"gen"==n)return 1
if("feb"==n)return 2
if("mar"==n)return 3
if("apr"==n)return 4
if("mag"==n)return 5
if("giu"==n)return 6
if("lug"==n)return 7
if("ago"==n)return 8
if("set"==n)return 9
if("ott"==n)return 10
if("nov"==n)return 11
if("dic"==n)return 12
var i=t.WUtil.toInt(n)
return i>0&&i<13?i:0}function R(e){return e?(e=t.WUtil.toString(e),e=e.replace("À","A'").replace("È","E'").replace("Ì","I'").replace("Ò","O'").replace("Ù","U'"),e=e.replace("à","a'").replace("è","e'").replace("ì","i'").replace("ò","o'").replace("ù","u'"),e=e.replace("á","a`").replace("é","e`").replace("í","i`").replace("ó","o`").replace("ú","u`"),e=e.replace("€","E").replace("ª","a").replace("°","o")):""}function I(e){return e?(e=t.WUtil.toString(e),e=e.replace("A'","À").replace("E'","È").replace("I'","Ì").replace("O'","Ò").replace("U'","Ù"),e=e.replace("a'","à").replace("e'","è").replace("i'","ì").replace("o'","ò").replace("u'","ù"),e=e.replace("a`","á").replace("e`","é").replace("i`","í").replace("o`","ó").replace("u`","ú"),e=e.replace(" pò"," po'")):""}function W(e){return e?(e=t.WUtil.toString(e),e=e.replace("&Agrave;","A'").replace("&Egrave;","E'").replace("&Igrave;","I'").replace("&Ograve;","O'").replace("&Ugrave;","U'"),e=e.replace("&agrave;","a'").replace("&egrave;","e'").replace("&igrave;","i'").replace("&ograve;","o'").replace("&ugrave;","u'"),e=e.replace("&aacute;","a`").replace("&eacute;","e`").replace("&iacute;","i`").replace("&oacute;","o`").replace("&uacute;","u`"),e=e.replace("&euro;","E").replace("&nbsp;"," ").replace("&amp;","&").replace("&gt;",">").replace("&lt;","<").replace("&quot;",'"')):""}function D(e){if(!e)return""
for(var n=t.WUtil.toString(e),i="",o=0,r=0;r<n.length;r++){o=o>=k.length-1?0:o+1
var s=n.charCodeAt(r),a=k.charCodeAt(o),l=s
s>=32&&s<=126&&(l-=a)<32&&(l=127+l-32),i+=String.fromCharCode(l)}return i}function A(e){if(!e)return""
for(var n=t.WUtil.toString(e),i="",o=0,r=0;r<n.length;r++){o=o>=k.length-1?0:o+1
var s=n.charCodeAt(r),a=k.charCodeAt(o),l=s
s>=32&&s<=126&&(l+=a)>126&&(l=31+l-126),i+=String.fromCharCode(l)}return i}var L={},N={}
t.global={locale:"it",main_class:"container-fluid",con_class:"container",box_class:"ibox",box_header:"ibox-title",box_title:"<h5>$</h5>",box_tools:"ibox-tools",box_content:"ibox-content",box_footer:"ibox-footer",chart_bg0:"rgba(26,179,148,0.5)",chart_bg1:"rgba(220,220,220,0.5)",chart_bg2:"rgba(160,220,255,0.5)",chart_bc0:"rgba(26,179,148,0.7)",chart_bc1:"rgba(220,220,220,0.7)",chart_bc2:"rgba(160,220,255,0.7)",chart_p0:"rgba(26,179,148,1)",chart_p1:"rgba(220,220,220,1)",chart_p2:"rgba(160,220,255,1)",area:{b:"-radius:8px",m:"0px 0px 0px 0px",p:"16px 7px 5px 7px",bg:"white"},area_title:{b:"none",f:14,fw:"bold",w:"unset",ps:"relative",t:12,l:0,m:0},section:{b:"#e7eaec",m:"2px 0px 4px 0px",p:"8px 8px 8px 8px",bg:"#fafafa"},section_title:{b:"none",f:16,fw:"600",w:"unset",m:"-bottom:2px",tt:"uppercase"},window_top:{ps:"fixed",t:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},window_bottom:{ps:"fixed",bt:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},init:function(e){t.debug&&console.log("[WUX] global.init..."),t.debug&&console.log("[WUX] global.init completed"),e&&e()},setData:function(t,e,n){if(void 0===n&&(n=!1),t||(t="global"),L[t]=e,!n&&N[t])for(var i=0,o=N[t];i<o.length;i++){var r=o[i]
r(e)}},getData:function(t,e){t||(t="global")
var n=L[t]
return null==n?e:n},onDataChanged:function(t,e){t||(t="global"),N[t]||(N[t]=[]),N[t].push(e)}},t.showMessage=e,t.showInfo=n,t.showSuccess=i,t.showWarning=o,t.showError=r,t.confirm=s,t.getInput=a,t.getPageTitle=l,t.getBreadcrump=h,t.getPageHeader=u,t.getPageFooter=p,t.getPageMenu=c,t.getViewRoot=d,t.sticky=f,t.stickyRefresh=g,t.formatDate=b,t.formatDateTime=y,t.formatTime=v,t.formatNum2=m,t.formatNum=C,t.formatCurr=_,t.formatCurr5=w,t.formatBoolean=S,t.format=O,t.formatDay=x,t.formatMonth=T,t.decodeMonth=E,t.norm=R,t.den=I,t.text=W
var k="@D:=E?('B;F)<=A>C@?):D';@=B<?C;)E:'@=?A(B<=;(?@>E:"
t.encrypt=D,t.decrypt=A
!function(t){t.PRIMARY="btn btn-primary",t.SECONDARY="btn btn-secondary",t.SUCCESS="btn btn-success",t.DANGER="btn btn-danger",t.WARNING="btn btn-warning",t.INFO="btn btn-info",t.LIGHT="btn btn-light",t.DARK="btn btn-dark",t.LINK="btn btn-link",t.WHITE="btn btn-white",t.SM_PRIMARY="btn btn-sm btn-primary btn-block",t.SM_DEFAULT="btn btn-sm btn-default btn-block",t.SM_SECONDARY="btn btn-sm btn-secondary btn-block",t.SM_INFO="btn btn-sm btn-info btn-block",t.SM_DANGER="btn btn-sm btn-danger btn-block",t.SM_WHITE="btn btn-sm btn-white btn-block",t.ACT_PRIMARY="btn btn-sm btn-primary",t.ACT_DEFAULT="btn btn-sm btn-default",t.ACT_SECONDARY="btn btn-sm btn-secondary",t.ACT_INFO="btn btn-sm btn-info",t.ACT_DANGER="btn btn-sm btn-danger",t.ACT_WHITE="btn btn-sm btn-white",t.ACT_OUTLINE_PRIMARY="btn btn-sm btn-primary btn-outline",t.ACT_OUTLINE_DEFAULT="btn btn-sm btn-default btn-outline",t.ACT_OUTLINE_INFO="btn btn-sm btn-info btn-outline",t.ACT_OUTLINE_DANGER="btn btn-sm btn-danger btn-outline"}(t.BTN||(t.BTN={}))
var U=function(){function t(){}return t.STICKY_CONTAINER="data-b2x-sticky-container",t.STICKY_ELEMENT='data-b2x-sticky-element data-b2x-sticky-element-z-index="3"',t.BOX_FILTER='data-b2x-sticky-element data-b2x-sticky-element-ignore-margin-bottom="true" data-b2x-sticky-element-z-index="3"',t}()
t.ATT=U
var M=function(){function t(){}return t.NORMAL={bg:"#ffffff"},t.ERROR={bg:"#fce6e8"},t.WARNING={bg:"#fef3e6"},t.SUCCESS={bg:"#d1f0ea"},t.INFO={bg:"#ddedf6"},t.COMPLETED={bg:"#eeeeee"},t.MARKED={bg:"#fff0be"},t.BTN_MED={w:110,f:12,a:"left"},t.BTN_SMALL={w:90,f:12,a:"left"},t.STACK_BTNS={pt:2,pb:2,a:"center"},t.LINE_BTNS={pl:2,pr:2,a:"center"},t.FORM_CTRL="form-control",t.FORM_CTRL_SM="form-control input-sm",t.FIELD_REQUIRED={c:"#676a96"},t.FIELD_CRITICAL={c:"#aa6a6c"},t.FIELD_INTERNAL={c:"#aa6a6c"},t.LABEL_NOTICE={c:"#aa6a6c",fw:"bold"},t.LABEL_INFO={c:"#676a96",fw:"bold"},t}()
t.CSS=M
var F=function(){function t(){}return t.OK="OK",t.CLOSE="Chiudi",t.NEW="Nuovo",t.OPEN="Modifica",t.DELETE="Elimina",t.SAVE="Salva",t.SEND="Invia",t.SEND_EMAIL="Email",t.FIND="Cerca",t.FORCE="Forza",t.SEARCH="Cerca",t.CANCEL="Annulla",t.RESET="Annulla",t.PRINT="Stampa",t.PRINT_ALL="Stampa Tutto",t.PREVIEW="Anteprima",t.EXPORT="Esporta",t.IMPORT="Importa",t.HELP="Guida",t.VIEW="Vedi",t.ENABLE="Abilita",t.DISABLE="Disabilita",t.ADD="Aggiungi",t.APPLY="Applica",t.REMOVE="Rimuovi",t.REMOVE_ALL="Rim.Tutto",t.REFRESH="Aggiorna",t.UNDO="Annulla",t.SETTINGS="Impostazioni",t.COPY="Copia",t.CUT="Taglia",t.PASTE="Incolla",t.CONFIRM="Conferma",t.FORWARD="Avanti",t.BACKWARD="Indietro",t.NEXT="Prossimo",t.PREVIOUS="Precedente",t.SELECT="Seleziona",t.SELECT_ALL="Sel.Tutto",t.WORK="Lavora",t.AGGREGATE="Aggrega",t.SET="Imposta",t.DEFAULT="Predefinito",t.REWORK="Rielabora",t.PUSH="Spedisci",t.SUSPEND="Sospendi",t.RESUME="Riattiva",t.CODE="Codice",t.DESCRIPTION="Descrizione",t.GROUP="Gruppo",t.ROLE="Ruolo",t.TYPE="Tipo",t.NAME="Nome",t.SIZE="Dim.",t.LAST_MOD="Agg.",t}()
t.TXT=F
var P=function(){function t(){}return t.CONF_DELETE="Eliminare l'elemento selezionato?",t.CONF_DISABLE="Disabilitare l'elemento selezionato?",t.CONF_ENABLE="Abilitare l'elemento selezionato?",t.CONF_CANCEL="Si vogliono annullare le modifiche apportate?",t.CONF_PROCEED="Si vuole procedere con l'operazione?",t.CONF_OVERWRITE="Si vuole procedere con la sovrascrittura?",t.INVALID_DATE="Data selezionata non ammessa.",t.INVALID_VALUE="Valore non ammesso.",t.MSG_COMPLETED="Operazione completata con successo.",t.MSG_ERRORS="Si sono verificati degli errori durante l'elaborazione.",t}()
t.MSG=P
var H
!function(t){t.LARGE="fa-lg ",t.ADDRESS_CARD="fa-address-card",t.ANGLE_DOUBLE_LEFT="fa-angle-double-left",t.ANGLE_DOUBLE_RIGHT="fa-angle-double-right",t.ANGLE_LEFT="fa-angle-left",t.ANGLE_RIGHT="fa-angle-right",t.ARROW_CIRCLE_DOWN="fa-arrow-circle-down",t.ARROW_CIRCLE_LEFT="fa-arrow-circle-left",t.ARROW_CIRCLE_O_DOWN="fa-arrow-circle-o-down",t.ARROW_CIRCLE_O_LEFT="fa-arrow-circle-o-left",t.ARROW_CIRCLE_O_RIGHT="fa-arrow-circle-o-right",t.ARROW_CIRCLE_O_UP="fa-arrow-circle-o-up",t.ARROW_CIRCLE_RIGHT="fa-arrow-circle-right",t.ARROW_CIRCLE_UP="fa-arrow-circle-up",t.ARROW_DOWN="fa-arrow-down",t.ARROW_LEFT="fa-arrow-left",t.ARROW_RIGHT="fa-arrow-right",t.ARROW_UP="fa-arrow-up",t.BOLT="fa-bolt",t.BACKWARD="fa-backward",t.BOOKMARK="fa-bookmark",t.BOOKMARK_O="fa-bookmark-o",t.CALENDAR="fa-calendar",t.CALCULATOR="fa-calculator",t.CHAIN="fa-chain",t.CHAIN_BROKEN="fa-chain-broken",t.CHECK="fa-check",t.CHECK_CIRCLE="fa-check-circle",t.CHECK_CIRCLE_O="fa-check-circle-o",t.CHECK_SQUARE="fa-check-square",t.CHECK_SQUARE_O="fa-check-square-o",t.CHEVRON_DOWN="fa-chevron-down",t.CHEVRON_UP="fa-chevron-up",t.CLOCK_O="fa-clock-o",t.CLOSE="fa-close",t.COG="fa-cog",t.COMMENT="fa-comment",t.COMMENTS_O="fa-comments-o",t.COPY="fa-copy",t.CUT="fa-cut",t.DATABASE="fa-database",t.EDIT="fa-edit",t.ENVELOPE_O="fa-envelope-o",t.EXCHANGE="fa-exchange",t.FILE="fa-file",t.FILE_O="fa-file-o",t.FILE_CODE_O="fa-file-code-o",t.FILE_PDF_O="fa-file-pdf-o",t.FILE_TEXT_O="fa-file-text-o",t.FILES="fa-files-o",t.FILTER="fa-filter",t.FOLDER="fa-folder",t.FOLDER_O="fa-folder-o",t.FOLDER_OPEN="fa-folder-open",t.FOLDER_OPEN_O="fa-folder-open-o",t.FORWARD="fa-forward",t.GRADUATION_CAP="fa-graduation-cap",t.INFO_CIRCLE="fa-info-circle",t.LIFE_RING="fa-life-ring",t.LINK="fa-link",t.LEGAL="fa-legal",t.LIST="fa-list",t.MINUS="fa-minus",t.MINUS_SQUARE_O="fa-minus-square-o",t.PASTE="fa-paste",t.PENCIL="fa-pencil",t.PIE_CHART="fa-pie-chart",t.PLUS="fa-plus",t.PLUS_SQUARE_O="fa-plus-square-o",t.PRINT="fa-print",t.QUESTION_CIRCLE="fa-question-circle",t.RANDOM="fa-random",t.RECYCLE="fa-recycle",t.REFRESH="fa-refresh",t.SEARCH="fa-search",t.SEARCH_MINUS="fa-search-minus",t.SEARCH_PLUS="fa-search-plus",t.SEND="fa-send",t.SHARE_SQUARE_O="fa-share-square-o",t.SHOPPING_CART="fa-shopping-cart",t.SIGN_IN="fa-sign-in",t.SIGN_OUT="fa-sign-out",t.SQUARE="fa-square",t.SQUARE_O="fa-square-o",t.TH_LIST="fa-th-list",t.THUMBS_O_DOWN="fa-thumbs-o-down",t.THUMBS_O_UP="fa-thumbs-o-up",t.TIMES="fa-times",t.TIMES_CIRCLE="fa-times-circle",t.TOGGLE_OFF="fa-toggle-off",t.TOGGLE_ON="fa-toggle-on",t.TRASH="fa-trash",t.TRUCK="fa-truck",t.UNDO="fa-undo",t.UPLOAD="fa-upload",t.USER="fa-user",t.USER_O="fa-user-o",t.USERS="fa-users",t.WARNING="fa-warning",t.WIFI="fa-wifi",t.WRENCH="fa-wrench"}(H=t.WIcon||(t.WIcon={}))
var B=function(){function t(){}return t.TRUE=H.CHECK_SQUARE_O,t.FALSE=H.SQUARE_O,t.CLOSE=H.TIMES,t.OK=H.CHECK,t.CALENDAR=H.CALENDAR,t.AGGREGATE=H.CHAIN,t.NEW=H.PLUS_SQUARE_O,t.EDIT=H.EDIT,t.OPEN=H.EDIT,t.DELETE=H.TRASH,t.DETAIL=H.FILE_TEXT_O,t.SAVE=H.CHECK,t.FIND=H.SEARCH,t.FIND_DIFF=H.SEARCH_MINUS,t.FIND_PLUS=H.SEARCH_PLUS,t.FORCE=H.CHECK_CIRCLE,t.FORCE_ALL=H.CHECK_CIRCLE_O,t.SEARCH=H.SEARCH,t.CANCEL=H.UNDO,t.RESET=H.TIMES_CIRCLE,t.PRINT=H.PRINT,t.PREVIEW=H.SEARCH_PLUS,t.EXPORT=H.SHARE_SQUARE_O,t.IMPORT=H.SIGN_IN,t.FILE=H.FILE_O,t.HELP=H.QUESTION_CIRCLE,t.VIEW=H.FILE_TEXT_O,t.ENABLE=H.THUMBS_O_UP,t.DISABLE=H.THUMBS_O_DOWN,t.ADD=H.PLUS,t.APPLY=H.CHECK,t.REMOVE=H.MINUS,t.REFRESH=H.REFRESH,t.UNDO=H.UNDO,t.SETTINGS=H.COG,t.OPTIONS=H.CHECK_SQUARE,t.PASSWORD=H.UNDO,t.COPY=H.COPY,t.CUT=H.CUT,t.PASTE=H.PASTE,t.FORWARD=H.ANGLE_DOUBLE_RIGHT,t.BACKWARD=H.ANGLE_DOUBLE_LEFT,t.NEXT=H.FORWARD,t.PREVIOUS=H.BACKWARD,t.CONFIRM=H.CHECK,t.FILTER=H.FILTER,t.SEND=H.SEND,t.SEND_EMAIL=H.ENVELOPE_O,t.WAIT=H.COG,t.WORK=H.COG,t.CONFIG=H.COG,t.LEFT=H.ARROW_CIRCLE_LEFT,t.RIGHT=H.ARROW_CIRCLE_RIGHT,t.SELECT_ALL=H.TH_LIST,t.REWORK=H.REFRESH,t.PUSH=H.TRUCK,t.AHEAD=H.ANGLE_DOUBLE_RIGHT,t.SUSPEND=H.TOGGLE_OFF,t.RESUME=H.RECYCLE,t.PAIRING=H.RANDOM,t.CHECK=H.CHECK_SQUARE_O,t.EVENT=H.BOLT,t.MESSAGE=H.ENVELOPE_O,t.USER=H.USER_O,t.GROUP=H.USERS,t.TOOL=H.WRENCH,t.DEMOGRAPHIC=H.ADDRESS_CARD,t.DOCUMENT=H.FILE_TEXT_O,t.LINKS=H.CHAIN,t.WARNING=H.WARNING,t.INFO=H.INFO_CIRCLE,t.CRITICAL=H.TIMES_CIRCLE,t}()
t.ICO=B}(WUX||(WUX={}))
var WUX
!function(t){var e=function(e){function n(n,i,o,r,s,a,l){var h=e.call(this,n,"WContainer",a,i,t.style(o),r)||this
return h.inline=!1,h.components=[],h.inline=s,l&&(h._classStyle=h._classStyle?h._classStyle+" "+l:l),h.rootTag=s?"span":"div","aside"==a&&(h.rootTag="aside"),h}return __extends(n,e),n.create=function(t){if(!t)return new n
var e=t.type?"<"+t.type+">":"",i=new n(t.id,t.classStyle,t.style,t.attributes,!1,e)
return i.wrapper=t.wrapper,i},n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.stateComp&&this.stateComp.setState(this.state)},n.prototype.getState=function(){return this.stateComp&&(this.state=this.stateComp.getState()),this.state},n.prototype.on=function(t,n){return e.prototype.on.call(this,t,n),"statechange"==t&&this.stateComp&&this.stateComp.on("statechange",n),this},n.prototype.off=function(t){return e.prototype.off.call(this,t),"statechange"==t&&this.stateComp&&this.stateComp.off("statechange"),this},n.prototype.trigger=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o]
return e.prototype.trigger.apply(this,__spreadArrays([t],i)),"statechange"==t&&this.stateComp&&(n=this.stateComp).trigger.apply(n,__spreadArrays(["statechange"],i)),this},n.prototype.setLayout=function(t){this.layoutManager=t},n.prototype.section=function(e,n,i){return this.legend=e,this.fieldsetStyle=n?t.css(t.global.section,n):t.global.section,this.legendStyle=i?t.css(t.global.section_title,i):t.global.section_title,this},n.prototype.area=function(e,n,i){return this.legend=e,this.fieldsetStyle=n?t.css(t.global.area,n):t.global.area,this.legendStyle=i?t.css(t.global.area_title,i):t.global.area_title,this},n.prototype.end=function(){return this.parent instanceof n?this.parent.end():this},n.prototype.grid=function(){return"row"==this.props&&this.parent instanceof n?this.parent:this.parent instanceof n?this.parent.grid():this},n.prototype.row=function(){if("row"==this.props)return this
if(!this.parent){if(!this.components||!this.components.length)return this
for(var t=this.components.length-1;t>=0;t--){var e=this.components[t]
if(e instanceof n&&"row"==e.getProps())return e}return this}return this.parent instanceof n?this.parent.row():this},n.prototype.col=function(){return"col"==this.props?this:this.parent instanceof n?this.parent.col():this},n.prototype.addDiv=function(e,n,i,o){if("number"==typeof e){if(e<1)return this
var r=t.build("div",n,{h:e,n:i})
return this.add($(r))}var r=t.build("div",n,e,i,o)
return this.add($(r))},n.prototype.addSpan=function(e,n,i,o){if("number"==typeof e){var r=t.build("span",n,{w:e,d:"inline-block",a:"center",n:i})
return this.add($(r))}var r=t.build("span",n,e,i,o)
return this.add($(r))},n.prototype.addGroup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]
if(t){var i=this.addContainer(t)
if(!e||!e.length)return this
for(var o=0,r=e;o<r.length;o++){var s=r[o]
i.add(s)}return this}if(!e||!e.length)return this
for(var a=0,l=e;a<l.length;a++){var s=l[a]
this.add(s)}return this},n.prototype.add=function(e,n){if(!e)return this
e instanceof t.WComponent&&(e.parent||(e.parent=this))
var i
return"string"==typeof e&&e.length>0&&"<"==e.charAt(0)&&">"==e.charAt(e.length-1)&&(i=$(e)),i||(i=e),this.components.push(i),this.layoutManager&&this.layoutManager.addLayoutComponent(i,n),this},n.prototype.remove=function(t){if(t<0&&(t=this.components.length+t),!(t<0||t>=this.components.length)){var e=this.components.splice(t,1)
return this.layoutManager&&e.length&&this.layoutManager.removeLayoutComponent(e[0]),this}},n.prototype.removeAll=function(){if(this.layoutManager)for(var e=0,n=this.components;e<n.length;e++){var i=n[e]
this.layoutManager.removeLayoutComponent(i)}if(this.mounted){this.parent=null
for(var o=0,r=this.components;o<r.length;o++){var s=r[o]
s instanceof t.WComponent&&s.unmount()}}return this.components=[],this},n.prototype.addRow=function(t,e,i,o){var r=null==t?"row":t,s=new n(i,r,e,o,!1,"row")
return s.name=s.name+"_row",this.grid().addContainer(s)},n.prototype.addCol=function(e,i,o,r){t.WUtil.isNumeric(e)&&(e="col-md-"+e)
var s=null==e?"col":e,a=new n(o,s,i,r,!1,"col")
return a.name=a.name+"_col",this.row().addContainer(a)},n.prototype.addASide=function(t,e,i,o){var r=new n(i,t,e,o,!1,"aside")
return r.name=r.name+"_aside",this.end().addContainer(r)},n.prototype.addBox=function(t,e,n,o,r){var s=new i(o,t,e,n,r)
return this.addContainer(s),s},n.prototype.addText=function(e,n,i,o,r,s){if(!e||!e.length)return this
var a=""
if(n){var l=n.indexOf(" ")
a=l>0?n.substring(0,l):n}for(var h="",u=0,p=e;u<p.length;u++){var c=p[u]
if(c&&c.length>3){var d=c.substring(0,3)
if("<ul"==d||"<ol"==d||"<li"==d||"<di"==d){h+=c
continue}}h+=n&&"br"!=n?"<"+n+">"+c+"</"+a+">":c+"<br>"}return i||o||r||s?this.add(t.build("div",h,o,s,r,i)):this.add(h),this},n.prototype.findBox=function(t){var e=""
t&&t.length>1&&"#"==t.charAt(0)&&(e=t.substring(1))
for(var o=0,r=this.components;o<r.length;o++){var s=r[o]
if(s instanceof i)if(e){if(s.id==e)return s}else{if(!t)return s
if(s.title==t||s.id==t)return s}else if(s instanceof n){var a=s.findBox(t)
if(!a)return a}}return null},n.prototype.addStack=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o]
if(!i||0==i.length)return this
for(var r=t.style(e),s=t.cls(e),a=0;a<i.length;a++){var l=new n(this.subId(),s,r).add(i[a])
l.name=l.name+"_stack_"+a,this.addContainer(l)}return this},n.prototype.addLine=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o]
if(!i||0==i.length)return this
for(var r=t.style(e),s=t.cls(e),a=0;a<i.length;a++){var l=i[a],h=this.subId(),u=void 0
u=s||r?s?new n(h,s,null,null,!0).add(l):new n(h,"",r,null,!0).add(l):new n(h,"",null,null,!0).add(l),u.name=u.name+"_line_"+a,this.addContainer(u)}return this},n.prototype.addContainer=function(e,i,o,r,s,a){if(e instanceof n)return null==this._classStyle&&e._classStyle&&0==e._classStyle.indexOf("row")&&(this.parent instanceof n?this._classStyle=t.global.con_class:this._classStyle=t.global.main_class),e.parent=this,e.layoutManager||(e.layoutManager=this.layoutManager),this.components.push(e),this.layoutManager&&this.layoutManager.addLayoutComponent(e,i),e
if("string"==typeof e){var l=new n(e,i,o,r,s,a)
return l.layoutManager||(l.layoutManager=this.layoutManager),this.components.push(l),this.layoutManager&&this.layoutManager.addLayoutComponent(l),l}if(!e)return this
var h=n.create(e)
return h.parent=this,h.layoutManager=this.layoutManager,this.components.push(h),this.layoutManager&&this.layoutManager.addLayoutComponent(h,i),h},n.prototype.render=function(){return this.parent||this._classStyle||this._style?this.build(this.rootTag):this.buildRoot(this.rootTag)},n.prototype.make=function(){if(null==this.legend)return""
var e=this.fieldsetStyle?' style="'+t.style(this.fieldsetStyle)+'"':"",n=this.legendStyle?' style="'+t.style(this.legendStyle)+'"':""
return'<fieldset id="'+this.subId("fs")+'"'+e+"><legend"+n+">"+this.legend+"</legend></fieldset>"},n.prototype.componentDidMount=function(){var e=this.root
if(null!=this.legend){var n=$("#"+this.subId("fs"))
n&&n.length&&(e=n)}if(this.wrapper&&(e=t.addWrapper(e,this.wrapper)),this.layoutManager)return void this.layoutManager.layoutContainer(this,e)
for(var i=0,o=this.components;i<o.length;i++){var r=o[i]
r instanceof t.WComponent?r.mount(e):e.append(r)}},n.prototype.componentWillUnmount=function(){for(var e=0,n=this.components;e<n.length;e++){var i=n[e]
i instanceof t.WComponent&&i.unmount()}},n.prototype.rebuild=function(){var e=this.root
if(null!=this.legend){var n=$("#"+this.subId("fs"))
n&&n.length&&(e=n)}if(e.empty(),this.wrapper&&(e=t.addWrapper(e,this.wrapper)),this.layoutManager)return void this.layoutManager.layoutContainer(this,e)
for(var i=0,o=this.components;i<o.length;i++){var r=o[i]
r instanceof t.WComponent?r.mount(e):e.append(r)}return this},n}(t.WComponent)
t.WContainer=e
var n=function(){function e(){this.mapConstraints={},this.mapComponents={}}return e.prototype.addLayoutComponent=function(e,n){if(e&&n){var i=t.getId(e)
i&&(this.mapConstraints[i]=n,this.mapComponents[n]=e)}},e.prototype.removeLayoutComponent=function(e){var n=t.getId(e)
if(n){var i=this.mapConstraints[n]
delete this.mapConstraints[n],i&&delete this.mapComponents[i]}},e.prototype.layoutContainer=function(e,n){for(var i=t.getId(this.currComp),o=0,r=e.components;o<r.length;o++){var s=r[o],a=t.getId(s),l=!1
a&&a!=i&&this.mapConstraints[a]&&(l=!0),s instanceof t.WComponent?(l&&(s.visible=!1),s.mount(n)):s instanceof jQuery&&l&&s.hide()}},e.prototype.show=function(e,n){var i=this.mapComponents[n]
i&&(this.currComp instanceof t.WComponent?this.currComp.visible=!1:this.currComp instanceof jQuery&&this.currComp.show(),i instanceof t.WComponent?(i.visible=!0,this.currComp=i):this.currComp instanceof jQuery?(i.show(),this.currComp=i):this.currComp=void 0)},e}()
t.WCardLayout=n
var i=function(n){function i(e,i,o,r,s){var a=n.call(this,e,t.global.box_class,r,s,!1,"box")||this
return a.TOOL_COLLAPSE="collapse-link",a.TOOL_CLOSE="close-link",a.TOOL_FILTER="filter-link",a.name="WBox",a._addClassStyle=o,a.title=i,a}return __extends(i,n),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this.header.remove(0),this._title=e,e&&("<"!=e.charAt(0)&&t.global.box_title?this.header.add(t.global.box_title.replace("$",e)):this.header.add(e))},enumerable:!0,configurable:!0}),i.prototype.addTool=function(n,i,o,r){var s=this
if(!n)return this
if("string"==typeof n){i||(i=t.ICO.TOOL),this.cntls||(this.cntls=new e("",t.global.box_tools),this.header.add(this.cntls),this.tools={})
var a=$('<a class="'+n+'">'+t.buildIcon(i)+"</a>")
this.cntls.add(a),this.tools[n]=a,r?n==this.TOOL_COLLAPSE?this.handlers["_"+this.TOOL_COLLAPSE]=[function(t){s.collapse(r)}]:this.handlers["_"+n]=[r]:(n==this.TOOL_COLLAPSE&&(this.handlers["_"+this.TOOL_COLLAPSE]=[function(t){s.collapse()}]),n==this.TOOL_CLOSE&&(this.handlers["_"+this.TOOL_CLOSE]=[function(t){s.close()}]))}else this.header.add(n)
return this},i.prototype.addCollapse=function(e){return this.addTool(this.TOOL_COLLAPSE,t.WIcon.CHEVRON_UP,"",e),this},i.prototype.addClose=function(e){return this.addTool(this.TOOL_CLOSE,t.WIcon.TIMES,"",e),this},i.prototype.addFilter=function(e){return this.addTool(this.TOOL_FILTER,t.WIcon.FILTER,"",e),this},Object.defineProperty(i.prototype,"header",{get:function(){return this._header?this._header:this._header=new e("",t.cls(t.global.box_header,this._addClassStyle))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"footer",{get:function(){return this._footer?this._footer:this._footer=new e("",t.cls(t.global.box_footer,this._addClassStyle))},enumerable:!0,configurable:!0}),i.prototype.componentDidMount=function(){this._header&&this._header.mount(this.root)
var e=$(this.build("div","","",t.cls(t.global.box_content,this._addClassStyle),void 0,null))
this.root.append(e)
for(var n=0,i=this.components;n<i.length;n++){var o=i[n]
o instanceof t.WComponent?o.mount(e):e.append(o)}if(this._footer&&this._footer.mount(this.root),this.tools)for(var r in this.tools){var s=this.handlers["_"+r]
if(s&&s.length)for(var a=0,l=s;a<l.length;a++){var h=l[a]
this.tools[r].click(h)}}},i.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this),this._header&&this._header.unmount(),this._footer&&this._footer.unmount()},i.prototype.end=function(){return this.parent instanceof e?this.parent:this},i.prototype.addRow=function(t,n,i,o){var r=null==t?"row":t,s=new e(i,r,n,o,!1,"row")
return s.name=s.name+"_row",this.content.addContainer(s)},i.prototype.collapse=function(e){if(!this.root)return this
if(e){e(this.createEvent("_"+this.TOOL_COLLAPSE,{collapsed:this.isCollapsed()}))}this.tools&&this.tools[this.TOOL_COLLAPSE]&&this.tools[this.TOOL_COLLAPSE].find("i").toggleClass(t.WIcon.CHEVRON_UP).toggleClass(t.WIcon.CHEVRON_DOWN)
var n=this.root
return n.children(".ibox-content").slideToggle(200),n.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){n.resize(),n.find("[id^=map-]").resize()},50),this},i.prototype.expand=function(t){return this.isCollapsed()&&this.collapse(t),this},i.prototype.isCollapsed=function(){return!!this.root&&this.tools[this.TOOL_COLLAPSE].find("i").hasClass(t.WIcon.CHEVRON_DOWN)},i.prototype.close=function(){if(!this.root)return this
this.root.remove()},i}(e)
t.WBox=i
var o=function(n){function i(e,i,o,r,s,a,l){void 0===i&&(i="WDialog"),void 0===o&&(o=!0),void 0===r&&(r=!0)
var h=n.call(this,e,i,void 0,s,a,l)||this
return h.buttons=[],h.tagTitle="h3",r&&(o||(h.txtCancel=t.TXT.CLOSE),h.buttonCancel()),o&&h.buttonOk(),h.ok=!1,h.cancel=!1,h.isShown=!1,h.id&&"*"!=h.id&&$("#"+h.id).length&&$("#"+h.id).remove(),WuxDOM.onRender(function(t){h.mounted||h.mount(t.element)}),h}return __extends(i,n),i.prototype.onShownModal=function(t){this.on("shown.bs.modal",t)},i.prototype.onHiddenModal=function(t){this.on("hidden.bs.modal",t)},Object.defineProperty(i.prototype,"header",{get:function(){return this.cntHeader?this.cntHeader:(this.cntHeader=new e("","modal-header"),this.btnCloseHeader=new u(this.subId("bhc"),'<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',void 0,"close","",'data-dismiss="modal"'),this.cntHeader.add(this.btnCloseHeader),this.cntHeader)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this.cntBody?this.cntBody:(this.cntBody=new e("",t.cls("modal-body",this._classStyle),"",this._attributes),this.cntBody)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"footer",{get:function(){return this.cntFooter?this.cntFooter:(this.cntFooter=new e("","modal-footer"),this.cntFooter)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.cntHeader?(this._title=t,this.cntHeader.getRoot().children(this.tagTitle+":first").text(t)):(this._title=t,this.header.add(this.buildTitle(t)))},enumerable:!0,configurable:!0}),i.prototype.onClickOk=function(){return!0},i.prototype.onClickCancel=function(){return!0},i.prototype.buildBtnOK=function(){return new u(this.subId("bfo"),t.TXT.OK,"",t.BTN.INFO+" button-sm","","")},i.prototype.buildBtnCancel=function(){return this.txtCancel?new u(this.subId("bfc"),this.txtCancel,"",t.BTN.SECONDARY+" button-sm","",""):new u(this.subId("bfc"),t.TXT.CANCEL,"",t.BTN.SECONDARY+" button-sm","","")},i.prototype.buttonOk=function(){var t=this
if(this.btnOK)return this.btnOK
this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(e){t.onClickOk()&&(t.ok=!0,t.cancel=!1,t.root.modal("hide"))}),this.buttons.push(this.btnOK)},i.prototype.buttonCancel=function(){var t=this
if(this.btnCancel)return this.btnCancel
this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(e){t.onClickCancel()&&(t.ok=!1,t.cancel=!0,t.root.modal("hide"))}),this.buttons.push(this.btnCancel)},i.prototype.show=function(t,e){this.beforeShow()&&(this.ok=!1,this.cancel=!1,this.parent=t,this.parentHandler=e,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&this.root.modal({backdrop:"static",keyboard:!1}))},i.prototype.hide=function(){this.root&&this.root.length&&this.root.modal("hide")},i.prototype.close=function(){this.ok=!1,this.cancel=!1,this.root&&this.root.length&&this.root.modal("hide")},i.prototype.selection=function(e,n){if(!e)return!1
var i=e.getSelectedRows()
if(!i||!i.length)return n&&t.showWarning(n),!1
var o=e.getSelectedRowsData()
if(!o||!o.length)return n&&t.showWarning(n),!1
if(null==this.props||"number"==typeof this.props){var r=i[0]
this.setProps(r)}return this.setState(o[0]),!0},i.prototype.beforeShow=function(){return!0},i.prototype.onShown=function(){},i.prototype.onHidden=function(){},i.prototype.render=function(){this.isShown=!1,this.cntRoot=new e(this.id,"modal inmodal fade","",'role="dialog" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("","modal-dialog modal-lg",this._style),this.cntContent=this.cntMain.addContainer("","modal-content"),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody)
for(var t=0,n=this.buttons;t<n.length;t++){var i=n[t]
this.footer.add(i)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},i.prototype.componentDidMount=function(){var t=this
this.root.on("shown.bs.modal",function(e){t.isShown=!0,t.onShown()}),this.root.on("hidden.bs.modal",function(e){t.isShown=!1,t.onHidden(),t.parentHandler&&(t.parentHandler(e),t.parentHandler=null)})},i.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},i.prototype.buildTitle=function(e){return this.tagTitle||(this.tagTitle="h3"),"<"+this.tagTitle+">"+t.WUtil.toText(e)+"</"+this.tagTitle+">"},i}(t.WComponent)
t.WDialog=o
var r=function(n){function i(e,i,o,r,s,a,l){void 0===i&&(i="WFullDialog"),void 0===o&&(o=!0),void 0===r&&(r=!0)
var h=n.call(this,e,i,void 0,s,a,l)||this
return h.buttons=[],h.tagTitle="h3",r&&(o||(h.txtCancel=t.TXT.CLOSE),h.buttonCancel()),o&&h.buttonOk(),h.ok=!1,h.cancel=!1,h.isShown=!1,h.id&&"*"!=h.id&&$("#"+h.id).length&&$("#"+h.id).remove(),WuxDOM.onRender(function(t){h.mounted||h.mount(t.element)}),h}return __extends(i,n),i.prototype.onShownModal=function(t){this.handlers._pageshown||(this.handlers._pageshown=[]),this.handlers._pageshown.push(t)},i.prototype.onHiddenModal=function(t){this.handlers._pagehidden||(this.handlers._pagehidden=[]),this.handlers._pagehidden.push(t)},Object.defineProperty(i.prototype,"header",{get:function(){var t=this
return this.cntHeader?this.cntHeader:(this.cntHeader=new e("","modal-header"),this.btnCloseHeader=new u(this.subId("bhc"),'<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',void 0,"close"),this.btnCloseHeader.on("click",function(e){t.close()}),this.cntHeader.add(this.btnCloseHeader),this.cntHeader)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this.cntBody?this.cntBody:(this.cntBody=new e("",t.cls("modal-body",this._classStyle),"",this._attributes),this.cntBody)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"footer",{get:function(){return this.cntFooter?this.cntFooter:(this.cntFooter=new e("","modal-footer"),this.cntFooter)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.cntHeader?(this._title=t,this.cntHeader.getRoot().children(this.tagTitle+":first").text(t)):(this._title=t,this.header.add(this.buildTitle(t)))},enumerable:!0,configurable:!0}),i.prototype.onClickOk=function(){return!0},i.prototype.onClickCancel=function(){return!0},i.prototype.buildBtnOK=function(){return new u(this.subId("bfo"),t.TXT.OK,"",t.BTN.INFO+" button-sm","","")},i.prototype.buildBtnCancel=function(){return this.txtCancel?new u(this.subId("bfc"),this.txtCancel,"",t.BTN.SECONDARY+" button-sm","",""):new u(this.subId("bfc"),t.TXT.CANCEL,"",t.BTN.SECONDARY+" button-sm","","")},i.prototype.buttonOk=function(){var t=this
if(this.btnOK)return this.btnOK
this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(e){t.onClickOk()&&(t.ok=!0,t.cancel=!1,t.hide())}),this.buttons.push(this.btnOK)},i.prototype.buttonCancel=function(){var t=this
if(this.btnCancel)return this.btnCancel
this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(e){t.onClickCancel()&&(t.ok=!1,t.cancel=!0,t.hide())}),this.buttons.push(this.btnCancel)},i.prototype.show=function(t,e){if(this.beforeShow()&&(this.ok=!1,this.cancel=!1,this.parent=t,this.parentHandler=e,this.mounted||WuxDOM.mount(this),this.root&&this.root.length)){if(i.fullDialogsShown.length?i.fullDialogsShown[i.fullDialogsShown.length-1].visible=!1:this.hideView(),this.cntRoot.visible=!0,this.isShown=!0,this.onShown(),i.fullDialogsShown.push(this),!this.handlers._pageshown)return
for(var n=0,o=this.handlers._pageshown;n<o.length;n++){(0,o[n])(this.createEvent("_pageshown"))}}},i.prototype.hide=function(t){if(this.root&&this.root.length){if(this.cntRoot.visible=!1,this.isShown=!1,this.onHidden(),i.fullDialogsShown.pop(),i.fullDialogsShown.length?i.fullDialogsShown[i.fullDialogsShown.length-1].visible=!0:this.showView(),this.parentHandler&&(this.parentHandler(t),this.parentHandler=null),!this.handlers._pagehidden)return
for(var e=0,n=this.handlers._pagehidden;e<n.length;e++){(0,n[e])(this.createEvent("_pagehidden"))}}},i.prototype.showView=function(){if(this.parent){var e=t.getRootComponent(this.parent)
e&&(e.visible=!0)}if(this.phHidden){var n=t.getPageHeader()
n&&n.length&&n.show(),this.phHidden=!1}},i.prototype.hideView=function(){if(this.phHidden=!1,this.parent){var e=t.getRootComponent(this.parent)
e&&(e.visible=!1)}var n=t.getPageHeader()
n&&n.length&&n.is(":visible")&&(n.hide(),this.phHidden=!0)},i.prototype.close=function(){this.ok=!1,this.cancel=!1,this.hide()},i.prototype.selection=function(e,n){if(!e)return!1
var i=e.getSelectedRows()
if(!i||!i.length)return n&&t.showWarning(n),!1
var o=e.getSelectedRowsData()
if(!o||!o.length)return n&&t.showWarning(n),!1
if(null==this.props||"number"==typeof this.props){var r=i[0]
this.setProps(r)}return this.setState(o[0]),!0},i.prototype.beforeShow=function(){return!0},i.prototype.onShown=function(){},i.prototype.onHidden=function(){},i.prototype.render=function(){this.isShown=!1,this.cntRoot=new e(this.id,"inmodal"),this.cntRoot.visible=!1,this.cntMain=this.cntRoot.addContainer("","modal-dialog",t.css(this._style,{w:"100%",m:0,z:"auto"})),this.cntContent=this.cntMain.addContainer("","modal-content"),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody)
for(var n=0,i=this.buttons;n<i.length;n++){var o=i[n]
this.footer.add(o)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},i.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},i.prototype.buildTitle=function(e){return this.tagTitle||(this.tagTitle="h3"),"<"+this.tagTitle+">"+t.WUtil.toText(e)+"</"+this.tagTitle+">"},i.fullDialogsShown=[],i}(t.WComponent)
t.WFullDialog=r
var s=function(e){function n(t,n,i,o,r,s){var a=e.call(this,t,"WLabel",i,o,r,s)||this
return a.rootTag="span",a.updateState(n),a}return __extends(n,e),Object.defineProperty(n.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),n.prototype.updateState=function(n){n||(n=""),e.prototype.updateState.call(this,n),this.root&&this.root.html(t.buildIcon(this.props,""," ")+n)},n.prototype.for=function(e){return this.forId=t.getId(e),this},n.prototype.blink=function(t){return this.root&&this.root.length?(this.blinks=t||3,this.highlight(),this):this},n.prototype.highlight=function(){return this.root&&this.root.length?(this.blinks&&(this.blinks--,this.root.effect("highlight",{},600,this.highlight.bind(this))),this):this},n.prototype.render=function(){var e=this.state?this.state:""
return this.forId?this.buildRoot("label",t.buildIcon(this.props,""," ")+e,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,t.buildIcon(this.props,""," ")+e,null,this._classStyle)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},n}(t.WComponent)
t.WLabel=s
var a=function(e){function n(t,n,i,o,r,s){var a=e.call(this,t||"*","WInput",n,o,r,s)||this
return a.rootTag="input",a.size=i,a.valueType="s",a.blurOnEnter=!1,a}return __extends(n,e),n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.root&&this.root.val(t)},n.prototype.onEnterPressed=function(t){this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(t)},n.prototype.render=function(){var t=""
if(this.label){t=this.id?'<label for="'+this.id+'">':"<label>"
var e=this.label.lastIndexOf("<br")
e>0?(t+=this.label.substring(0,e).replace("<","&lt;").replace(">","&gt;"),t+="</label><br>"):(t+=this.label.replace("<","&lt;").replace(">","&gt;"),t+="</label> ")}if("static"==this.props)return t+this.build("span",this.state)
var n='name="'+this.id+'"'
return n+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(n+=' size="'+this.size+'"'),this.state&&(n+=' value="'+this.state+'"'),this.placeHolder&&(n+=' placeholder="'+this.placeHolder+'"'),t+this.build(this.rootTag,"",n)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)
var e=this
this.root.keypress(function(n){if(13==n.which){var i=this.value
"c"==e.valueType?this.value&&(this.value=t.formatCurr(t.WUtil.toNumber(this.value))):"c5"==e.valueType?this.value&&(this.value=t.formatCurr5(t.WUtil.toNumber(this.value))):"n"==e.valueType||"p"==e.valueType?this.value&&(this.value=t.formatNum(this.value)):"i"==e.valueType&&this.value&&(this.value=t.WUtil.toInt(this.value)),e.trigger("statechange",i),e.trigger("_enter"),e.blurOnEnter&&$(this).blur()}}),this.root.blur(function(n){var i=this.value
"c"==e.valueType?this.value&&(this.value=t.formatCurr(t.WUtil.toNumber(this.value))):"c5"==e.valueType?this.value&&(this.value=t.formatCurr5(t.WUtil.toNumber(this.value))):"n"==e.valueType||"p"==e.valueType?this.value&&(this.value=t.formatNum(this.value)):"i"==e.valueType&&this.value&&(this.value=t.WUtil.toInt(this.value)),e.state!=i&&e.trigger("statechange",i)}),this.root.focus(function(n){if(this.value){if("c"==e.valueType||"c5"==e.valueType){var i=t.formatNum(this.value)
i.indexOf(",00")>=0&&i.indexOf(",00")==i.length-3&&(i=i.substring(0,i.length-3)),i.indexOf(",0")>=0&&i.indexOf(",0")==i.length-2&&(i=i.substring(0,i.length-3)),this.value=i}else"n"==e.valueType||"p"==e.valueType?this.value=t.formatNum(this.value):"i"==e.valueType&&(this.value=this.value=t.WUtil.toInt(this.value))
$(this).select()}})},n}(t.WComponent)
t.WInput=a
var l=function(e){function n(t,n,i,o,r){var s=e.call(this,t||"*","WTextArea",n,i,o,r)||this
return s.rootTag="textarea",n||(s.props=5),s}return __extends(n,e),n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.root&&this.root.val(this.state)},n.prototype.getState=function(){return this.root&&(this.state=t.norm(this.root.val())),this.state},n.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',t.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(t.den(this.state))},n}(t.WComponent)
t.WTextArea=l
var h=function(e){function n(t,n,i,o,r,s,a){var l=e.call(this,t||"*","WCheck",o,r,s,a)||this
return l.rootTag="input",l.value=i||"1",o&&l.updateState(i),l._text=n,l}return __extends(n,e),Object.defineProperty(n.prototype,"text",{get:function(){return!this._text&&this.$label?this.$label.text():this._text},set:function(t){if(!this._text&&this.$label)return void this.$label.text(t)
this._text=t,this.mounted&&this.root.html(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"checked",{get:function(){return this.props=this.root.is(":checked"),this.state=this.props?this.value:void 0,this.props},set:function(t){this.setProps(t)},enumerable:!0,configurable:!0}),n.prototype.getState=function(){return this.checked?this.state=this.value:this.state=null,this.state},n.prototype.updateProps=function(t){e.prototype.updateProps.call(this,t),this.state=this.props?this.value:void 0,this.root&&this.root.prop("checked",this.props)},n.prototype.updateState=function(t){"boolean"==typeof t&&(t=t?this.value:void 0),e.prototype.updateState.call(this,t),this.root&&this.root.prop("checked",void 0!=this.state)},n.prototype.render=function(){var t='name="'+this.id+'" type="checkbox"'
t+=this.props?' checked="checked"':""
var e=this._text?"&nbsp;"+this._text:""
return this.build(this.rootTag,e,t)},n.prototype.componentDidMount=function(){var t=this
this._tooltip&&this.root.attr("title",this._tooltip),this.root.change(function(e){var n=t.root.is(":checked")
t.trigger("propschange",n),t.trigger("statechange",n?t.value:void 0)})},n.prototype.getWrapper=function(e){return this.wrapper?this.wrapper:(this.id?this.$label=this._text?$('<label for="'+this.id+'">'+this._text+"</label>"):$("<label></label>"):this.$label=this._text?$("<label>"+this._text+"</label>"):$("<label></label>"),this._text="",this.wrapper=new t.WContainer(this.subId(),"checkbox",e),this.wrapper.add(this),this.wrapper.add(this.$label),this.wrapper.stateComp=this,this.wrapper)},n}(t.WComponent)
t.WCheck=h
var u=function(e){function n(t,n,i,o,r,s,a){var l=e.call(this,t,"WButton",i,o,r,s)||this
return l.updateState(n),l.rootTag="button",l.type=a||"button",l}return __extends(n,e),Object.defineProperty(n.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),n.prototype.setText=function(t,e){null!=e&&(this.props=e),this.setState(t)},n.prototype.render=function(){this._classStyle||(this._classStyle=t.BTN.PRIMARY)
var e=this.type?'type="'+this.type+'"':"",n=""
return this.state?n+=t.buildIcon(this.props,""," ")+this.state:n+=t.buildIcon(this.props),this.build(this.rootTag,n,e)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},n.prototype.componentWillUpdate=function(e,n){var i=""
i+=n?t.buildIcon(this.props,""," ")+n:t.buildIcon(this.props),this.root.html(i)},n}(t.WComponent)
t.WButton=u
var p=function(e){function n(t,n,i,o,r,s){void 0===o&&(o="btn-group")
var a=e.call(this,t,"WButtonDropDown",null,o,r,s)||this
return a.updateState(n),a.options=i,a}return __extends(n,e),n.prototype.componentDidMount=function(){var e=this
this._tooltip&&this.root.attr("title",this._tooltip),this.btnClass||(this.btnClass="btn btn-gray")
var n=t.build("button",this.state+' <span class="caret"></span>',this.btnClass+" dropdown-toggle",'data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"')
this.root.append(n)
var i=$('<ul class="dropdown-menu"></ul>')
if(this.root.append(i),this.options)for(var o=0,r=this.options;o<r.length;o++){var s=r[o],a="string"==typeof s?s:s.text,l="string"==typeof s?s:s.id,h=$("<li></li>")
i.append(h)
var u=$('<a href="#" data-id="'+l+'">'+a+"</a>")
h.append(u),u.on("click",function(n){var i=$(n.currentTarget).attr("data-id")
e.trigger("propschange",t.WUtil.toString(i))})}},n.prototype.componentWillUpdate=function(t,e){e||(e=""),this.root.children("button:first").html(e+' <span class="caret"></span>')},n}(t.WComponent)
t.WButtonSelect=p
var c=function(e){function n(t,n,i,o,r,s,a,l){var h=e.call(this,t,"WLink",i,o,r,s)||this
return h.updateState(n),h.rootTag="a",h._href=a,h._target=l,h}return __extends(n,e),Object.defineProperty(n.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"href",{get:function(){return this._href},set:function(t){this._href=t,this.root&&this.root.length&&(t?this.root.attr("href",t):this.root.removeAttr("href"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.root&&this.root.length&&(t?this.root.attr("target",t):this.root.removeAttr("target"))},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=""
this._href&&(e+='href="'+this._href+'"'),this._target&&(e&&(e+=" "),e+='target="'+this._target+'"')
var n=""
return this.state?n+=t.buildIcon(this.icon,""," ")+this.state:n+=t.buildIcon(this.icon),this.build(this.rootTag,n,e)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},n.prototype.componentWillUpdate=function(e,n){var i=""
i+=n?t.buildIcon(this.icon,""," ")+n:t.buildIcon(this.icon),this.root.html(i)},n}(t.WComponent)
t.WLink=c
var d=function(n){function i(t,e,i,o,r){var s=n.call(this,t,"WTab",r,e,i,o)||this
return s.tabs=[],s}return __extends(i,n),i.prototype.addTab=function(n,i){var o=new e("","panel-body")
return o.name=t.buildIcon(i,""," ")+n,this.tabs.push(o),o},i.prototype.render=function(){null==this.state&&(this.state=0)
var t="<div"
this._classStyle?t+=' class="tabs-container '+this._classStyle+'"':t+=' class="tabs-container"',t+=' id="'+this.id+'"',this._style&&(t+=' style="'+this._style+'"'),this.attributes&&(t+=" "+this.attributes),t+=">",t+='<ul class="nav nav-tabs">'
for(var e=0;e<this.tabs.length;e++){var n=this.tabs[e]
e==this.state?t+='<li class="active"><a data-toggle="tab" href="#'+this.id+"-"+e+'"> '+n.name+"</a></li>":t+='<li><a data-toggle="tab" href="#'+this.id+"-"+e+'"> '+n.name+"</a></li>"}t+="</ul>",t+='<div class="tab-content">'
for(var e=0;e<this.tabs.length;e++)e==this.state?t+='<div id="'+this.id+"-"+e+'" class="tab-pane active"></div>':t+='<div id="'+this.id+"-"+e+'" class="tab-pane"></div>'
return t+="</div></div>"},i.prototype.componentDidUpdate=function(t,e){$('.nav-tabs a[href="#'+this.id+"-"+this.state+'"]').tab("show")},i.prototype.componentDidMount=function(){if(this.tabs.length){for(var t=0;t<this.tabs.length;t++){var e=this.tabs[t],n=$("#"+this.id+"-"+t)
n.length&&e.mount(n)}var i=this
this.root.find('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var e=$(t.target).attr("href")
if(e){var n=e.lastIndexOf("-")
n>=0&&i.setState(parseInt(e.substring(n+1)))}})}},i.prototype.componentWillUnmount=function(){for(var t=0,e=this.tabs;t<e.length;t++){var n=e[t]
n&&n.unmount()}},i}(t.WComponent)
t.WTab=d
var f=function(e){function n(t,n,i,o,r,s){var a=e.call(this,t,"WTags",n,i,o,r)||this
return a._classStyle||(a._classStyle="label-default"),a.hideZeroValues=!1,a}return __extends(n,e),n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.buildView()},n.prototype.componentDidMount=function(){this.buildView()},n.prototype.buildView=function(){if(this.root&&(this.root.html(""),this.state)){"object"!=typeof this.state&&(this.state=t.WUtil.toArray(this.state))
for(var e in this.state){var n=this.state[e],i=t.format(n)
if(i&&(!this.hideZeroValues||"0"!=i&&"null"!=i)){if(i.length>100&&(i=i.substring(0,97)+"..."),"boolean"==typeof this.state[e]&&this.props instanceof t.WFormPanel){var o=this.props.getField(e)
o&&o.label&&(i=o.label+"="+i)}this.root.append('<span class="label '+this._classStyle+'">'+i+"</span>")}}}},n}(t.WComponent)
t.WTags=f
var g=function(e){function n(t,n,i,o,r,s){var a=e.call(this,t||"*","WSelect",null,o,r,s)||this
return a.rootTag="select",a.options=n,a.multiple=i,a}return __extends(n,e),n.prototype.getProps=function(){var t=this
return this.root?(this.props=[],this.root.find("option:selected").each(function(e,n){t.props.push($(n).text())}),this.props):this.props},n.prototype.addOption=function(t,e){if(!t)return this
if(this.options||(this.options=[]),this.options.push(t),!this.mounted)return this
var n=this.buildOptions()
return this.root.html(n),e&&this.updateState(t),this},n.prototype.remOption=function(t){if(!t||!this.options)return this
for(var e=-1,n=0;n<this.options.length;n++){var i=this.options[n]
if(i)if("string"==typeof t){if("string"==typeof i){if(i==t){e=n
break}}else if(i.id==t){e=n
break}}else if("string"==typeof i){if(i==t.id){e=n
break}}else if(i.id==t.id){e=n
break}}if(e>=0){if(this.options.splice(e,1),!this.mounted)return this
var o=this.buildOptions()
this.root.html(o)}return this},n.prototype.setOptions=function(e,n){if(this.options=e,!this.mounted)return this
var i=this.root.val(),o=this.buildOptions()
return this.root.html(o),n?this.root.val(i):e&&e.length&&("string"==typeof e[0]?this.trigger("statechange",e[0]):this.trigger("statechange",t.WUtil.getString(e[0],"id"))),this},n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.root&&(null==this.state?this.root.val(""):"string"==typeof this.state?this.root.val(this.state):this.root.val(this.state.id))},n.prototype.render=function(){var t=this.buildOptions(),e='name="'+this.id+'"'
return this.multiple&&(e+=' multiple="multiple"'),this.buildRoot("select",t,e)},n.prototype.componentDidMount=function(){var t=this
this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(this.state),this.root.on("change",function(e){t.trigger("statechange",t.root.val())})},n.prototype.buildOptions=function(){var t=""
this.options||(this.options=[])
for(var e=0,n=this.options;e<n.length;e++){var i=n[e]
t+="string"==typeof i?"<option>"+i+"</option>":'<option value="'+i.id+'">'+i.text+"</option>"}return t},n}(t.WComponent)
t.WSelect=g
var b=function(e){function n(t,n,i,o,r,s){var a=e.call(this,t||"*","WRadio",s,i,o,r)||this
return a.options=n,a}return __extends(n,e),Object.defineProperty(n.prototype,"tooltip",{set:function(t){if(this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.options&&this.options.length)for(var e=0;e<this.options.length;e++){var n=$("#"+this.id+"-"+e)
n.length&&(this._tooltip&&n.attr("title",this._tooltip))}},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=""
if(this.label&&(e+=this.id?'<label for="'+this.id+'">':"<label>",e+=this.label.replace("<","&lt;").replace(">","&gt;"),e+="</label> "),!this.options||!this.options.length)return e
void 0===this.state&&(this.state=this.options[0])
for(var n=0;n<this.options.length;n++){var i=this.options[n]
"string"==typeof i?t.match(this.state,i)?e+='&nbsp;<label style="display:inline;"><input type="radio" value="'+i+'" name="'+this.id+'" id="'+this.id+"-"+n+'" checked> '+i+"</label>&nbsp;":e+='&nbsp;<label style="display:inline;"><input type="radio" value="'+i+'" name="'+this.id+'" id="'+this.id+"-"+n+'"> '+i+"</label>&nbsp;":t.match(this.state,i)?e+='&nbsp;<label style="display:inline;"><input type="radio" value="'+i.id+'" name="'+this.id+'" id="'+this.id+"-"+n+'" checked> '+i.text+"</label>&nbsp;":e+='&nbsp;<label style="display:inline;"><input type="radio" value="'+i.id+'" name="'+this.id+'" id="'+this.id+"-"+n+'"> '+i.text+"</label>&nbsp;"}return e},n.prototype.componentDidMount=function(){var t=this
if(this.options&&this.options.length)for(var e=this,n=0;n<this.options.length;n++)!function(n){var i=$("#"+e.id+"-"+n)
if(!i.length)return"continue"
e._tooltip&&i.attr("title",e._tooltip)
var o=e.options[n]
i.click(function(){t.setState(o)})}(n)},n.prototype.componentDidUpdate=function(e,n){for(var i=-1,o=0;o<this.options.length;o++)if(t.match(this.state,this.options[o])){i=o
break}i>=0&&$("#"+this.id+"-"+i).prop("checked",!0)},n}(t.WComponent)
t.WRadio=b
var y=function(e){function n(n,i,o,r,s,a){var l=e.call(this,n||"*","WLinkOptions",a,o,r,s)||this
return l.rootTag="span",l._style=t.css(r,l._baseStyle="display:inline-block;"),l.options=i,l}return __extends(n,e),Object.defineProperty(n.prototype,"tooltip",{set:function(t){if(this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.options&&this.options.length)for(var e=0;e<this.options.length;e++){var n=$("#"+this.id+"-"+e)
n.length&&(this._tooltip&&n.attr("title",this._tooltip))}},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){var t=this
if(this.options&&this.options.length){for(var e="",n=0;n<this.options.length;n++){var i=this.options[n]
e+="string"==typeof i?' <a id="'+this.id+"-"+n+'"> '+i+" </a>":' <a id="'+this.id+"-"+n+'"> '+i.text+" </a>",n<this.options.length-1&&(e+=" | ")}this.root.html(e)
for(var o=this,n=0;n<this.options.length;n++)!function(e){var n=$("#"+o.id+"-"+e)
if(!n.length)return"continue"
o._tooltip&&n.attr("title",o._tooltip)
var i=o.options[e]
n.click(function(){t.setState(i)})}(n)}},n}(t.WComponent)
t.WLinkOptions=y
var v=function(e){function n(t,n,i,o,r,s,a){var l=e.call(this,t||"*","WTable",a,o,r,s)||this
if(l.selectedRow=-1,l.rootTag="table",l.header=n,i&&i.length)l.keys=i
else if(l.keys=[],l.header)for(var h=0;h<l.header.length;h++)l.keys.push(h)
return l.widths=[],l.templates=[],l.boldNonZero=!1,l.selClass="success",l}return __extends(n,e),n.prototype.onSelectionChanged=function(t){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(t)},n.prototype.onDoubleClick=function(t){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(t)},n.prototype.onRowPrepared=function(t){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(t)},n.prototype.onCellClick=function(t){this.handlers._cellclick||(this.handlers._cellclick=[]),this.handlers._cellclick.push(t)},n.prototype.onCellHoverChanged=function(t){this.handlers._cellhover||(this.handlers._cellhover=[]),this.handlers._cellhover.push(t)},n.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this
if(this.root.find("tbody tr").removeClass("success"),!this.handlers._selectionchanged)return this
for(var t=0,e=this.handlers._selectionchanged;t<e.length;t++){(0,e[t])({element:this.root,selectedRowsData:[]})}return this},n.prototype.select=function(t){if(this.selectedRow=t&&t.length?t[0]:-1,!this.mounted)return this
this.root.find("tbody tr").removeClass("success")
for(var e=0,n=t;e<n.length;e++){var i=n[e]
this.root.find("tbody tr:eq("+i+")").addClass("success")}if(!this.handlers._selectionchanged)return this
for(var o=0,r=this.handlers._selectionchanged;o<r.length;o++){(0,r[o])({element:this.root,selectedRowsData:[]})}return this},n.prototype.selectAll=function(t){if(!this.mounted)return this
if(this.root.find("tbody tr").addClass("success"),!this.handlers._selectionchanged)return this
for(var e=0,n=this.handlers._selectionchanged;e<n.length;e++){(0,n[e])({element:this.root,selectedRowsData:[]})}return this},n.prototype.getSelectedRows=function(){return this.mounted?this.selectedRow<0?[]:[this.selectedRow]:[]},n.prototype.getSelectedRowsData=function(){return this.mounted?this.selectedRow<0?[]:this.state&&this.state.length?this.state.length<=this.selectedRow?[]:this.state[this.selectedRow]:[]:[]},n.prototype.getFilteredRowsData=function(){return this.state},n.prototype.refresh=function(){return this},n.prototype.getCellValue=function(e,n){if(e<0||n<0)return null
if(!this.state||this.state.length<=e)return null
if(!this.keys||this.keys.length<=n)return null
var i=this.keys[n],o=this.state[e]
return t.WUtil.getValue(o,i)},n.prototype.getColHeader=function(t){return t<0?"":!this.header||this.header.length<=t?"":this.header[t]},n.prototype.render=function(){if(this.shouldBuildRoot()){var e="table"
this._classStyle&&(e=this._classStyle.indexOf("table ")>=0?this._classStyle:e+" "+this._classStyle)
var n=this.style?' style="'+this.style+'"':"",i='<div class="table-responsive"><table id="'+this.id+'" class="'+e+'"'+n+">"
if(this.header&&this.header.length){var o=!1
"string"==typeof this.headStyle?this.headStyle.indexOf("text-align")>0&&(o=!0):this.headStyle&&this.headStyle.a&&(o=!0),i+=o?"<thead><tr>":"<thead><tr"+t.buildCss(this.headStyle)+">"
for(var r=-1,s=0,a=this.header;s<a.length;s++){var l=a[s]
r++
var h=void 0
h=0==r?this.col0Style?this.col0Style:this.colStyle:r==this.header.length-1?this.colLStyle?this.colLStyle:this.colStyle:o?this.headStyle:this.colStyle
var u=this.widths&&this.widths.length>r?this.widths[r]:0
u?this.widthsPerc?i+="<th"+t.buildCss(h,{w:u+"%"})+">"+l+"</th>":i+="<th"+t.buildCss(h,{w:u})+">"+l+"</th>":i+="<th"+t.buildCss(h)+">"+l+"</th>"}i+="</tr></thead>"}return i+="<tbody></tbody>",i+="</table></div>"}},n.prototype.componentDidMount=function(){this.buildBody()
var t=this
this.root.on("click","tbody tr",function(e){if(t.handlers._selectionchanged){if(!t.selectionMode||"none"==t.selectionMode)return}else if(!t.selectionMode||"none"==t.selectionMode)return
var n=$(this)
n.addClass("success").siblings().removeClass("success"),t.selectedRow=n.index()
var i=t.state&&t.state.length?t.state[t.selectedRow]:void 0
if(t.handlers._selectionchanged)for(var o=0,r=t.handlers._selectionchanged;o<r.length;o++){var s=r[o]
s({element:t.root,selectedRowsData:[i]})}}),this.root.on("click","tbody tr td",function(e){if(t.handlers._cellclick)for(var n=$(this),i=n.parent().index(),o=n.index(),r=0,s=t.handlers._cellclick;r<s.length;r++){var a=s[r]
a({element:t.root,rowIndex:i,colIndex:o})}}),this.root.on("mouseover","tbody tr td",function(e){if(t.handlers._cellhover)for(var n=$(this),i=n.parent().index(),o=n.index(),r=0,s=t.handlers._cellhover;r<s.length;r++){var a=s[r]
a({element:t.root,rowIndex:i,colIndex:o})}}),this.root.on("dblclick","tbody tr",function(e){if(t.handlers._doubleclick)for(var n=0,i=t.handlers._doubleclick;n<i.length;n++){var o=i[n]
o({element:t.root})}})},n.prototype.componentDidUpdate=function(t,e){this.buildBody()},n.prototype.buildBody=function(){this.selectedRow=-1
var e=this.root.find("tbody")
if(e.html(""),this.state&&this.state.length&&this.keys&&this.keys.length)for(var n=-1,i=0,o=this.state;i<o.length;i++){var r=o[i]
n++
var s=void 0
if(s=n==this.state.length-1&&this.footerStyle?$(t.build("tr","",this.footerStyle)):$(t.build("tr","",this.rowStyle)),e.append(s),this.handlers._rowprepared)for(var a={element:this.root,rowElement:s,data:r,rowIndex:n},l=0,h=this.handlers._rowprepared;l<h.length;l++){var u=h[l]
u(a)}for(var p=-1,c=0,d=this.keys;c<d.length;c++){var f=d[c],g=r[f],b=""
null==g&&(g=""),p++
var y=t.WUtil.getItem(this.types,p)
switch(y){case"w":b="text-center"
break
case"c":g=t.formatCurr(g),b="text-right"
break
case"c5":g=t.formatCurr5(g),b="text-right"
break
case"i":g=t.formatNum(g),b="text-right"
break
case"n":g=t.formatNum2(g),b="text-right"
break
case"d":g=t.formatDate(g)
break
case"t":g=t.formatDateTime(g)
break
case"b":g=g?t.buildIcon(t.ICO.TRUE):t.buildIcon(t.ICO.FALSE)
break
default:g instanceof Date&&(g=t.formatDate(g)),"boolean"==typeof g&&(g=g?t.buildIcon(t.ICO.TRUE):t.buildIcon(t.ICO.FALSE)),"number"==typeof g&&(g=t.formatNum2(g),b="text-right")}var v=void 0
v=0==p?this.col0Style?this.col0Style:this.colStyle:p==this.header.length-1&&this.colLStyle?this.colLStyle:this.colStyle,"string"==typeof v?v.indexOf("text-align")>0&&(b=""):v&&v.a&&(b="")
var m=this.widths&&this.widths.length>p?this.widths[p]:0,C=this.templates&&this.templates.length>p?this.templates[p]:void 0
if(C){var _=$("<td"+t.buildCss(v,b,{w:m})+"></td>")
C(_,{data:r,text:g}),s.append(_)}else if(t.WUtil.hasComponents(g))for(var w=t.WUtil.toArrayComponent(g),S=0,O=w;S<O.length;S++){var x=O[S],_=$("<td"+t.buildCss(v,b,{w:m})+"></td>")
s.append(_),x.mount(_)}else this.boldNonZero&&0!=g&&"0"!=g&&""!=g?s.append($("<td"+t.buildCss(v,b,{w:m})+"><strong>"+g+"</strong></td>")):s.append($("<td"+t.buildCss(v,b,{w:m})+">"+g+"</td>"))}if(this.header&&this.header.length>this.keys.length)for(var T=0;T<this.header.length-this.keys.length;T++)s.append($("<td"+t.buildCss(this.colStyle)+"></td>"))}},n}(t.WComponent)
t.WTable=v
var m=function(e){function n(n,i,o,r){var s=e.call(this,n,"WFormPanel",r)||this
return s.rootTag="form",s._attributes=o?'role="form" name="'+s.id+'" action="'+o+'"':'role="form" name="'+s.id+'" action="javascript:void(0);"',s.stateChangeOnBlur=!1,s.inputClass=t.CSS.FORM_CTRL,s.title=i,s.nextOnEnter=!0,s.autoValidate=!1,s.init(),s}return __extends(n,e),n.prototype.init=function(){return this.rows=[],this.roww=[],this.hiddens=[],this.internals={},this.components=[],this.captions=[],this.dpids=[],this.nextMap={},this.mapTooltips={},this.mapLabelLinks={},this.minValues={},this.maxValues={},this.footer=[],this.currRow=null,this.addRow(),this},n.prototype.focus=function(){if(!this.mounted)return this
var t=this.first(!0)
return t&&(t.component?t.component.focus():t.element&&t.element.focus()),this},n.prototype.first=function(t){if(!this.rows)return null
for(var e=0,n=this.rows;e<n.length;e++)for(var i=n[e],o=0,r=i;o<r.length;o++){var s=r[o]
if(!t)return s
if((null==s.enabled||s.enabled)&&(null==s.readonly||!s.readonly))return s}return null},n.prototype.focusOn=function(t){if(!this.mounted)return this
var e=this.getField(t)
return e?(e.component?e.component.focus():e.element&&e.element.focus(),this):this},n.prototype.onEnterPressed=function(t){t&&(this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(t),this.nextOnEnter=!1)},n.prototype.onChangeDate=function(t){t&&(this.handlers._changedate||(this.handlers._changedate=[]),this.handlers._changedate.push(t))},n.prototype.addToFooter=function(t,e){return t||this.footer?(void 0!=e&&(this.footerSep=e),this.footer.push(t),this):this},n.prototype.addRow=function(e,n,i,o,r){return void 0===r&&(r="row"),this.currRow&&!this.currRow.length?(this.roww[this.roww.length-1]={classStyle:e,style:n,id:i,attributes:t.attributes(o),type:r},this):(this.currRow=new Array,this.rows.push(this.currRow),this.roww.push({classStyle:e,style:n,id:i,attributes:t.attributes(o),type:r}),this)},n.prototype.addTextField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Text,readonly:i}),this},n.prototype.addNoteField=function(e,n,i,o){return i||(i=3),this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Note,attributes:'rows="'+i+'"',readonly:o}),this},n.prototype.addCurrencyField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Text,readonly:i,valueType:"c",style:{a:"right"}}),this},n.prototype.addCurrency5Field=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Text,readonly:i,valueType:"c5",style:{a:"right"}}),this},n.prototype.addIntegerField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Text,readonly:i,valueType:"i"}),this},n.prototype.addDecimalField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Text,readonly:i,valueType:"n"}),this},n.prototype.addDateField=function(e,n,i,o,r){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Date,readonly:i,valueType:"d",minValue:o,maxValue:r}),this},n.prototype.addOptionsField=function(e,n,i,o,r){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Select,readonly:r,options:i,attributes:o}),this},n.prototype.addBooleanField=function(e,n){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.CheckBox}),this},n.prototype.addBlankField=function(e,n,i,o,r,s){return this.currRow.push({id:o,label:e,type:t.WInputType.Blank,classStyle:n,style:i,attributes:r,placeholder:s}),this},n.prototype.addRadioField=function(e,n,i){var o=new b(this.subId(e),i)
return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Radio,component:o}),this},n.prototype.addPasswordField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Password,readonly:i}),this},n.prototype.addEmailField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Email,readonly:i}),this},n.prototype.addFtpField=function(e,n,i){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Ftp,readonly:i}),this},n.prototype.addCronField=function(e,n,i,o){return this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Cron,readonly:i,value:o}),this},n.prototype.addComponent=function(e,n,i,o){if(i)return e?(i.id=this.subId(e),this.currRow.push({id:this.subId(e),label:n,type:t.WInputType.Component,component:i,readonly:o}),i instanceof t.WInput&&(i.classStyle||(i.classStyle=t.CSS.FORM_CTRL))):(i.id="",this.currRow.push({id:"",label:n,type:t.WInputType.Component,component:i,readonly:o})),this.components.push(i),this},n.prototype.addCaption=function(e,n,i,o){if(e){var r=new t.WLabel("",e,n,i,o)
return this.currRow.push({id:"",label:"",type:t.WInputType.Component,component:r,readonly:!0}),this.components.push(r),this.captions.push(r),this}},n.prototype.addInternalField=function(t,e){return void 0===e&&(e=null),this.internals[t]=e,this},n.prototype.addHiddenField=function(e,n){return this.hiddens.push({id:this.subId(e),type:t.WInputType.Hidden,value:n}),this},n.prototype.setTooltip=function(t,e){var n=this.getField(t)
return n?(e?this.mapTooltips[n.id]=e:delete this.mapTooltips[n.id],this):this},n.prototype.setLabelLinks=function(t,e){var n=this.getField(t)
return n?(e&&e.length?this.mapLabelLinks[n.id]=e:delete this.mapLabelLinks[n.id],this):this},n.prototype.setReadOnly=function(e,n){if("string"==typeof e){var i=this.getField(e)
if(!i)return this
if(i.readonly=n,this.mounted)if(i.component)i.component.enabled=!n
else{var o=$("#"+i.id),r=t.getTagName(o)
"select"==r?n?o.prop("disabled",!0):o.prop("disabled",!1):o.prop("readonly",n)}}else for(var s=0;s<this.rows.length;s++)for(var a=this.rows[s],l=0;l<a.length;l++){var i=a[l]
if(i.readonly=e,this.mounted)if(i.component)i.component.enabled=!e
else{var o=$("#"+i.id),r=t.getTagName(o)
"select"==r?e?o.prop("disabled",!0):o.prop("disabled",!1):o.prop("readonly",e)}}return this.trigger("propschange"),this},Object.defineProperty(n.prototype,"enabled",{set:function(t){this._enabled=t
for(var e=0;e<this.rows.length;e++)for(var n=this.rows[e],i=0;i<n.length;i++){var o=n[i]
o.enabled=t,this.mounted&&(o.component?o.component.enabled=t:$("#"+o.id).prop("disabled",!t))}},enumerable:!0,configurable:!0}),n.prototype.setEnabled=function(t,e){if("string"==typeof t){var n=this.getField(t)
if(!n)return this
n.enabled=e,this.mounted&&(n.component?n.component.enabled=e:$("#"+n.id).prop("disabled",!e))}else this.enabled=t
return this.trigger("propschange"),this},n.prototype.setVisible=function(t,e){var n=this.getField(t)
return n?(n.visible=e,this.mounted&&(n.component?n.component.visible=e:e?$("#"+n.id).show():$("#"+n.id).hide(),n.label&&(e?$('label[for="'+n.id+'"]').show():$('label[for="'+n.id+'"]').hide())),this.trigger("propschange"),this):this},n.prototype.setLabelCss=function(t,e){var n=this.getField(t)
return n?(n.labelCss=e,this):this},n.prototype.setSpanField=function(t,e){var n=this.getField(t)
return n?(n.span=e,this):this},n.prototype.getField=function(t){if(t)for(var e=0==t.indexOf(this.id+"-")?t:this.subId(t),n=0;n<this.rows.length;n++)for(var i=this.rows[n],o=0;o<i.length;o++){var r=i[o]
if(r.id==e)return r}},n.prototype.onMount=function(t,e){var n=this.getField(t)
return n?(n.onmount=e,this):this},n.prototype.onFocus=function(t,e){var n=this.getField(t)
return n?(n.onfocus=e,this):this},n.prototype.onBlur=function(t,e){var n=this.getField(t)
return n?(n.onblur=e,this):this},n.prototype.getStateOf=function(t){var e=this.getField(t)
return e&&e.component?e.component.getState():null},n.prototype.getPropsOf=function(t){var e=this.getField(t)
return e&&e.component?e.component.getProps():null},n.prototype.next=function(t){if(t){var e=0==t.indexOf(this.id+"-")?t:this.subId(t)
if(this.nextMap){var n=this.nextMap[this.ripId(e)]
if(n){var i=this.getField(n)
if(i)return i}}for(var o=!1,r=0;r<this.rows.length;r++)for(var s=this.rows[r],a=0;a<s.length;a++){var l=s[a]
if(o)return l
l.id==e&&(o=!0)}}},n.prototype.setMandatory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
if(!this.rows)return this
for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],s=0==r.indexOf(this.id+"-")?r:this.subId(r)
n.push(s)}for(var a=0;a<this.rows.length;a++)for(var l=this.rows[a],h=0;h<l.length;h++){var u=l[h]
n.indexOf(u.id)>=0?u.required=!0:u.required=!1}return this},n.prototype.checkMandatory=function(t,e,n){var i=this.getState()
i||(i={})
for(var o="",r="",s=!1,a=0;a<this.rows.length;a++)for(var l=this.rows[a],h=0;h<l.length;h++){var u=l[h],p=this.ripId(u.id),c=i[p]
u.required&&(null==c||""==c?(o+=t?","+u.label:","+p,r||(r=p)):s=!0)}return n&&s?"":(r&&e&&this.focusOn(r),o?o.substring(1):o)},n.prototype.getState=function(){return this.state=this.autoValidate?this.validate():this.getValues(),this.state},n.prototype.render=function(){return this.buildRoot(this.rootTag)},n.prototype.componentDidMount=function(){var e=this
this.inputClass||(this.inputClass=t.CSS.FORM_CTRL),this.minValues={},this.maxValues={},this.dpids=[]
for(var n=0;n<this.rows.length;n++){var i=this.roww[n],o="<div"
if(i){var r=t.cls(i.type,i.classStyle,i.style)
r&&(o+=' class="'+r+'"')
var s=t.style(i.style)
s&&(o+=' style="'+s+'"'),i.id&&(o+=' id="'+i.id+'"'),i.attributes&&(o+=" "+i.attributes)}else o+=' class="row"'
o+="></div>"
var a=$(o)
this.root.append(a)
for(var l=this.rows[n],h=0,u=0;u<l.length;u++){var p=l[u]
p.type!==t.WInputType.Hidden&&(h+=p.span&&p.span>0?p.span:1)}for(var u=0;u<l.length;u++){var p=l[u]
if(p.id&&(p.minValue&&(this.minValues[p.id]=p.minValue),p.maxValue&&(this.maxValues[p.id]=p.maxValue)),p.type!==t.WInputType.Hidden){var c=Math.floor(12/h)
c<1&&(c=1),1==c&&h<11&&(0==u||u==h-1)&&(c=2),p.span&&p.span>0&&(c*=p.span)
var d=$('<div class="col-md-'+c+'"></div>')
a.append(d)
var f=$('<div class="form-group"></div>')
if(d.append(f),p.label){var g="",b=""
if(p.labelCss){var y=t.cls(p.labelCss),v=t.style(p.labelCss)
y&&(g+=' class="'+y+'"'),v&&(g+=' style="'+v+'"')}else if(p.required){var y=t.cls(t.CSS.FIELD_REQUIRED),v=t.style(t.CSS.FIELD_REQUIRED)
y&&(g+=' class="'+y+'"'),v&&(g+=' style="'+v+'"'),b=" *"}if(p.id&&this.mapTooltips[p.id]?f.append($('<label for="'+p.id+'" title="'+this.mapTooltips[p.id]+'"'+g+">"+p.label+b+"</label>")):p.id?f.append($('<label for="'+p.id+'" title="'+p.label+'"'+g+">"+p.label+b+"</label>")):f.append($('<label title="'+p.label+'"'+g+">"+p.label+b+"</label>")),p.id&&this.mapLabelLinks[p.id])for(var m=0,C=this.mapLabelLinks[p.id];m<C.length;m++){var _=C[m],w=$('<span style="padding-left:8px;"></span>')
f.append(w),_.mount(w)}}switch(p.type){case t.WInputType.Blank:p.element=$(t.build("div",p.placeholder,p.style,p.attributes,p.id,p.classStyle))
break
case t.WInputType.Text:var S='<input type="text" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" '
p.readonly&&(S+="readonly "),0==p.enabled&&(S+="disabled "),p.style&&(S+=' style="'+t.style(p.style)+'"'),S+="/>",p.element=$(S)
break
case t.WInputType.Note:var O='<textarea name="'+p.id+'" id="'+p.id+'" class="form-control" '
p.attributes&&(O+=p.attributes+" "),p.readonly&&(O+="readonly "),0==p.enabled&&(O+="disabled "),p.style&&(O+=' style="'+t.style(p.style)+'"'),O+="></textarea>",p.element=$(O)
break
case t.WInputType.Date:this.dpids.push(p.id)
var x='<div class="input-group" id="igd-'+p.id+'">'
x+='<span class="input-group-addon">'+t.buildIcon(t.ICO.CALENDAR)+"</span> ",x+='<input type="text" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" ',p.readonly&&(x+="readonly "),0==p.enabled&&(x+="disabled "),x+="/></div>",p.element=$(x)
break
case t.WInputType.CheckBox:p.element=$('<input type="checkbox" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" style="height:16px" />')
break
case t.WInputType.Radio:p.component&&p.component.mount(f)
break
case t.WInputType.Select:var T=""
if(p.attributes?(T+='<select name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" '+p.attributes,(p.readonly||0==p.enabled)&&(T+=" disabled"),T+=">"):(T+='<select name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'"',(p.readonly||0==p.enabled)&&(T+="disabled"),T+=">"),p.options&&p.options.length>0)for(var E=0;E<p.options.length;E++){var R=p.options[E]
T+="string"==typeof R?"<option>"+R+"</option>":'<option value="'+R.id+'">'+R.text+"</option>"}T+="</select>",p.element=$(T)
break
case t.WInputType.Email:var I='<input type="text" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" '
p.readonly&&(I+="readonly "),0==p.enabled&&(I+="disabled "),p.style&&(I+=' style="'+t.style(p.style)+'"'),I+="/>",p.element=$(I)
break
case t.WInputType.Ftp:var W='<input type="text" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" '
p.readonly&&(W+="readonly "),0==p.enabled&&(W+="disabled "),p.style&&(W+=' style="'+t.style(p.style)+'"'),W+="/>",p.element=$(W)
break
case t.WInputType.Password:var D='<input type="password" name="'+p.id+'" id="'+p.id+'" class="'+this.inputClass+'" '
p.readonly&&(D+="readonly "),0==p.enabled&&(D+="disabled "),p.style&&(D+=' style="'+t.style(p.style)+'"'),D+="/>",p.element=$(D)
break
case t.WInputType.Cron:var A=""
null!=p.value&&""!=p.value&&(A='initial: "'+p.value+'" ,')
var L='<div id="cron_'+p.id+'" class="'+this.inputClass+'" '
p.readonly&&(L+="readonly "),0==p.enabled&&(L+="disabled "),L+=" ></div>",L+='<script type="text/javascript">$(document).ready(function() {',L+='$("#cron_'+p.id+'").cron({'+A+'onChange: function() {$("#'+p.id+'").val($(this).cron("value"));},useGentleSelect: true});',L+='});<\/script><input type="hidden" name="'+p.id+'" id="'+p.id+'" />',p.element=$(L)
break
case t.WInputType.Component:p.component&&((0==p.enabled||p.readonly)&&(p.component.enabled=!1),p.component.mount(f),p.onmount&&p.onmount(p),p.onfocus&&p.component.on("focus",p.onfocus),p.onblur&&p.component.on("blur",p.onblur))}p.element&&(f.append(p.element),p.type==t.WInputType.Text&&("c"==p.valueType||"c5"==p.valueType?(p.element.focus(function(e){if(this.value){var n=t.formatNum(this.value)
n.indexOf(",00")>=0&&n.indexOf(",00")==n.length-3&&(n=n.substring(0,n.length-3)),n.indexOf(",0")>=0&&n.indexOf(",0")==n.length-2&&(n=n.substring(0,n.length-3)),this.value=n,$(this).select()}}),"c"==p.valueType?p.element.blur(function(e){this.value&&(this.value=t.formatCurr(t.WUtil.toNumber(this.value)))}):p.element.blur(function(e){this.value&&(this.value=t.formatCurr5(t.WUtil.toNumber(this.value)))})):"n"==p.valueType?(p.element.focus(function(e){this.value&&(this.value=t.formatNum(this.value),$(this).select())}),p.element.blur(function(e){this.value&&(this.value=t.formatNum(this.value))})):"i"==p.valueType?(p.element.focus(function(e){this.value&&(this.value=t.WUtil.toInt(this.value),$(this).select())}),p.element.blur(function(e){this.value&&(this.value=t.WUtil.toInt(this.value))})):p.element.focus(function(t){$(this).select()})),null==p.visible||p.visible||(p.element.hide(),p.label&&$('label[for="'+p.id+'"]').hide()),p.onmount&&p.onmount(p),p.onfocus&&p.element.focus(p.onfocus),p.onblur&&p.element.focus(p.onblur))}}}for(var N=0,k=this.hiddens;N<k.length;N++){var p=k[N]
null==p.value&&(p.value=""),this.root.append('<input type="hidden" name="'+p.id+'" id="'+p.id+'" value="'+p.value+'">')}if(this.footer&&this.footer.length>0){var U=t.style(this.footerStyle)
if(this.footerClass||(this.footerClass="col-md-12"),U=U?' style="'+U+'"':' style="text-align:right;"',this.footerSep)if("string"==typeof this.footerSep){var M=this.footerSep.charAt(0)
"<"==M?this.root.append(this.footerSep):t.WUtil.isNumeric(M)&&this.root.append('<div style="height:'+this.footerSep+'px;"></div>')}else this.root.append('<div style="height:'+this.footerSep+'px;"></div>')
var F=$('<div class="row"></div>')
this.root.append(F)
var P=$('<div class="'+this.footerClass+'"'+U+"></div>")
F.append(P)
for(var H=0,B=this.footer;H<B.length;H++){var V=B[H]
"string"==typeof V&&V.length>0?P.append($(V)):V instanceof t.WComponent?V.mount(P):P.append(V)}}for(var G=this,j=0,X=this.dpids;j<X.length;j++){var K=X[j]
!function(n){var i=t.WUtil.getDate(G.minValues,n)
$("#"+n).datepicker({language:"it",todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,minDate:i}).on("changeDate",function(i){if(e.handlers._changedate)for(var o=0,r=e.handlers._changedate;o<r.length;o++){var s=r[o]
s(i)}var a=t.WUtil.getDate(e.minValues,n),l=t.WUtil.getDate(e.maxValues,n)
if(a||l){var h=t.WUtil.getDate(i,"date")
if(h){var u=t.WUtil.toInt(h)
if(!(u<19000101)){var p=t.WUtil.toInt(a)
p>=19000101&&u<p&&(t.showWarning(t.MSG.INVALID_DATE),$(i.target).datepicker("setDate",a))
var c=t.WUtil.toInt(l)
c>=19000101&&u>c&&(t.showWarning(t.MSG.INVALID_DATE),$(i.target).datepicker("setDate",l))}}}})}(K)}"object"==typeof this.state&&this.updateView(),this.root.find("input").keypress(function(t){if(13==t.which){for(var n=$(t.target).attr("id"),i=e.next(n);i&&!e.isFocusable(i);)i=e.next(i.id)
i&&e.nextOnEnter?(i.component?i.component.focus():i.element&&("DIV"==i.element.prop("tagName")?i.element.find("input").focus():i.element.focus()),e.stateChangeOnBlur||(e.lastChanged=e.ripId(n),e.trigger("statechange"))):(e.lastChanged=e.ripId(n),e.trigger("statechange")),e.trigger("_enter",e.ripId(n))}}),this.stateChangeOnBlur&&this.root.find("input").blur(function(t){e.lastChanged=e.ripId($(t.target).attr("id")),e.trigger("statechange")}),this.root.on("change","select",function(t){var n=(new Date).getTime()
e.lastTs&&n-e.lastTs<200||(e.lastTs=n,e.lastChanged=e.ripId($(t.target).attr("id")),e.trigger("statechange"))})},n.prototype.isFocusable=function(t){return!!t&&(!t.readonly&&!(null!=t.enabled&&!t.enabled))},n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.mounted&&(!t||$.isEmptyObject(t)?this.clear():this.updateView())},n.prototype.isBlank=function(t){if(t){var e=this.getValue(t)
if(0===e)return!1
if(!e)return!0
var n=""+e
return!n.trim()}for(var i=0;i<this.rows.length;i++)for(var o=this.rows[i],r=0;r<o.length;r++){var s=o[r],e=this.getValue(s)
if(0==e)return!1
if(e)return!1
var n=""+e
if(n.trim())return!1}return!0},n.prototype.isZero=function(t){var e=this.getValue(t)
return!e||("0"==e||!(""+e).trim())},n.prototype.match=function(e,n){var i=this.getValue(e)
return t.WUtil.toString(i)==t.WUtil.toString(n)},n.prototype.transferTo=function(n,i,o){var r
if(n instanceof t.WFormPanel){n.clear(),r=e.prototype.transferTo.call(this,n,i)
for(var s=0;s<this.rows.length;s++)for(var a=this.rows[s],l=0;l<a.length;l++){var h=a[l]
if(h.component){var u=n.getField(this.ripId(h.id))
u&&u.component&&(r=r&&h.component.transferTo(u.component))}}o&&o()}else r=e.prototype.transferTo.call(this,n,i,o)
return r},n.prototype.clear=function(){this.debug&&console.log("WUX.WFormPanel.clear")
for(var t=0;t<this.components.length;t++)this.components[t].id&&this.components[t].setState(null)
for(var e in this.internals)this.internals.hasOwnProperty(e)&&(this.internals[e]=null)
if(!this.root)return this
var n=this.root,i=n[0]
if(!i||!i.elements)return this
for(var o=0;o<i.elements.length;o++){var r=i.elements[o]
switch(r.type){case"checkbox":case"radio":r.checked=!1
break
case"select-one":case"select-multiple":r.selectedIndex=-1
break
default:r.value=""}}return this},n.prototype.select=function(e,n){if(!e)return this
var i=this.getField(e)
return i?i.component instanceof t.WSelect2?(i.component.select(n),this):(console.error("WFormPanel.select("+e+","+n+") not applicable."),this):this},n.prototype.setValue=function(e,n,i){if(void 0===i&&(i=!0),this.debug&&console.log("WUX.WFormPanel.setValue("+e+","+n+","+i+")"),!e)return this
var o=this.subId(e)
if(i&&(this.state||(this.state={}),this.state[e]=n),void 0!==this.internals[e])return void 0===n&&(n=null),this.internals[e]=n,this
for(var r=0,s=this.components;r<s.length;r++){var a=s[r]
if(a.id==o)return a.setState(n),this}if(!this.root||!this.root.length)return this
if("number"==typeof n&&(n=t.formatNum(n)),this.dpids&&this.dpids.indexOf(o)>=0)return void $("#"+o).datepicker("setDate",t.WUtil.toDate(n))
var l=this.root.find("[name="+o+"]")
if(l.length||(l=$("#"+o)),!l.length)return this
switch(null==n&&(n=""),l.attr("type")){case"checkbox":case"radio":l.prop("checked",n)
break
default:n instanceof Date?l.val(t.formatDate(n)):Array.isArray(n)?l.val(n):l.val(t.den(n.toString()))}return this},n.prototype.getValue=function(t){if(t){var e,n
"string"==typeof t?(e=this.subId(t),n=t):(e=t.id,n=t.id)
for(var i=0,o=this.components;i<o.length;i++){var r=o[i]
if(r.id==e)return r.getState()}if(void 0!==this.internals[n])return this.internals[n]
if(this.root&&this.root.length){var s=this.root.find("[name="+e+"]")
if(s.length||(s=$("#"+e)),s.length){var a=s.get(0)
if(a)switch(a.type){case"checkbox":return a.checked
case"select-multiple":for(var l=[],h=0;h<a.length;h++)l.push(a.options[h].value)
return l}return s.val()}}}},n.prototype.getValues=function(e){if(!this.root||!this.root.length)return{}
var n={}
for(var i in this.internals)if(this.internals.hasOwnProperty(i)){var o=this.internals[i]
null!=o&&(n[i]=o)}var r=this.root,s=r[0]
if(!s||!s.elements)return n
for(var a=0;a<s.elements.length;a++){var l=s.elements[a]
if(l.name&&l.value){var h=l.name
switch(l.type){case"checkbox":n[this.ripId(h)]=l.checked
break
case"radio":l.checked&&(n[this.ripId(h)]=l.value)
break
case"select-one":n[this.ripId(h)]=l.options[l.selectedIndex].value
break
case"select-multiple":for(var u=[],p=0;p<l.length;p++)l.options[p].selected&&u.push(l.options[p].value)
n[this.ripId(h)]=u
break
case"text":case"textarea":n[this.ripId(h)]=t.norm(l.value)
break
default:n[this.ripId(h)]=l.value}}}for(var c=0,d=this.components;c<d.length;c++){var f=d[c]
if(f.id){var g=null
if(null==(g=e?t.format(f):f.getState()))continue
n[this.ripId(f.id)]=g}}return n},n.prototype.updateView=function(){if(this.debug&&console.log("WUX.WFormPanel.updateView()"),!this.state)return void this.clear()
for(var t in this.state)this.setValue(t,this.state[t],!1)},n.prototype.validate=function(){for(var e=this.getValues(),n=0;n<this.rows.length;n++)for(var i=this.rows[n],o=0;o<i.length;o++){var r=i[o],s=r.id,a=this.ripId(s)
if(r.required&&null==e[a])throw new Error("Campo "+r.label+": valore obbligatorio")
if(r.size&&null!=e[a]&&e[a].length>r.size)throw new Error("Campo "+r.label+': dimensione massima superata (massimo " + f.size + " caratteri)')
if(r.type&&null!=e[a]){var l=null,h=null
switch(r.type==t.WInputType.Date&&(e[a]=t.WUtil.toDate(e[a])),r.type){case t.WInputType.Number:h=new RegExp("^\\d+\\.\\d{1,2}$|^\\d*$"),h.test(e[a])||(l="Campo "+r.label+": valore non idoneo ("+e[a]+" non risulta numerico)")
break
case t.WInputType.Integer:h=new RegExp("^\\d*$"),h.test(e[a])||(l="Campo "+r.label+": valore non idoneo ("+e[a]+" non risulta intero)")
break
case t.WInputType.Email:h=new RegExp(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/),h.test(e[a])||(l="Campo "+r.label+": valore non idoneo ("+e[a]+" non risulta email)")
break
case t.WInputType.Ftp:h=new RegExp(/(((ftp:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/),h.test(e[a])||(l="Campo "+r.label+": valore non idoneo ("+e[a]+" non risulta URL FTP)")}if(null!=l)throw new Error(l)}}return e},n}(t.WComponent)
t.WFormPanel=m
var C=function(){function e(e,n,i,o,r,s,a){for(var l=[],h=7;h<arguments.length;h++)l[h-7]=arguments[h]
this.grid=e,this.row=n,this.index=i,this.width=o||0,this.height=r||0,this.classStyle=s,this.style=a,this.titles=[],this.components=l||[]
for(var u=0,p=l;u<p.length;u++){var c=p[u]
c instanceof t.WComponent&&!c.parent&&(c.parent=this.grid)}}return e.prototype.css=function(e){return e?("string"==typeof e?e.indexOf(":")>0?this.style=t.style(e):this.classStyle=e:(e.n&&(this.classStyle=e.n),this.style=e),this.grid.mounted&&t.setCss($("#"+this.grid.id+"-"+this.row.index+"-"+this.index),e),this):this},e.prototype.removeClass=function(e){return e?(this.classStyle&&(this.classStyle=t.removeClass(this.classStyle,e)),this.grid.mounted&&$("#"+this.grid.id+"-"+this.row.index+"-"+this.index).removeClass(e),this):this},e.prototype.addCol=function(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o]
return(n=this.row).addCol.apply(n,__spreadArrays([t,e],i))},e.prototype.addRow=function(t,e,n,i){return this.grid.addRow(t,e,n,i)},e.prototype.add=function(e){return e&&this.components.push(e),e instanceof t.WComponent&&!e.parent&&(e.parent=this.grid),this},e.prototype.cell=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
this.components=e||[]
for(var i=0,o=e;i<o.length;i++){var r=o[i]
r instanceof t.WComponent&&!r.parent&&(r.parent=this.grid)}return this},e.prototype.y=function(){return this.ylayout=!0,this},e.prototype.tip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
return this.titles=t||[],this},e.prototype.title=function(t){return this.titles&&this.titles.length?t?this.titles.length>t?this.titles[t]:"":this.titles[0]:""},e}()
t.WGridCol=C
var _=function(){function e(e,n,i,o,r,s,a){this.grid=e,this.index=n,this.width=i||0,this.height=o||0,this.classStyle=r,this.style=s,this.cols=[],this.attributes=t.attributes(a)}return e.prototype.css=function(e){return e?("string"==typeof e?e.indexOf(":")>0?this.style=t.style(e):this.classStyle=e:(e.n&&(this.classStyle=e.n),this.style=e),this.grid.mounted&&t.setCss($("#"+this.grid.id+"-"+this.index),e),this):this},e.prototype.removeClass=function(e){return e?(this.classStyle&&(this.classStyle=t.removeClass(this.classStyle,e)),this.grid.mounted&&$("#"+this.grid.id+"-"+this.index).removeClass(e),this):this},e.prototype.addCol=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]
!t&&this.grid.rows.length>1&&this.grid.rows[0].cols.length>this.cols.length&&(t=this.grid.rows[0].cols[this.cols.length].width)
var o=new(C.bind.apply(C,__spreadArrays([void 0,this.grid,this,this.cols.length,t,e,"",""],n)))
return this.cols.push(o),o},e.prototype.addRow=function(t,e,n,i){return this.grid.addRow(t,e,n,i)},e}()
t.WGridRow=_
var w=function(e){function n(t,n,i,o,r){var s=e.call(this,t||"*","WGrid",r,n,i,o)||this
return s.rows=[],s.overflow="auto",s}return __extends(n,e),n.prototype.getWidth=function(){for(var t=0,e=0;e<this.rows.length;e++){for(var n=this.rows[e],i=0,o=0;o<n.cols.length;o++){var r=n.cols[o].width
i+=r||50}i>t&&(t=i)}return t},n.prototype.getHeight=function(){for(var t=0,e=0;e<this.rows.length;e++){var n=this.rows[e]
if(n.height)t+=n.height
else{for(var i=0,o=0;o<n.cols.length;o++)n.cols[o].height>i&&(i=n.cols[o].height)
0==i&&(i=25),t+=i}}return t},n.prototype.getRowIndex=function(t){if(!this.rows||!this.rows.length)return-1
for(var e=0;e<this.rows.length;e++)if(this.rows[e].ref==t)return e
return-1},n.prototype.removeAll=function(){return this.rows=[],this},n.prototype.addRow=function(t,e,n,i,o){var r=new _(this,this.rows.length,t,e,n,i,o)
return this.rows.push(r),r},n.prototype.addCol=function(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o]
return(n=this.row()).addCol.apply(n,__spreadArrays([t,e],i))},n.prototype.add=function(t){return t?this.col().add(t):this.col()},n.prototype.y=function(){return this.col().y()},n.prototype.tip=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
return(t=this.col()).tip.apply(t,e)},n.prototype.row=function(t){if(t||!(this.rows.length<=t))return this.rows.length||this.addRow(),void 0!==t&&null!==t||(t=this.rows.length-1),this.rows[t]},n.prototype.col=function(t,e){var n=this.row(t)
if(n&&(e||!(n.cols.length<=e)))return n.cols.length||n.addCol(),void 0!==e&&null!==e||(e=n.cols.length-1),n.cols[e]},n.prototype.find=function(e){for(var n=0;n<this.rows.length;n++)for(var i=this.rows[n],o=0;o<i.cols.length;o++)for(var r=i.cols[o],s=0;s<r.components.length;s++)if(t.same(r.components[s],e))return[n,o,s]
return[-1,-1,-1]},n.prototype.element=function(t,e,n){if(void 0===e||null===e)return $("#"+this.id+"-"+t)
if(void 0===n||null===n)return $("#"+this.id+"-"+t+"-"+e)
var i=this.col(t,e)
if(i)return i.components.length>n?i.components[n]:void 0},n.prototype.html=function(t,e,n,i){if(!this.mounted)return!1
if(t>=0&&this.rows.length<=t)return!1
if(e>=0&&this.rows[t].cols.length<=e)return!1
var o=this.rows[t].cols[e],r=this.id+"-"+t+"-"+e
return o.ylayout?$("#"+r+"-"+n).html(i):$("#"+r).html(i),!0},n.prototype.cell=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o]
if(e>=0&&this.rows.length<=e)return!1
if(n>=0&&this.rows[e].cols.length<=n)return!1
var r=this.rows[e].cols[n]
if(this.mounted){i&&1==i.length&&(r.ylayout=!1)
var s=this.id+"-"+e+"-"+n
if(r.ylayout)for(var a=0;a<r.components.length;a++)$("#"+s+"-"+a).html("")
else $("#"+s).html("")
if(i)for(var a=0;a<i.length;a++){r.ylayout&&(s=this.id+"-"+e+"-"+n+"-"+a)
var l=i[a]
l instanceof t.WComponent?(l.mount($("#"+s)),l.parent||(l.parent=this)):$("#"+s).append(l)}}return r.cell.apply(r,i),!0},n.prototype.make=function(){this.overflow||(this.overflow="auto")
for(var e="",n=0;n<this.rows.length;n++){var i=this.rows[n],o=0==n,r=n==this.rows.length-1
i.attributes?e+='<div id="'+this.id+"-"+n+'"'+this.buildRowStyle(i,o,r)+this.buildClass(i)+" "+i.attributes+">":e+='<div id="'+this.id+"-"+n+'"'+this.buildRowStyle(i,o,r)+this.buildClass(i)+">"
for(var s=0;s<i.cols.length;s++){var a=i.cols[s],l=this.id+"-"+n+"-"+s
if(a.ylayout){e+="<span"+this.buildColStyle(a,o,r,!1,i.height)+this.buildClass(a)+' id="'+l+'">'
for(var h=Math.round(100/a.components.length),u=0;u<a.components.length;u++){var p=t.css(this.ydivStyle,this.isText(a.components[u])?this.textStyle:""),c=a.title(u),d=c?' title="'+c+'"':""
e+='<div id="'+this.id+"-"+n+"-"+s+"-"+u+'" + style="width:100%;height:'+h+"%;"+p+'"'+d+"></div>"}e+="</span>"}else{var c=a.title(),f=c?' title="'+c+'"':""
0==a.width&&s==i.cols.length-1?e+="<div"+this.buildColStyle(a,o,r,!0,i.height)+this.buildClass(a)+' id="'+l+'"'+f+"></div>":e+="<span"+this.buildColStyle(a,o,r,!1,i.height)+this.buildClass(a)+' id="'+l+'"'+f+"></span>"}}e+="</div>"}return e},n.prototype.componentDidMount=function(){for(var e=0;e<this.rows.length;e++)for(var n=this.rows[e],i=0;i<n.cols.length;i++)for(var o=n.cols[i],r=0;r<o.components.length;r++){var s=o.components[r],a=this.id+"-"+e+"-"+i
o.ylayout&&(a+="-"+r),s instanceof t.WComponent?s.mount($("#"+a)):$("#"+a).append(s)}},n.prototype.componentWillUnmount=function(){for(var e=0,n=this.rows;e<n.length;e++)for(var i=n[e],o=0,r=i.cols;o<r.length;o++)for(var s=r[o],a=0,l=s.components;a<l.length;a++){var h=l[a]
h instanceof t.WComponent&&h.unmount()}},n.prototype.buildRowStyle=function(e,n,i){var o=""
return o=e.width<0?t.css(this.rowsStyle,{d:"table",h:e.height},e.style):t.css(this.rowsStyle,{w:e.width,h:e.height},e.style),o.indexOf("overflow")>0?' style="'+o+'"':e.width||e.height?' style="'+o+"overflow:"+this.overflow+';"':' style="'+o+'overflow:hidden;"'},n.prototype.buildColStyle=function(e,n,i,o,r){var s=[]
this.ydivStyle&&e.ylayout||s.push(this.colsStyle),n&&this.headStyle?s.push(this.headStyle):i&&this.footStyle&&s.push(this.footStyle),!e.ylayout&&this.isAllText(e.components)&&s.push(this.textStyle),s.push(e.style),s.push({w:e.width,h:e.height?e.height:r})
var a=t.css.apply(void 0,s)
return o?a.indexOf("overflow")>0?' style="'+a+'"':' style="'+a+"overflow:"+this.overflow+';"':a.indexOf("overflow")>0?' style="'+a+'float:left;"':' style="'+a+'float:left;overflow:hidden;"'},n.prototype.buildClass=function(t){return t.classStyle?' class="'+t.classStyle+'"':""},n.prototype.isAllText=function(t){if(!t)return!1
for(var e=0,n=t;e<n.length;e++){var i=n[e]
if(!this.isText(i))return!1}return!0},n.prototype.isText=function(t){return"string"==typeof t&&(!!t&&(t.indexOf("<")<0||!(t.indexOf("<di")>=0)&&(!(t.indexOf("<in")>=0)&&(!(t.indexOf("<se")>=0)&&(!(t.indexOf("<bu")>=0)&&(!(t.indexOf("<im")>=0)&&(!(t.indexOf("<ta")>=0)&&(!(t.indexOf("<if")>=0)&&!(t.indexOf("<a")>=0)))))))))},n}(t.WComponent)
t.WGrid=w
var S=function(n){function i(t,e,o,r,s){void 0===e&&(e="WWindow")
var a=n.call(this,t||"*",e,s,"","",r)||this
return a.position=o,a.position||(a.position="bottom"),a.headerStyle=i.DEF_HEADER_STYLE,a.id&&"*"!=a.id&&$("#"+a.id).length&&$("#"+a.id).remove(),WuxDOM.onRender(function(t){a.mounted||a.mount(t.element)}),a}return __extends(i,n),i.prototype.onShow=function(t){this.handlers._onshow||(this.handlers._onshow=[]),this.handlers._onshow.push(t)},i.prototype.onHide=function(t){this.handlers._onhide||(this.handlers._onhide=[]),this.handlers._onhide.push(t)},i.prototype.onClose=function(t){this.handlers._onclose||(this.handlers._onclose=[]),this.handlers._onclose.push(t)},Object.defineProperty(i.prototype,"header",{get:function(){var t=this
return this.cntHeader?this.cntHeader:(this.cntHeader=new e("","modal-header",this.headerStyle),this.btnCloseHeader=new u(this.subId("bhc"),'<span aria-hidden="true" tabIndex="-1">&times;</span><span class="sr-only">Close</span>',void 0,"close",{op:.6}),this.btnCloseHeader.on("click",function(e){t.close()}),this.cntHeader.add(this.btnCloseHeader),this.cntHeader)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this.cntBody?this.cntBody:(this.cntBody=new e("",t.cls(this._classStyle)),this.cntBody)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"container",{get:function(){if(this.cntRoot)return this.cntRoot
var n="",i={}
return this.width&&(i.w=this.width),this.height&&(i.h=this.height),this.background&&(i.bg=this.background),this.color&&(i.c=this.color),"top"==this.position?this.gap?(i.ml=t.WUtil.getNumber(t.global.window_top,"ml")+this.gap,n=t.css(t.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",t:this.gap},this._style,i)):n=t.css(t.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,i):this.gap?(i.ml=t.WUtil.getNumber(t.global.window_bottom,"ml")+this.gap,n=t.css(t.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",bt:this.gap},this._style,i)):n=t.css(t.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,i),this.cntRoot=new e(this.id,this._classStyle,n,this._attributes),this.cntRoot},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.cntHeader?(this._title=t,this.cntHeader.getRoot().children(this.tagTitle+":first").text(t)):(this._title=t,this.header.add(this.buildTitle(t)))},enumerable:!0,configurable:!0}),i.prototype.show=function(t){if(this.beforeShow()&&(this.parent=t,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&(this.isShown=!0,this.isClosed=!1,this.root.show()),this.handlers._onshow))for(var e=0,n=this.handlers._onshow;e<n.length;e++){var i=n[e]
i(this.createEvent("_onshow"))}},i.prototype.hide=function(){if(this.isShown=!1,this.root&&this.root.length&&this.root.hide(),this.handlers._onhide)for(var t=0,e=this.handlers._onhide;t<e.length;t++){var n=e[t]
n(this.createEvent("_onhide"))}},i.prototype.close=function(){if(this.isClosed=!0,this.handlers._onclose)for(var t=0,e=this.handlers._onclose;t<e.length;t++){var n=e[t]
n(this.createEvent("_onclose"))}this.hide()},i.prototype.scroll=function(e,n,i){if(void 0===n&&(n=0),void 0===i&&(i=4),!e||!this.root)return 0
var o=e instanceof t.WComponent?e.getRoot():e
if("top"==this.position){var r=$(document).scrollTop(),s=o.offset().top,a=s-r-2,l=this.root.height()
if(n&&l<n&&(l=n),a<l){var h=a-l
return r<h?$(document).scrollTop(0):$(document).scrollTop(r-h),h}}else{var r=$(document).scrollTop(),s=o.offset().top
if(!s){var u=o.position()
u&&(s=u.top)}var p=o.height()
p||(p=18)
var c=s+p,d=c-r+2,f=$(window).height(),l=this.root.height()
n&&l<n&&(l=n)
var g=f-l
if(d>g){var h=d-g+i
return $(document).scrollTop(r+h),h}}return 0},i.prototype.scrollY=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=4),"top"==this.position){var i=$(document).scrollTop(),o=t-2,r=this.root.height()
if(e&&r<e&&(r=e),o<r){var s=o-r
return i<s?$(document).scrollTop(0):$(document).scrollTop(i-s),s}}else{var i=$(document).scrollTop(),a=t+n/2+2,l=$(window).height(),r=this.root.height()
e&&r<e&&(r=e)
var h=l-r
if(a>h){var s=a-h+n
return $(document).scrollTop(i+s),s}}return 0},i.prototype.beforeShow=function(){return!0},i.prototype.onShown=function(){},i.prototype.onHidden=function(){},i.prototype.render=function(){return this.isShown=!1,this.isClosed=!1,this.cntHeader&&this.container.addContainer(this.cntHeader),this.cntBody&&this.container.addContainer(this.cntBody),this.cntRoot},i.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntRoot&&this.cntRoot.unmount()},i.prototype.buildTitle=function(e){if(null==e)return""
if(this.tagTitle||(this.tagTitle="h3"),this.titleStyle){var n=t.style(this.titleStyle)
if(n)return"<"+this.tagTitle+' style="'+n+'">'+t.WUtil.toText(e)+"</"+this.tagTitle+">"}return"<"+this.tagTitle+">"+t.WUtil.toText(e)+"</"+this.tagTitle+">"},i.DEF_HEADER_STYLE={p:5,a:"center"},i}(t.WComponent)
t.WWindow=S}(WUX||(WUX={}))
var WUX
!function(t){var e=function(e){function n(t,n,i,o,r,s,a){var l=e.call(this,t||"*","WSelect2",a,o,r,s)||this
return l.rootTag="select",l.options=n,l.multiple=i,l.openOnFocus=!0,l.dontOpen=!1,l.lastChange=0,l.count=n?n.length:0,l._init=!1,l}return __extends(n,e),Object.defineProperty(n.prototype,"visible",{set:function(t){this._visible=t,this.internal&&(this.internal.visible=t),this.root&&this.root.length&&(this.$cb||(this.$cb=this.root.parent().find('span[role="combobox"]').first()),this._visible?this.$cb&&this.$cb.length?this.$cb.show():this.root.show():this.$cb&&this.$cb.length?this.$cb.hide():this.root.hide())},enumerable:!0,configurable:!0}),n.prototype.focus=function(){return this.mounted&&this._enabled?(this.root.focus(),this.$cb||(this.$cb=this.root.parent().find('span[role="combobox"]').first()),this.$cb&&this.$cb.length&&this.$cb.focus(),this):this},n.prototype.getProps=function(){var t=this
return this.root?(this.props=[],this.root.find("option:selected").each(function(e,n){var i=$(n).text()
t.prefix&&(i=t.prefix+" "+i),t.suffix&&(i=i+" "+t.suffix),t.props.push(i)}),this.props):this.props},n.prototype.getState=function(){return this.root?this.state=this.root.val():this.state},n.prototype.getValue=function(){var e=this.getState()
if(null==e)return null
var n=t.WUtil.toString(this.getProps())
return n||(n=""+e),{id:e,text:n}},n.prototype.select=function(t){if(!this.root)return this
var e=this.root.find("option:eq("+t+")").val()
return null==e?this:(this.root.select2("val",e),this)},n.prototype.setOptions=function(t){if(this.options=t,!this.root)return this
this.root.empty()
var e=[]
if(this.options)for(var n=0,i=this.options;n<i.length;n++){var o=i[n]
"string"==typeof o?e.push({id:o,text:o}):e.push(o)}var r={data:e,placeholder:"",allowClear:!0}
return this.init(r),this},n.prototype.reload=function(t){return t&&this.setState(null),this.mounted?(this.root.empty(),this.componentDidMount(),this):this},n.prototype.render=function(){return this.multiple?this.buildRoot(this.rootTag,"",'multiple="multiple"',"form-control"):this.buildRoot(this.rootTag,"","","form-control")},n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.root&&(Array.isArray(this.state)&&this.state.length>1?(this.root.append('<option value="'+this.state[0]+'">'+this.state[this.state.length-1]+"</option>"),this.root.val(this.state[0]).trigger("change")):this.state?"object"==typeof this.state?(this.root.append('<option value="'+this.state.id+'">'+this.state.text+"</option>"),this.root.val(this.state.id).trigger("change")):this.root.val(this.state).trigger("change"):this.root.val([]).trigger("change"),this.dontTrigger=!0,this.lastChange=(new Date).getTime())},n.prototype.componentDidMount=function(){if(this._tooltip&&this.root.attr("title",this._tooltip),this.options)for(var e=0,n=this.options;e<n.length;e++){var i=n[e]
"string"==typeof i?this.root.append("<option>"+t.WUtil.toText(i)+"</option>"):this.root.append('<option value="'+i.id+'">'+t.WUtil.toText(i.text)+"</option>")}var o={placeholder:"",allowClear:!0}
this.init(o)},n.prototype.init=function(e){var n=this
this.root.select2(e),this.updateState(this.state),e?e.data&&(this.count=t.WUtil.size(e.data)):this.count=0,this._init||(this.$cb=this.root.parent().find('span[role="combobox"]').first(),this.$cb.length?this.$cb.on("focus",function(t){if(null!=t.relatedTarget)return n.dontOpen?void(n.dontOpen=!1):void(n.openOnFocus&&setTimeout(function(){if(n.multiple){if(n.$cb&&n.$cb.length){var t=n.$cb.find("input.select2-search__field").first()
t&&t.length&&!t.is(":focus")&&t.focus()}}else{(new Date).getTime()-n.lastChange>900&&n.root.select2("open"),n.dontOpen=!0}},50))}):this.root.on("focus",function(t){if(n.dontOpen)return void(n.dontOpen=!1)
n.openOnFocus&&setTimeout(function(){(new Date).getTime()-n.lastChange>900&&n.root.select2("open"),n.dontOpen=!0},50)}),this.multiple?(this.root.on("select2:select",function(t){n.lastChange=(new Date).getTime(),n.trigger("statechange")}),this.root.on("select2:unselect",function(t){setTimeout(function(){n.lastChange=(new Date).getTime(),n.trigger("statechange")},0)})):this.root.on("change",function(t){n.lastChange=(new Date).getTime(),n.trigger("statechange")}),this._init=!0)},n.prototype.transferTo=function(t,i,o){return t instanceof n?(t.setState(this.getValue(),i,o),!0):e.prototype.transferTo.call(this,t,i,o)},n}(t.WComponent)
t.WSelect2=e
var n=function(e){function n(n,i,o,r){var s=e.call(this,n,"WLookupDialog")||this
return s.title=i,r||(s.fp=new t.WFormPanel(s.subId("fp")),s.fp.addRow(),s.fp.addTextField("c",t.TXT.CODE),s.fp.addRow(),s.fp.addTextField("d",t.TXT.DESCRIPTION),s.fp.on("statechange",function(t){s.lookup&&s.lookup(s.getFilter(),function(t){s.table.setState(t)})})),s.table=new t.WTable(s.subId("table"),[t.TXT.CODE,t.TXT.DESCRIPTION],o),s.table.widths[0]=200,s.table.css({h:360}),s.table.onDoubleClick(function(t){var e=s.table.getSelectedRowsData()
s.selected=e&&e.length?e[0]:void 0,s.selected&&(s.hide(),s.trigger("_selected",s.selected))}),r?s.body.addRow().addCol("12",{pt:8,pb:8}).add(s.table):s.body.addRow().addCol("12").add(s.fp).addRow().addCol("12",{pt:8,pb:8}).add(s.table),s}return __extends(n,e),n.prototype.updateState=function(t){e.prototype.updateState.call(this,t),this.table&&this.table.setState(this.state)},n.prototype.setFilter=function(e){this.fp&&(this.fp.setValue("c",t.WUtil.getItem(e,0)),this.fp.setValue("d",t.WUtil.getItem(e,1)))},n.prototype.getFilter=function(){var t=[]
return this.fp?(t.push(this.fp.getValue("c")),t.push(this.fp.getValue("d")),t):(t.push(""),t.push(""),t)},n.prototype.onSelected=function(t){this.handlers._selected||(this.handlers._selected=[]),this.handlers._selected.push(t)},n.prototype.onShown=function(){if(this.startup=!0,this.table.refresh(),this.fp){this.fp.getValue("d")?this.fp.focusOn("d"):this.fp.focusOn("c")}},n.prototype.onClickOk=function(){var e=this,n=this.table.getSelectedRowsData()
return this.selected=n&&n.length?n[0]:void 0,this.selected?(setTimeout(function(){e.trigger("_selected",e.selected)},100),!0):void t.showWarning("Selezionare un elemento.")},n}(t.WDialog)
t.WLookupDialog=n
var i=function(t){function e(e,n){void 0===n&&(n="btn-group")
var i=t.call(this,e||"*","WMenu","",n)||this
return i.items=[],i.title="Seleziona",i}return __extends(e,t),e.prototype.addItem=function(t,e,n,i){return"string"==typeof t?this.items.push({id:t,icon:e,text:n,marked:i}):this.items.push(t),this},e.prototype.addSep=function(){return this.items.push({id:"",type:"b"}),this},e.prototype.addSection=function(t){return this.items.push({id:"",type:"s",text:t}),this},e.prototype.onClick=function(t){this.handler=t},e.prototype.buildItem=function(t,e,n,i,o){var r=this,s=$("<li></li>")
s.appendTo(t)
var a
a=o?$('<a href="#"><i class="fa '+n+'"></i> &nbsp;<strong>'+i+"</strong></a>"):$('<a href="#"><i class="fa '+n+'"></i> &nbsp;'+i+"</a>"),a.appendTo(s),a.on("click",function(t){t.data=r.data,t.key=e,r.handler(t)})},e.prototype.componentDidMount=function(){null==this.title&&(this.title="Seleziona"),$('<a class="btn btn-link btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+this.title+' <span class="caret"></span></a>').appendTo(this.root)
var t=$('<ul class="dropdown-menu dropdown-menu-right"></ul>')
t.appendTo(this.root),this.items||(this.items=[])
for(var e=0,n=this.items;e<n.length;e++){var i=n[e]
i.type&&"i"!=i.type?"b"==i.type?t.append($('<li role="separator" class="divider"></li>')):"s"==i.type&&t.append($('<li class="dropdown-header">'+i.text+"</li>")):this.buildItem(t,i.id,i.icon,i.text,i.marked)}},e}(t.WComponent)
t.WMenu=i}(WUX||(WUX={}))
