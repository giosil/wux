var WUX,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||((i=i||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},WuxDOM=function(){function l(){}return l.onRender=function(t){l.renderHandlers.push(t)},l.onUnmount=function(t){l.unmountHandlers.push(t)},l.getLastContext=function(){return l.lastCtx},l.register=function(t,e){var n;if(t)return t="string"==typeof t?0==t.indexOf("#")?t.substring(1):t:t.id,e?"string"==typeof e?((n=l.components[t])&&delete l.components[t],n):l.components[t]=e:l.components[t]},l.render=function(o,r,s,a){WUX.debug&&console.log("WuxDOM.render "+WUX.str(o)+" on "+WUX.str(r)+"..."),WUX.global.init(function(){r=r||l.lastCtx||document.getElementById("view-root"),s&&s(r);var t=l.mount(o,r);if(l.lastCtx=t,a&&a(r),0<l.renderHandlers.length){for(var e={component:o instanceof WUX.WComponent?o:null,element:t,target:t.firstChild,type:"render"},n=0,i=l.renderHandlers;n<i.length;n++)(0,i[n])(e);l.renderHandlers=[]}})},l.mount=function(t,e){if(e=e||l.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+"..."),null==t)console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> invalid component");else{var n,i="string"==typeof e?(i=document.getElementById(e))||document.querySelector(e):e;if(i)return l.lastCtx=i,t instanceof WUX.WComponent?(t.mount(i),l.register(i,t)):t instanceof Element?i.append(t):((n=document.createElement("template")).innerHTML=t,i.append(n.content)),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" completed."),i;console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> context unavailable")}},l.unmount=function(t){var e;if(t=t||l.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+"..."),e="string"==typeof t?(e=document.getElementById(t))||document.querySelector(t):t){var n=l.register(e,"delete");if(n&&n.unmount(),e.remove(),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+" completed."),0<l.unmountHandlers.length){for(var i={component:n,element:e,target:e.firstChild,type:"unmount"},o=0,r=l.unmountHandlers;o<r.length;o++)(0,r[o])(i);l.unmountHandlers=[]}return e}console.error("WuxDOM.unmount "+WUX.str(t)+" -> node unavailable")},l.replace=function(t,e){var n,i;if(e||(e=t,t=void 0),t?"string"==typeof t?(i=WUX.getComponent(t))||(n=i.getContext(),i.unmount()):t instanceof WUX.WComponent?(n=t.getContext(),t.unmount()):(n=t.parentElement)&&(n.innerHTML=""):n=l.unmount(),n=n||document.getElementById("view-root"))return l.mount(e,n);console.error("WuxDOM.replace "+WUX.str(n)+" -> node unavailable")},l.create=function(t,e,n,i,o,r,s){if(e=e||"div",n){var a=document.getElementById(n);if(a)return a}var l="string"==typeof t?(l=document.getElementById(t))||document.querySelector(t):t;if(!l)return console.error("WuxDOM.create "+e+" with id="+n+" on "+WUX.str(t)+" -> node unavailable"),null;var h=document.createElement(e);if(n&&h.setAttribute("id",n),i&&h.setAttribute("class",i),o&&h.setAttribute("style",o),s)for(var u in s)s.hasOwnProperty(u)&&h.setAttribute(u,WUX.WUtil.toString(s[u]));return r&&("string"==typeof r?h.innerHTML=r:h.append(r)),l.append(h),h},l.mountjq=function(t,e){return e&&e.length&&l.mount(t,e[0]),e},l.unmountjq=function(t){return t&&t.length&&l.unmount(t[0]),t},l.components={},l.renderHandlers=[],l.unmountHandlers=[],l}(),__extends=(!function(d){d.debug=!1,d.registry=[],d.version="2.0.0";Object.defineProperty(p.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(t){this._visible=t,this.internal&&(this.internal.visible=t),this.root instanceof HTMLElement&&(this._visible?this.root.style.display="block":this.root.style.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.root&&(this._enabled?this.root.removeAttribute("disabled"):this.root.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(t){this._style=d.css(this._baseStyle,t),this.internal&&(this.internal.style=t),this.root&&this.root.setAttribute("style",this._style)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(t){this.internal&&(this.internal.classStyle=t);var e=!1,n=!1;t&&1<t.length&&"!"==t.charAt(0)?(t=t.substring(1),e=!0):t&&1<t.length&&"?"==t.charAt(0)&&(t=t.substring(1),n=!0),this._classStyle=e?d.removeClass(this._classStyle,t):n?d.toggleClass(this._classStyle,t):d.cls(this._baseClass,t),this.root&&(e?m(this.root,t):n?v(this.root,t):this.root.setAttribute("class",this._classStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(t){this._attributes=t,this.internal&&(this.internal.attributes=t)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(t){this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),p.prototype.css=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return this;var n=r.apply(void 0,t),n=(n&&(this.classStyle=n),f.apply(void 0,t));return n&&(this.style=n),this},p.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root instanceof HTMLElement&&this.root.focus(),this},p.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root instanceof HTMLElement&&this.root.blur(),this},p.prototype.forceUpdate=function(t){return this.update(this.props,this.state,!1,!1,!0,t),this},p.prototype.getContext=function(){return this.context},p.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot();if(this.root)return this.root;if(this.id){var t=document.getElementById(this.id);if(t)return t}return this.context},p.prototype.getState=function(){return this.state},p.prototype.setState=function(t,e,n){return this.debug&&console.log("["+c(this)+"] setState",t),this.update(this.props,t,!1,!0,this.forceOnChange||e,n),this},p.prototype.getProps=function(){return this.props},p.prototype.setProps=function(t,e,n){return this.debug&&console.log("["+c(this)+"] setProps",t),this.update(t,this.state,!0,!1,this.forceOnChange||e,n),this},p.prototype.on=function(t,e){if(!t)return this;for(var n="",i=0,o=t.split(" ");i<o.length;i++){var r=o[i];this.handlers[r]||(this.handlers[r]=[]),this.handlers[r].push(e),"_"!=r.charAt(0)&&"mount"!=r&&"unmount"!=r&&"statechange"!=r&&"propschange"!=r&&(n+=" "+r,this.root&&this.root.addEventListener(r,e))}return n&&this.internal&&this.internal.on(n.substring(1),e),this},p.prototype.off=function(t){var e="";if(t)for(var n=0,i=t.split(" ");n<i.length;n++){var o=i[n];if("_"!=o.charAt(0)&&"mount"!=o&&"unmount"!=o&&"statechange"!=o&&"propschange"!=o){if(e+=" "+o,this.root)for(var r=0,s=this.handlers[o];r<s.length;r++){var a=s[r];this.root.removeEventListener(o,a)}delete this.handlers[o]}}else this.handlers={};return e&&this.internal&&this.internal.off(e.substring(1)),this},p.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.debug&&console.log("["+c(this)+"] trigger",t,e),!t)return this;var i=e&&0<e.length?e[0]:void 0;if("_"==t.charAt(0)||"mount"==t||"unmount"==t||"statechange"==t||"propschange"==t){if(void 0!==i&&("statechange"==t?this.state!=e[0]&&(this.state=e[0],this.debug&&console.log("["+c(this)+"] trigger set state",this.state)):"propschange"==t&&this.props!=e[0]&&(this.props=e[0],this.debug&&console.log("["+c(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[t])return this;for(var o=this.createEvent(t,i),r=0,s=this.handlers[t];r<s.length;r++)(0,s[r])(o)}else this.root&&(this.debug&&console.log("["+c(this)+"] trigger "+t+" on root="+c(this.root)),this.root.dispatchEvent(new Event(t,i)));return this.internal&&(this.debug&&console.log("["+c(this)+"] trigger "+t+" on internal="+c(this.internal)),(i=this.internal).trigger.apply(i,__spreadArray([t],e,!1))),this},p.prototype.unmount=function(){var t;return this.debug&&console.log("["+c(this)+"] unmount ctx="+c(this.context)+" root="+c(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.remove(),this.root=void 0,this.$r=void 0,this.id&&0<=(t=d.registry.indexOf(this.id))&&d.registry.splice(t,1),this.mounted=!1,WuxDOM.register(this.id,"delete"),this.trigger("unmount"),this},p.prototype.mount=function(t){this.debug&&console.log("["+c(this)+"] mount ctx="+c(t)+" root="+c(this.root),this.state,this.props),this.id||this.root&&(this.id=this.root.id),t&&(this.context=t),this.context||this.root&&(this.context=this.root.parentElement,this.context||(this.context=this.root));try{this.mounted&&this.unmount(),this.mounted=!1,this.context||(u=document.getElementById(this.id))&&(this.context=u),this.debug&&console.log("["+c(this)+"] componentWillMount ctx="+c(t)+" root="+c(this.root)),this.componentWillMount(),this.context&&(this.debug&&console.log("["+c(this)+"] render ctx="+c(t)+" root="+c(this.root)),(e=this.render())?e instanceof p?(this.debug&&console.log("["+c(this)+"] render -> "+c(e)),(this.internal=e).parent||(e.parent=this),e.mount(this.context),this.root||(this.id?(u=document.getElementById(this.id),this.root=u||this.internal.getRoot()):this.root=this.context)):e instanceof Element?(this.context.append(e),this.root||(this.root=e)):((n=document.createElement("template")).innerHTML=e,this.context.append(n.content),(i=this.context.lastChild)instanceof Element&&(this.root=i),this.root||(this.root=this.id?document.getElementById(this.id):this.context)):(this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?document.getElementById(this.id):this.context))),this._visible||(this.internal?this.internal.visible=!1:this.root instanceof HTMLElement&&(this.root.style.display="none")),this._enabled||(this.internal?this.internal.enabled=!1:this.root.setAttribute("disabled","")),this.debug&&console.log("["+c(this)+"] componentDidMount ctx="+c(t)+" root="+c(this.root));var e,n,i,o,r=window.jQuery||null;if(r&&(this.$r=r(this.root)),this.componentDidMount(),this.root)for(var s in this.handlers)if(s&&"_"!=s.charAt(0)&&"mount"!=s&&"unmount"!=s&&"statechange"!=s&&"propschange"!=s)for(var a=0,l=this.handlers[s];a<l.length;a++){var h=l[a];this.root.addEventListener(s,h)}WuxDOM.register(this.root,this),this.mounted=!0,!this.id||this.internal&&this.internal.id==this.id||(0<=d.registry.indexOf(this.id)?(o=d.getComponent(this.id))&&o.cuid!=this.cuid&&console.error("["+c(this)+"] id already used by "+c(o)):d.registry.push(this.id)),this.trigger("mount")}catch(t){var u=c(this)+" "+c(this.context);console.error("["+c(this)+"] mount error "+u,t),this.componentDidCatch(t,u)}return this},p.prototype.componentWillUnmount=function(){},p.prototype.componentWillMount=function(){},p.prototype.render=function(){return this.buildRoot(this.rootTag)},p.prototype.componentDidMount=function(){},p.prototype.componentDidCatch=function(t,e){},p.prototype.shouldComponentUpdate=function(t,e){return"object"==typeof t||"object"==typeof e||(this.props!=t||this.state!=e)},p.prototype.componentWillUpdate=function(t,e){},p.prototype.componentDidUpdate=function(t,e){},p.prototype.updateProps=function(t){this.props=t},p.prototype.updateState=function(t){this.state=t},p.prototype.update=function(t,e,n,i,o,r){void 0===o&&(o=!1),this.debug&&console.log("["+c(this)+"] update",t,e,"propsChange="+n+",stateChange="+i+",force="+o),t=void 0===t?this.props:t;var s=this.props,a=this.state;if(this.dontTrigger=!1,this.mounted){if(o||this.shouldComponentUpdate(t,e)){try{this.debug&&console.log("["+c(this)+"] componentWillUpdate",t,e),this.componentWillUpdate(t,e),n&&(this.debug&&console.log("["+c(this)+"] updateProps",t),this.updateProps(t)),i&&(this.debug&&console.log("["+c(this)+"] updateState",e),this.updateState(e)),o&&this.mount(),this.debug&&console.log("["+c(this)+"] componentDidUpdate",s,a),this.componentDidUpdate(s,a),n&&!this.dontTrigger&&this.trigger("propschange"),i&&!this.dontTrigger&&this.trigger("statechange")}catch(t){return this.componentDidCatch(t,c(this)+"|"+c(this.context)),!1}r&&r()}}else n&&(this.debug&&console.log("["+c(this)+"] updateProps",t),this.updateProps(t),this.dontTrigger||this.trigger("propschange")),i&&(this.debug&&console.log("["+c(this)+"] updateState",e),this.updateState(e),this.dontTrigger||this.trigger("statechange"));return!0},p.prototype.createEvent=function(t,e){var n=this.root&&this.root.firstChild;return{component:this,element:this.root,target:n,type:t,data:e}},p.prototype.shouldBuildRoot=function(){if(this.internal)return!1;if(this.root)return!1;if(this.context){var t=this.context.id;if(!t&&t==this.id)return!1}return!0},p.prototype.buildRoot=function(t,e,n,i,o,r,s){if(this.debug&&console.log("["+c(this)+"] buildRoot",t,e,n,i,o,r,s),this.shouldBuildRoot())return this.debug&&console.log("["+c(this)+"] shouldBuildRoot() -> true"),this.build(t,e,n,i,o,r,s);this.debug&&console.log("["+c(this)+"] shouldBuildRoot() -> false")},p.prototype.build=function(t,e,n,i,o,r,s){void 0===i&&(i=this._classStyle),void 0===o&&(o=this._style),void 0===r&&(r=this._attributes);var a="<"+(t=t||"div"),s=((s=void 0===s?this.id:s)&&(a+=' id="'+s+'"'),i&&(a+=' class="'+i+'"'),o&&(a+=' style="'+o+'"'),d.attributes(r)),i=(s&&(a+=" "+s),d.attributes(n)),o=(i&&(a+=" "+i),a+=">",l(null==e?this.make():e));return a+=o[1],"input"==t?o[0]+a+o[2]:o[0]+(a+="</"+t+">")+o[2]},p.prototype.make=function(){return""},p.prototype.subId=function(t,e){var n;return t instanceof p?!(n=t.id)||!this.id||0!=n.indexOf(this.id+"-")?n:n.substring(this.id.length+1):(this.id&&"*"!=this.id||(this.id="w"+this.cuid),t&&"*"!=t||(t=(this.subSeq++).toString()),e||0==e?this.id+"-"+t+"-"+e:this.id+"-"+t)},p.prototype.ripId=function(t){return t&&this.id&&0==t.indexOf(this.id)&&t.length>this.id.length+1?t.substring(this.id.length+1):t},p.prototype.transferTo=function(t,e,n){return this.debug&&console.log("["+c(this)+"] transferTo "+c(t)),!!t&&(t.setState(this.getState(),e,n),!0)};var a=p;function p(t,e,n,i,o,r){this.mounted=!1,this.debug=d.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),t instanceof Element?(this.root=t,this.root&&(this.mounted=!0),this.debug&&console.log("["+c(this)+"] new wrapper root="+c(this.root))):("string"==typeof t&&(this.id="*"==t?"w"+this.cuid:t),this.name=e||"WComponent",this._classStyle=i,(t=d.cls(o))&&(this._classStyle=this._classStyle?this._classStyle+" "+t:t),this._style=d.style(o),this._attributes=d.attributes(r),this.debug&&console.log("["+c(this)+"] new"),this.debug&&console.log("["+c(this)+"] updateProps",n),this.updateProps(n))}function i(t){if(t)return t instanceof Element||t instanceof a?t.id:"string"==typeof t&&t.indexOf("<")<0?0==t.indexOf("#")?t.substring(1):t:"object"!=typeof t||t.id?"":""+t.id}function l(t){if(!t)return["","",""];if(" "==t)return["","&nbsp;",""];var e=" "==t.charAt(0)?"&nbsp;":"",n=1<t.length&&" "==t.charAt(t.length-1)?"&nbsp;":"",i=t.trim().split("<>");return!i||i.length<2?[e,t.trim(),n]:(e+=i[0],2==i.length?[e,i[1],""]:(n+=i[2],[e,i[1],n]))}function c(t){var e,n;return t instanceof a?(n=(n=t.name)||"WComponent",(e=t.id)?n+"("+e+")":n):t instanceof jQuery?t.length?'$("'+t.selector+'").id='+t[0].id:'$("'+t.selector+'").length=0':t instanceof Element?"Element#"+t.id:"object"==typeof t?JSON.stringify(t):t+""}function h(t){var e="";return t?"string"==typeof t?t.indexOf(":")<=0?"":";"!=t.charAt(t.length-1)?t+";":t:(t.s&&(e+=f(t.s)),t.fs&&(e+="font-style:"+t.fs+";"),t.fw&&(e+="font-weight:"+t.fw+";"),t.tt&&(e+="text-transform:"+t.tt+";"),t.tr&&(e+="transform:"+t.tr+";"),t.fl&&(e+="float:"+t.fl+";"),t.cl&&(e+="clear:"+t.cl+";"),t.a&&(e+="text-align:"+t.a+";"),t.c&&(e+="color:"+t.c+";"),t.v&&(e+="vertical-align:"+t.v+";"),t.d&&(e+="display:"+t.d+";"),t.z&&(e+="z-index:"+t.z+";"),t.lh&&(e+="line-height:"+t.lh+";"),t.ps&&(e+="position:"+t.ps+";"),t.o&&(e+="overflow:"+t.o+";"),t.ox&&(e+="overflow-x:"+t.ox+";"),t.oy&&(e+="overflow-y:"+t.oy+";"),null!=t.op&&(e+="opacity:"+t.op+";"),null!=t.ol&&(e+="outline:"+t.ol+";"),t.cr&&(e+="cursor:"+t.cr+";"),t.cn&&(e+="content:"+t.cn+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-webkit"+t.k+";":"-webkit-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-moz"+t.k+";":"-moz-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-o"+t.k+";":"-o-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-ms"+t.k+";":"-ms-"+t.k+";"),t.bs&&(e+="box-shadow:"+t.bs+";"),t.bz&&(e+="box-sizing:"+t.bz+";"),t.b&&(e+=0<t.b.indexOf(":")?f("border"+t.b):t.b.match(/^(|none|inherit|initial|unset)$/)||0<t.b.indexOf(" ")?"border:"+t.b+";":"border:1px solid "+t.b+";"),t.bc&&(e+="border-collapse:"+t.bc+";"),null!=t.br&&(e+="number"==typeof t.br?"border-radius:"+t.br+"px;":"border-radius:"+t.br+";"),null!=t.bsp&&(e+="number"==typeof t.bsp?"border-spacing:"+t.bsp+"px;":"border-spacing:"+t.bsp+";"),null!=t.m&&(e+="number"==typeof t.m?"margin:"+t.m+"px;":0<t.m.indexOf(":")?f("margin"+t.m):"margin:"+t.m+";"),null!=t.mt&&(e+="number"==typeof t.mt?"margin-top:"+t.mt+"px;":"margin-top:"+t.mt+";"),null!=t.mr&&(e+="number"==typeof t.mr?"margin-right:"+t.mr+"px;":"margin-right:"+t.mr+";"),null!=t.mb&&(e+="number"==typeof t.mb?"margin-bottom:"+t.mb+"px;":"margin-bottom:"+t.mb+";"),null!=t.ml&&(e+="number"==typeof t.ml?"margin-left:"+t.ml+"px;":"margin-left:"+t.ml+";"),null!=t.p&&(e+="number"==typeof t.p?"padding:"+t.p+"px;":0<t.p.indexOf(":")?f("padding"+t.p):"padding:"+t.p+";"),null!=t.pt&&(e+="number"==typeof t.pt?"padding-top:"+t.pt+"px;":"padding-top:"+t.pt+";"),null!=t.pr&&(e+="number"==typeof t.pr?"padding-right:"+t.pr+"px;":"padding-right:"+t.pr+";"),null!=t.pb&&(e+="number"==typeof t.pb?"padding-bottom:"+t.pb+"px;":"padding-bottom:"+t.pb+";"),null!=t.pl&&(e+="number"==typeof t.pl?"padding-left:"+t.pl+"px;":"padding-left:"+t.pl+";"),null!=t.f&&(e+="number"==typeof t.f?"font-size:"+t.f+"px;":0<t.f.indexOf(":")?f("font"+t.f):"font-size:"+t.f+";"),t.bg&&(e+=0<t.bg.indexOf(":")?f("background"+t.bg):0<=t.bg.indexOf("url")?"background:"+t.bg+";":"background-color:"+t.bg+";"),t.bgi&&(e+="background-image:"+t.bgi+";"),t.bgp&&(e+="background-position:"+t.bgp+";"),t.bgr&&(e+="background-repeat:"+t.bgr+";"),t.text&&(e+=0<t.text.indexOf(":")?f("text"+t.text):"text-decoration:"+t.text+";"),null!=t.l&&(e+="number"==typeof t.l?"left:"+t.l+"px;":"left:"+t.l+";"),null!=t.r&&(e+="number"==typeof t.r?"right:"+t.r+"px;":"right:"+t.r+";"),null!=t.t&&(e+="number"==typeof t.t?"top:"+t.t+"px;":"top:"+t.t+";"),null!=t.bt&&(e+="number"==typeof t.bt?"bottom:"+t.bt+"px;":"bottom:"+t.bt+";"),t.w&&(e+="number"==typeof t.w?"width:"+t.w+"px;":"width:"+t.w+";"),t.h&&(e+="number"==typeof t.h?"height:"+t.h+"px;":"height:"+t.h+";"),t.minw&&(e+="number"==typeof t.minw?"min-width:"+t.minw+"px;":"min-width:"+t.minw+";"),t.maxw&&(e+="number"==typeof t.maxw?"max-width:"+t.maxw+"px;":"max-width:"+t.maxw+";"),t.minh&&(e+="number"==typeof t.minh?"min-height:"+t.minh+"px;":"min-height:"+t.minh+";"),t.maxh&&(e+="number"==typeof t.maxh?"max-height:"+t.maxh+"px;":"max-height:"+t.maxh+";"),t.ws&&(e+="white-space:"+t.ws+";"),e):e}function u(t){var t=h(t),e={};if(!t)return e;for(var n=0,i=t.split(";");n<i.length;n++){var o=i[n].split(":");o.length<2||(e[o[0].trim()]=o[1].trim())}return e}function o(t,e,n,i){if(!e)return f(t);var o,r=u(t),t=r[e],s=("boolean"==typeof n?n&&i?r[e]=i:delete r[e]:t==n?i?r[e]=i:delete r[e]:n?r[e]=n:delete r[e],"");for(o in r)s+=o+":"+r[o]+";";return s}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return"";for(var n="",i={},o=!0,r=0;r<t.length;r++){var s=t[r];s&&("string"!=typeof s?(i=__assign(__assign({},i),s),o=!1):(o||(n+=h(i),i={},o=!0),0<s.indexOf(":")&&(n+=s,";"!=s.charAt(s.length-1)&&(n+=";"))))}return o||(n+=h(i)),n}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";for(var n="",i=0;i<t.length;i++){var o=t[i];o&&(!(o="string"==typeof o?o:o.n)||0<o.indexOf(":")||(n+=o+" "))}return n.trim()}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";if(1==t.length){var n=t[0];if(!n)return"";if("string"==typeof n&&0<=n.indexOf("^"))return s.apply(void 0,n.split("^"))}var n=r.apply(void 0,t),i=f.apply(void 0,t),o="";return n&&(o+=' class="'+n+'"'),i&&(o+=' style="'+i+'"'),o}function n(t,e){if(!t)return e;if(!e)return t;for(var n=0,i=t.split(" ");n<i.length;n++)if(i[n]==e)return t;return t+" "+e}function g(t,e){if(!t||!e)return t;for(var n="",i=0,o=t.split(" ");i<o.length;i++){var r=o[i];r!=e&&(n+=r+" ")}return n.trim()}function b(t,e){if(!t)return e;if(!e)return t;for(var n=!1,i="",o=0,r=t.split(" ");o<r.length;o++){var s=r[o];s==e?n=!0:i+=s+" "}return n?i.trim():i.trim()+" "+e}function y(t,e){return t&&(t.setAttribute("class",n(t.getAttribute("class"),e)),t)}function m(t,e){return t&&(t.getAttribute("class")&&t.setAttribute("class",g(t.getAttribute("class"),e)),t)}function v(t,e){return t&&(t.setAttribute("class",b(t.getAttribute("class"),e)),t)}function S(t,e,n,i){return t&&(t.setAttribute("style",o(t.getAttribute("style"),e,n,i)),t)}function _(t){if(!t)return!1;t=window.getComputedStyle(t);return!!t&&("none"!=t.display&&"hidden"!=t.visibility)}function C(t,e){if(!t)return t;var n=window.jQuery||null;return n?n(t).slideUp(e):S(t,"display","none"),t}function O(t,e){if(!t)return t;var n=window.jQuery||null;return n?n(t).slideDown(e):S(t,"display","block"),t}function w(t,e,n,i,o,r){t=t||"div","string"==typeof n?0<n.indexOf(":")?a=n:s=n:n&&(n.n&&(s=n.n),a=d.style(n)),r&&(s?s+=" "+r:s=r);var s,a,n="<"+t,r=(o&&(n+=' id="'+o+'"'),s&&(n+=' class="'+s+'"'),a&&(n+=' style="'+a+'"'),d.attributes(i)),o=(r&&(n+=" "+r),n+=">",l(e));return n+=o[1],"input"==t?o[0]+n+o[2]:o[0]+(n+="</"+t+">")+o[2]}d.WComponent=a,d.getId=i,d.firstSub=function(t,e){if(!(t=i(t)))return"";var n=t.indexOf("-");return n<0?t:e?t.substring(n+1):t.substring(0,n)},d.lastSub=function(t){if(!(t=i(t)))return"";var e=t.lastIndexOf("-");return e<0?t:0<e&&"-"==t.charAt(e-1)?t.substring(e):t.substring(e+1)},d.getComponent=function(t){if(t)return WuxDOM.components[t]},d.getRootComponent=function t(e){return e&&(e.parent?t(e.parent):e)},d.setProps=function(t,e){if(t){t=WuxDOM.components[t];if(t)return t.setProps(e),t}},d.getProps=function(t,e){return!t||!(t=WuxDOM.components[t])||null==(t=t.getProps())?e:t},d.setState=function(t,e){if(t){t=WuxDOM.components[t];if(t)return t.setState(e),t}},d.getState=function(t,e){return!t||!(t=WuxDOM.components[t])||null==(t=t.getState())?e:t},d.newInstance=function(t){if(!t)return null;var e=t.lastIndexOf(".");if(0<e){var n=t.substring(0,e);if(window[n]){var i,o=t.substring(e+1);for(i in window[n])if(i==o)return new window[n][i];return null}}return(e=window[t])&&e.prototype?Object.create(e.prototype):null},d.same=function(t,e){return"string"==typeof t&&"string"==typeof e?t==e:"string"!=typeof t&&"string"!=typeof e&&(t=i(t),e=i(e),t&&e&&t==e)},d.match=function(t,e){return e?null==t?"string"==typeof e?""==e:!e.id:"object"==typeof t?"string"==typeof e?e==t.id:e.id==t.id:"string"==typeof e?e==t:e.id==t:!t},d.divide=l,d.str=c,d.getTagName=function(t){if(!t)return"";var e;if(t instanceof a){if(e=t.rootTag)return e.toLowerCase();var n=t.getRoot();return n?"":d.getTagName(n)}return t instanceof Element?t.tagName.toLowerCase():"<"==(n=""+t).charAt(0)?0<(t=(t=n.indexOf(" "))<0?n.indexOf(">"):t)?"/"==(e=n.substring(1,t).toLowerCase()).charAt(e.length-1)?e.substring(0,e.length-1):e:"":"#"==n.charAt(0)?d.getTagName(document.getElementById(n.substring(1))):d.getTagName(document.getElementById(n))},d.style=h,d.styleObj=u,d.toggleAttr=function(t,e,n,i){return t&&e&&(i=i||"",n?t.setAttribute(e,i):t.removeAttribute(e)),t},d.toggleStyle=o,d.css=f,d.cls=r,d.attributes=function(t){if(!t)return"";if("string"==typeof t)return t;if("object"!=typeof t)return"";var e,n="";for(e in t)t.hasOwnProperty(e)&&(n+=e+'="'+x.toString(t[e])+'" ');return n.trim()},d.buildCss=s,d.addClass=n,d.removeClass=g,d.toggleClass=b,d.addClassOf=y,d.removeClassOf=m,d.toggleClassOf=v,d.toggleStyleOf=S,d.isVisible=_,d.slideToggle=function(t,e){return t&&((_(t)?C:O)(t,e),t)},d.slideUp=C,d.slideDown=O,d.setCss=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t&&i&&i.length&&(t instanceof a?t.css.apply(t,i):t instanceof Element&&(e=f.apply(void 0,i),(n=r.apply(void 0,i))&&y(t,n),e&&t.setAttribute("style",h(e)))),t},d.buildIcon=function(t,e,n,i,o,r){if(!t)return"";e=e||"",n=n||"";var s=d.CSS.ICON?' style="'+d.CSS.ICON+'"':"",r=r?' title="'+r+'"':"";return o=o?" "+o:"",0<t.indexOf(".")?e+'<img src="'+t+'"'+r+s+">"+n:!i||i<2?e+'<i class="fa '+t+o+'"'+r+s+"></i>"+n:e+'<i class="fa '+t+" fa-"+(i=5<i?5:i)+"x"+o+'"'+r+s+"></i>"+n},d.build=w,d.create=function(t,e,n,i,o,r){var s=document.createElement("template");return s.innerHTML=w(t,e,n,i,o,r),s.content.firstElementChild};E.toArray=function(t){if(null==(t=t instanceof a?t.getState():t))return[];if(Array.isArray(t))return t;var e=[];return e.push(t),e},E.toArrayNumber=function(t,e){if(null==(t=t instanceof a?t.getState():t))return[];var n=[];if(Array.isArray(t))for(var i=0,o=t;i<o.length;i++){var r=o[i],s=E.toNumber(r);e&&!s||n.push(s)}else{s=E.toNumber(t);if(e&&!s)return n;n.push(s)}return n},E.toArrayString=function(t,e){if(null==(t=t instanceof a?t.getState():t))return[];var n=[];if(Array.isArray(t))for(var i=0,o=t;i<o.length;i++){var r=o[i],s=E.toString(r);e&&!s||n.push(s)}else{s=E.toString(t);if(e&&!s)return n;n.push(E.toString(t))}return n},E.splitNumbers=function(t,e){if(!t)return[];for(var n=[],i=0,o=E.toString(t).split(e);i<o.length;i++){var r=o[i];n.push(E.toNumber(r))}return n},E.toObject=function(t,e){return null!=(t=t instanceof a?t.getState():t)&&"object"==typeof t?t:e},E.toString=function(t,e){return void 0===e&&(e=""),null==(t=t instanceof a?t.getState():t)?e:"string"==typeof t?t:t instanceof Date?d.formatDate(t):"object"==typeof t&&null!=t.id?E.toString(t.id,e):Array.isArray(t)&&t.length?E.toString(t[0],e):""+t},E.toText=function(t,e){return E.toString(t,e=void 0===e?"":e).replace("<","&lt;").replace(">","&gt;")},E.toNumber=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if("number"==typeof t)return t;if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return E.toNumber(t.id,e);if(Array.isArray(t)&&t.length)return E.toNumber(t[0],e);t=(""+t).trim(),t=((t=(t=0<=t.indexOf(".")&&0<=t.indexOf(",")?t.replace(".",""):t).replace(",",".")).indexOf(".")>=e?parseFloat:parseInt)(t);return isNaN(t)?e:t},E.toInt=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if("number"==typeof t)return Math.floor(t);if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return E.toInt(t.id,e);if(Array.isArray(t)&&t.length)return E.toInt(t[0],e);t=(""+t).replace(",","."),t=parseInt(t);return isNaN(t)?e:t},E.toIntTime=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if(t instanceof Date)return 100*t.getHours()+t.getMinutes();if(Array.isArray(t)&&t.length)return E.toIntTime(t[0],e);t=(""+t).replace(":","").replace(".","").replace(",",""),t=parseInt(t);return isNaN(t)?e:t},E.isNumeric=function(t){return!isNaN(t)},E.checkEmail=function(t){if(!t)return"";t=E.toString(t);if(!t)return"";if(t.length<5)return"";var e=t.indexOf("@");return e<=0||t.lastIndexOf(".")<e?"":t.trim().toLowerCase()},E.starts=function(t,e){return!(!t||null==e)&&0==E.toString(t).indexOf(e)},E.ends=function(t,e){if(!t||null==e)return!1;var t=E.toString(t),n=t.lastIndexOf(e);return!(n<0)&&n==t.length-e.length},E.isEmpty=function(t){if(!t)return!0;if(Array.isArray(t)&&!t.length)return!0;if("object"!=typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},E.toBoolean=function(t,e){return void 0===e&&(e=!1),null==(t=t instanceof a?t.getState():t)?e:"boolean"==typeof t?t:"string"==typeof t&&t.length?0<="1YyTtSs".indexOf(t.charAt(0)):!!e},E.toDate=function(t,e){if(null==(t=t instanceof a?t.getState():t))return e;if(t instanceof Date)return t;if("number"==typeof t)return t<10000101?e:new Date(t/1e4,t%1e4/100-1,t%1e4%100);if("string"!=typeof t)return e;if(t.length<8)return e;var n=t.indexOf(",");return 3<(t=0<=n?t.substring(n+1):t).indexOf("-")?new Date(t.trim()):this.isNumeric(t)?(n=parseInt(t))<10000101?e:new Date(n/1e4,n%1e4/100-1,n%1e4%100):new Date(t.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))},E.getWeek=function(t){var t=t instanceof Date?new Date(t.getTime()):E.toDate(t),e=((t=t||new Date).setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7),new Date(t.getFullYear(),0,4));return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},E.getParam=function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return t&&t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):""},E.size=function(t){if(!t)return 0;if(Array.isArray(t))return t.length;if("object"!=typeof t)return 0;var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n},E.get=function(t,e){return null==t||null==e?t:"object"==typeof t?0<(n=e.indexOf("."))?E.get(t[e.substring(0,n)],e.substring(n+1)):t[e]:null;var n},E.is=function(t,e,n){var i=E.get(e,n);if("undefined"==t)return null==i;if("null"==t)return null==i;if(null==i)return"empty"==t;if("notnull"==t)return!0;switch(t){case"array":return Array.isArray(i);case"array0":return Array.isArray(i)&&0==i.length;case"arraynot0":return Array.isArray(i)&&0<i.length;case"date":return i instanceof Date;case"empty":return E.isEmpty(i);case"nan":return isNaN(i);case"value":return i instanceof Date?!0:"object"!=typeof i&&"function"!=typeof i;default:return typeof i==t}},E.setValue=function(t,e,n){return null!=t&&"object"==typeof t&&(t[e]=n),t},E.getValue=function(t,e,n){if(!t||!e)return n;if(Array.isArray(t)&&t.length)return"-1"==e?E.getLast(t,n):E.isNumeric(e)?E.getItem(t,parseInt(e),n):E.getValue(t[0],e,n);if("object"==typeof t){if(null!=t[e])return t[e];var i=e.indexOf(".");if(0<i){var o=e.substring(0,i);if(null!=t[o])return E.getValue(t[o],e.substring(i+1),n)}}return n},E.getItem=function(t,e,n){return e<0||!(Array.isArray(t)&&t.length>e&&null!=(i=t[e]))?n:i;var i},E.getFirst=function(t,e){return!(Array.isArray(t)&&0<t.length&&null!=(t=t[0]))?e:t},E.getLast=function(t,e){return!(Array.isArray(t)&&0<t.length&&null!=(t=t[t.length-1]))?e:t},E.getNumber=function(t,e,n){return E.toNumber(E.getValue(t,e),n)},E.getInt=function(t,e,n){return E.toInt(E.getValue(t,e),n)},E.getString=function(t,e,n,i){t=E.getValue(t,e);return null==t?n:i?"?"==i?"number"==typeof t?d.formatNum(t):E.toString(t):"c"==i?d.formatCurr(t):"c5"==i?d.formatCurr5(t):"n"==i?d.formatNum(t):"n2"==i?d.formatNum2(t):"d"==i?d.formatDate(t):"dt"==i?d.formatDateTime(t):"t"==i?d.formatTime(t):E.toString(t):E.toString(t)},E.getText=function(t,e,n){return E.toText(E.getValue(t,e),n)},E.getBoolean=function(t,e,n){return E.toBoolean(E.getValue(t,e),n)},E.getDate=function(t,e,n){return E.toDate(E.getValue(t,e),n)},E.getArray=function(t,e){return E.toArray(E.getValue(t,e))},E.getArrayNumber=function(t,e,n){return E.toArrayNumber(E.getValue(t,e),n)},E.getArrayString=function(t,e,n){return E.toArrayString(E.getValue(t,e),n)},E.getObject=function(t,e,n){t=E.toObject(E.getValue(t,e));return!t&&n?{}:t},E.sort=function(t,e,n){if(void 0===e&&(e=!0),!t)return[];t=E.toArray(t);if(!n)return i=t.sort(),e?i:i.reverse();var i=t.sort(function(t,e){t=E.getValue(t,n),e=E.getValue(e,n);return t<e?-1:e<t?1:0});return e?i:i.reverse()},E.find=function(t,e,n){if(!t||!e)return null;for(var i=0,o=E.toArray(t);i<o.length;i++){var r=o[i],s=E.getValue(r,e);if(s instanceof Date&&n instanceof Date&&s.getTime()==n.getTime())return r;if(s==n)return r}return null},E.indexOf=function(t,e,n){if(!t||!e)return-1;for(var i=E.toArray(t),o=0;o<i.length;o++){var r=E.getValue(i[o],e);if(r instanceof Date&&n instanceof Date&&r.getTime()==n.getTime())return o;if(r==n)return o}return-1},E.isSameDate=function(t,e){return this.toNumber(t)==this.toNumber(e)},E.indexOfDate=function(t,e){if(!t||!e)return-1;for(var n=E.toNumber(e),i=0;i<t.length;i++)if(t[i]&&E.toNumber(t[i])==n)return i;return-1},E.round2=function(t){if(null==t)return 0;t=E.toNumber(t);return Math.round(100*t)/100},E.floor2=function(t){if(null==t)return 0;t=E.toNumber(t);return Math.floor(100*t)/100},E.ceil2=function(t){if(null==t)return 0;t=E.toNumber(t);return Math.ceil(100*t)/100},E.compare2=function(t,e){if(!t&&!e)return 0;t=Math.round(100*E.toNumber(t)),e=Math.round(100*E.toNumber(e));return t==e?0:e<t?1:-1},E.compare5=function(t,e){if(!t&&!e)return 0;t=Math.round(1e4*E.toNumber(t)),e=Math.round(1e4*E.toNumber(e));return t==e?0:e<t?1:-1},E.getCurrDate=function(t,e,n,i,o){var r=new Date;return r.setHours(0,0,0,0),t&&r.setDate(r.getDate()+t),e&&r.setMonth(r.getMonth()+e),n&&r.setFullYear(r.getFullYear()+n),i&&r.setDate(1),o&&(r.setMonth(r.getMonth()+1),r.setDate(0)),r},E.calcDate=function(t,e,n,i,o,r){return(t=t?new Date(t.getTime()):new Date).setHours(0,0,0,0),e&&t.setDate(t.getDate()+e),n&&t.setMonth(t.getMonth()+n),i&&t.setFullYear(t.getFullYear()+i),o&&t.setDate(1),r&&(t.setMonth(t.getMonth()+1),t.setDate(0)),t},E.timestamp=function(t){var t=t?E.toDate(t):new Date,e=""+(t=t||new Date).getFullYear(),n=t.getMonth()+1,n=n<10?"0"+n:""+n,i=t.getDate(),i=i<10?"0"+i:""+i,o=t.getHours(),o=o<10?"0"+o:""+o,r=t.getMinutes(),r=r<10?"0"+r:""+r,t=t.getSeconds();return e+n+i+o+r+(t<10?"0"+t:""+t)},E.nvl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(!o)return o}return t[0]}},E.eqValues=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!t&&!e)return!0;if(!t||!e)return!1;for(var o=0,r=n;o<r.length;o++){var s=r[o];if(t[s]!=e[s])return!1}return!0},E.col=function(t,e,n){var i=[];if(!t||!t.length)return i;for(var o=0,r=t;o<r.length;o++){var s=r[o];i.push(E.getItem(s,e,n))}return i},E.getSortedKeys=function(t){if(!t)return[];var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n.sort()},E.diffMinutes=function(t,e){t=E.toDate(t),e=E.toDate(e),t=t||new Date,e=e||new Date;return(t.getTime()-e.getTime())/6e4},E.diffHours=function(t,e){t=E.toDate(t),e=E.toDate(e),t=t||new Date,e=e||new Date;return(t.getTime()-e.getTime())/36e5},E.diffDays=function(t,e){t=E.toDate(t),e=E.toDate(e),t=t||new Date,e=e||new Date,t=t.getTime()-e.getTime(),e=t/864e5;return 12<t%864e5/6e4&&e++,e},E.rplObj=function(t,e,n,i){if(!t||!e||!n)return null;var o=t[e];if(!o)return null;var i=E.find(i,n,o);return i?t[e]=i:((i={})[n]=o,t[e]=i),t[e]},E.rplVal=function(t,e,n){if(!t||!e||!n)return null;var i=t[e];return i?(t[e]=i[n],t[e]):null},E.map=function(t,e,n,i,o,r){if(e=e||{},!t)return e;if(!n||!n.length)return e;i&&i.length||(i=n);for(var s=0;s<n.length;s++){var a=n[s],l=i[s];if(a&&l){var h=E.get(t,a);if(null==h&&r&&r.length>s&&(h=r[s]),o&&o.length>s)switch(o[s]){case"s":h=E.toString(h);break;case"n":h=E.toNumber(h);break;case"b":h=E.toBoolean(h);break;case"!":h=!E.toBoolean(h);break;case"d":h=E.toDate(h);break;case"a":h=E.toArray(h)}var u,a=l.indexOf(".");0<a?((u=(u=e[l.substring(0,a)])||{})[l.substring(a+1)]=h,e[l.substring(0,a)]=u):e[l]=h}}return e};var x=E;function E(){}d.WUtil=x}(WUX=WUX||{}),!function(h){var r={},s={},t=(h.global={locale:"it",rootPath:"",init:function(t){h.debug&&console.log("[WUX] global.init..."),h.init0?h.initApp?h.init0(function(){return h.initApp(t)}):h.init0(t):h.initApp?h.initApp(t):t&&t()},setData:function(t,e,n){if(void 0===n&&(n=!1),r[t=t||"global"]=e,!n&&s[t])for(var i=0,o=s[t];i<o.length;i++)(0,o[i])(e)},getData:function(t,e){t=r[t=t||"global"];return null==t?e:t},onDataChanged:function(t,e){s[t=t||"global"]||(s[t]=[]),s[t].push(e)}},e.ROW="row",e.COL="col-",e.SEC_DIV_CLASS="text-primary",e.SEC_DIV_STYLE="border-bottom:solid 1px;",e.SEC_TAG="h5",e.SEC_CLASS="",e.SEC_STYLE="",e.SEC_PARENT="",e.BOX_TAG="div",e.BOX_CLASS="callout",e.BOX_INNER="callout-inner",e.BOX_ICON="",e.BOX_TITLE="callout-title",e.BOX_TITLE_TAG="span",e.BOX_TITLE_CLASS="text",e.BOX_TITLE_STYLE="",e.BOX_TOOLS_EXT="",e.BOX_TOOLS="",e.BOX_TOOLS_POS=0,e.BOX_CONTENT="",e.BOX_FOOTER="",e.BOX_CLP_CLASS="",e.BOX_CLP_STYLE="cursor:pointer;padding-left:1rem;",e.BOX_CLP='<i class="fa fa-chevron-up"></i>',e.BOX_EXP='<i class="fa fa-chevron-down"></i>',e.FORM="padding-top:16px;",e.FORM_GROUP="form-group",e.FORM_CTRL="form-control",e.FORM_CHECK="form-check form-check-inline",e.LBL_CLASS="active",e.SEL_WRAPPER="select-wrapper",e.RADIO_STYLE="padding-top:0px;",e.CKDIV_STYLE="padding-top:1rem;",e.CKBOX_STYLE="",e.LEVER_CLASS="lever",e.LEVER_STYLE="",e.DIALOG_CLASS="modal fade",e.DIALOG_MAIN="modal-dialog modal-lg",e.DIALOG_FULL="modal-dialog modal-fullscreen",e.DIALOG_CONTENT="modal-content",e.DIALOG_BODY="modal-body",e.DIALOG_HEADER="modal-header",e.DIALOG_FOOTER="modal-footer",e.DIALOG_TITLE="modal-title",e.DIALOG_TITLE_TAG="h5",e.DIALOG_OK="btn btn-primary button-sm",e.DIALOG_CANCEL="btn btn-secondary button-sm",e.DIALOG_X_POS=1,e.ICON="margin-right:8px;",e.SEL_ROW="primary-bg-a2",e.PRIMARY={bg:"#cce5ff"},e.SECONDARY={bg:"#e2e3e5"},e.SUCCESS={bg:"#d4edda"},e.DANGER={bg:"#f8d7da"},e.ERROR={bg:"#f8d7da"},e.WARNING={bg:"#fff3cd"},e.INFO={bg:"#d1ecf1"},e.LABEL_NOTICE={c:"#aa6a6c",fw:"bold"},e.LABEL_INFO={c:"#676a96",fw:"bold"},e);function e(){}function n(){}h.CSS=t,n.OK="OK",n.CLOSE="Chiudi",n.CANCEL="Annulla",n.REQ_MARK=" *",h.RES=n,h.formatDate=function(t){if(!t)return"";if(!(t=h.WUtil.toDate(t)))return"";var e=(e=t.getMonth()+1)<10?"0"+e:""+e;return(t.getDate()<10?"0"+t.getDate():""+t.getDate())+"/"+e+"/"+t.getFullYear()},h.isoDate=function(t){if(!t)return"";if(!(t=h.WUtil.toDate(t)))return"";var e=(e=t.getMonth()+1)<10?"0"+e:""+e,n=t.getDate()<10?"0"+t.getDate():""+t.getDate();return t.getFullYear()+"-"+e+"-"+n},h.formatDateTime=function(t,e){if(void 0===e&&(e=!1),!t)return"";if(!(t=h.WUtil.toDate(t)))return"";var n=(n=t.getMonth()+1)<10?"0"+n:""+n,i=t.getDate()<10?"0"+t.getDate():""+t.getDate(),o=t.getHours()<10?"0"+t.getHours():""+t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes();return e?(e=t.getSeconds()<10?"0"+t.getSeconds():""+t.getSeconds(),i+"/"+n+"/"+t.getFullYear()+" "+o+":"+r+":"+e):i+"/"+n+"/"+t.getFullYear()+" "+o+":"+r},h.formatTime=function t(e,n){return void 0===n&&(n=!1),null==e?"":"number"==typeof e?n?(e<1e4&&(e*=100),o=e%1e4%100,Math.floor(e/1e4)+":"+((i=Math.floor(e%1e4/100))<10?"0"+i:""+i)+":"+(o<10?"0"+o:""+o)):(9999<e&&(e=Math.floor(e/100)),Math.floor(e/100)+":"+((i=e%100)<10?"0"+i:""+i)):"string"==typeof e?(0<=(o=(o=(o=(e=0<=(o=(o=e.indexOf("T"))<0?e.indexOf(" "):o)?e.substring(o+1):e).indexOf("+"))<0?e.indexOf("-"):o)<0?e.indexOf("Z"):o)&&(e=e.substring(0,o)),t(parseInt(e.replace(":","").replace(".","")))):e instanceof Date?(i=e.getHours()<10?"0"+e.getHours():""+e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():""+e.getMinutes(),n?i+":"+o+":"+(e.getSeconds()<10?"0"+e.getSeconds():""+e.getSeconds()):i+":"+o):"";var i,o},h.formatNum2=function(t,e,n,i){if(""===t||null==t)return"";var t=h.WUtil.toNumber(t),o=(""+Math.round(100*t)/100).replace(".",",");return null!=e&&0!=t?(null!=i&&t<0?i:e).replace("$",o):null!=n&&0==t?n.replace("$",o):o},h.formatNum=function(t,e,n,i){if(""===t||null==t)return"";var o=(""+(t=h.WUtil.toNumber(t))).replace(".",",");return null!=e&&0!=t?null!=i&&t<0?"l"==i?t.toLocaleString("it-IT"):i.replace("$",o):"l"==e?t.toLocaleString("it-IT"):e.replace("$",o):null!=n&&0==t?n.replace("$",o):o},h.formatCurr=function(t,e,n,i){if(""===t||null==t)return"";var t=h.WUtil.toNumber(t),o=(Math.round(100*t)/100).toLocaleString("it-IT"),r=o.indexOf(",");return r<0&&(o+=",00"),r==o.length-2&&(o+="0"),null!=e&&0!=t?(null!=i&&t<0?i:e).replace("$",o):null!=n&&0==t?n.replace("$",o):o},h.formatCurr5=function(t,e,n,i){if(""===t||null==t)return"";var t=h.WUtil.toNumber(t),o=(""+Math.round(1e5*t)/1e5).replace(".",",");if((s=o.indexOf(","))<0&&(o+=",00"),s==o.length-2&&(o+="0"),0<s){for(var r=o.substring(0,s),s=o.substring(s),a="",l=1;l<=r.length;l++)3<l&&(l-1)%3==0&&(a="."+a),a=r.charAt(r.length-l)+a;o=a+s}return null!=e&&0!=t?(null!=i&&t<0?i:e).replace("$",o):null!=n&&0==t?n.replace("$",o):o},h.formatBoolean=function(t){return null==t?"":t?"S":"N"},h.format=function(t){return null==t?"":"string"==typeof t?t:"boolean"==typeof t?h.formatBoolean(t):"number"==typeof t?0<=(""+t).indexOf(".")?h.formatCurr(t):h.formatNum(t):t instanceof Date?h.formatDate(t):t instanceof h.WComponent?h.format(t.getState()):""+t},h.saveFile=function(t,e,n){void 0===n&&(n="application/octet-stream");for(var i=atob(t),o=new Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);t=new Uint8Array(o),t=new Blob([t],{type:n}),(n=document.createElement("a")).href=URL.createObjectURL(t),n.download=e,n.click()},h.viewFile=function(t,e,n){void 0===n&&(n="application/octet-stream");for(var i=atob(t),o=new Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);var t=new Uint8Array(o),t=new Blob([t],{type:n}),s=URL.createObjectURL(t);(n=document.createElement("a")).href=s,n.target="_blank",n.rel="noopener noreferrer",n.title=e,n.click(),setTimeout(function(){URL.revokeObjectURL(s)},1e3)},h.getAction=function t(e,n,i){if(!e)return null;if("string"==typeof e){if(!(s=h.lastSub(e)))return null;var o=s.indexOf("_");if(o<=0)return null;var r=s.substring(0,o),s=s.substring(o+1).replace(/\$/g,"-");return i=i&&i.toLowerCase(),{name:r,ref:s,idx:h.WUtil.toNumber(s,-1),tag:i,comp:n}}o=e.target;if(!o)return null;if(!(r=o.tagName))return null;if(i&&i.toLowerCase()!=r.toLowerCase())return null;s=h.getId(o);if(s&&(e=t(s,n,r)))return e;e=o.parentElement;if(e){if(!(r=e.tagName))return null;if(i&&i.toLowerCase()!=r.toLowerCase())return null}return t(s=h.getId(e),n,r)},h.action=function(t,e,n,i,o,r){return"string"==typeof e&&(e=e.replace(/\-/g,"$")),n=n||"a",i=i?i.subId(t+"_"+e):t+"_"+e,0<n.indexOf("-")?'<i id="'+i+'" class="fa '+n+'" style="cursor:pointer;width:100%;"></i>':(o=o||"",r?0<r.indexOf(":")?"<"+n+' id="'+i+'" style="'+r+'">'+o+"</"+n+">":"<"+n+' id="'+i+'" class="'+r+'">'+o+"</"+n+">":"<"+n+' id="'+i+'" style="cursor:pointer;">'+o+"</"+n+">")}}(WUX=WUX||{}),this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}());!function(_){s=_.WComponent,__extends(t,s),t.prototype.render=function(){return this.isText=!1,"string"==typeof this.props&&(!this.props||this.props.indexOf("<")<0)?(this.isText=!0,this.buildRoot(this.rootTag,this.props)):this.props},t.prototype.componentDidMount=function(){this.root&&!this.isText&&(this.rootTag=this.root.tagName,this.id=this.root.getAttribute("id"),this._classStyle=this.root.getAttribute("class"),this._style=this.root.getAttribute("style"))};var s,r=t;function t(t,e,n,i,o,r){n=s.call(this,n,"Wrapp",t,i,o,r)||this;return e&&(n.rootTag=e),n}_.Wrapp=r;a=_.WComponent,__extends(l,a),l.prototype.addRow=function(t,e){null==t&&(t=_.CSS.ROW);var n=[],e=_.style(e);return e&&(t+="^"+e),n.push(t),this.grid.push(n),this},l.prototype.addCol=function(t,e){t=t||_.CSS.COL+"12",isNaN(parseInt(t))||(t=_.CSS.COL+t),this.grid.length||this.addRow();var n=this.grid[this.grid.length-1],e=_.style(e);return e&&(t+="^"+e),n.push(t),this},l.prototype.head=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e&&(t=this.ashe).push.apply(t,e),this},l.prototype.tail=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e&&(t=this.asta).push.apply(t,e),this},l.prototype.before=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t)return this;for(var n=0,i=t;n<i.length;n++){var o=i[n];o&&("string"==typeof o||o instanceof Element?this.cbef.push(new r(o)):this.cbef.push(o))}return this},l.prototype.after=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t)return this;for(var n=0,i=t;n<i.length;n++){var o=i[n];o&&("string"==typeof o||o instanceof Element?this.caft.push(new r(o)):this.caft.push(o))}return this},l.prototype.add=function(t){if(!t)return this;if("string"==typeof t)return this.add(new r(t)),this;if(t instanceof Element)return this.add(new r(t)),this;if(t.parent||(t.parent=this),this.mounted)return t.mount(this.root),this;var e,n=this.grid.length;return this._end?this.cagr.push(t):n?(e=this.grid[n=n-1].length-1,this.comp.push(t),this.sr_c.push(this.subId(n+"_"+e))):this.cbgr.push(t),this},l.prototype.addGroup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){var i=this.addContainer(t);if(!e||!e.length)return this;for(var o=0,r=e;o<r.length;o++)(s=r[o])&&i.add(s);return this}if(!e||!e.length)return this;for(var s,a=0,l=e;a<l.length;a++)(s=l[a])&&this.add(s);return this},l.prototype.addLine=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=new l;if(i.addRow(),e){var o="1";"string"!=typeof t&&(o=(o=t.n)||"1");for(var r=0,s=e;r<s.length;r++){var a=s[r];a&&i.addCol(o,t).add(a)}}return this.add(i),this},l.prototype.addStack=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=new l;if(e){var o="12";"string"!=typeof t&&(o=(o=t.n)||"12");for(var r=0,s=e;r<s.length;r++){var a=s[r];a&&i.addRow().addCol(o,t).add(a)}}return this.add(i),this},l.prototype.addContainer=function(t,e,n,i,o,r){var s;return"string"==typeof t?(s=new l(t,e,n,i,o,r),this.add(s)):t instanceof l?(t.parent=this).add(t):(s=new l,t&&(s.classStyle=_.cls(t.classStyle,t.style),s.style=_.style(t.style),s.attributes=t.attributes),this.add(s)),s},l.prototype.end=function(){return this.parent instanceof l?this.parent.end():(this._end=!0,this)},l.prototype.section=function(t,e,n,i){null==n&&(n=_.CSS.SEC_STYLE);var o=_.CSS.SEC_TAG||"span",o=_.build(o,t,n,"",i,_.CSS.SEC_CLASS),t=(null==e&&(e=_.CSS.SEC_DIV_STYLE),_.build("div",o,e,"","",_.CSS.SEC_DIV_CLASS));return _.CSS.SEC_PARENT&&this.grid.length&&((n=this.grid[this.grid.length-1]).length&&(i=(i=n[n.length-1])||"",n[n.length-1]=i+"^"+_.CSS.SEC_PARENT)),this.add(t),this},l.prototype.addBox=function(t,e,n,i,o){i=new k(i,t,e,n,o);return this.add(i),i},l.prototype.componentWillMount=function(){for(var t=0,e=this.cbef;t<e.length;t++)e[t].mount(this.context)},l.prototype.render=function(){for(var t="",e=0,n=this.ashe;e<n.length;e++)t+=n[e];var i=this.grid.length;if(i){this.cbgr.length&&(t+='<div id="'+this.subId("bg")+'"></div>');for(var o=0;o<i;o++){var r=this.grid[o],s=r.length;if(s){t+='<div id="'+this.subId(o+"_0")+'" '+_.buildCss(r[0])+">";for(var a=1;a<s;a++)t+='<div id="'+this.subId(o+"_"+a)+'" '+_.buildCss(r[a])+"></div>";t+="</div>"}}}for(var l=0,h=this.asta;l<h.length;l++)t+=h[l];return this.buildRoot(this.rootTag,t)},l.prototype.componentDidMount=function(){this._mount(this.context,this.root)},l.prototype._mount=function(t,e){t=t||this.context,e=e||this.root;var n=document.getElementById(this.subId("bg"));if(n)for(var i=0,o=this.cbgr;i<o.length;i++)(l=o[i]).mount(n);else for(var r=0,s=this.cbgr;r<s.length;r++)(l=s[r]).mount(e);for(var a=0;a<this.comp.length;a++){var l=this.comp[a];(d=document.getElementById(this.sr_c[a]))&&l.mount(d)}for(var h=0,u=this.cagr;h<u.length;h++)(l=u[h]).mount(e);for(var d,p=0,c=this.caft;p<c.length;p++)(d=c[p]).mount(t)},l.prototype.componentWillUnmount=function(){for(var t=0,e=this.caft;t<e.length;t++)e[t].unmount();for(var n=0,i=this.cagr;n<i.length;n++)i[n].unmount();for(var o=0,r=this.comp;o<r.length;o++)r[o].unmount();for(var s=0,a=this.cbgr;s<a.length;s++)a[s].unmount();for(var l=0,h=this.cbef;l<h.length;l++)h[l].unmount()},l.prototype.getElement=function(t,e){if(!this.grid||!this.grid.length)return null;if(t<0&&(t=this.grid.length+t)<0&&(t=0),this.grid.length<=t)return null;if(null==e)return document.getElementById(this.subId(t+"_0"));var n=this.grid[t];return!n||n.length<2?null:(e<0&&(e=n.length-1+e)<0&&(e=0),e++,document.getElementById(this.subId(t+"_"+e)))};var a,c=l;function l(t,e,n,i,o,r){t=a.call(this,t||"*","WContainer",r,e,_.style(n),i)||this;return t.cbef=[],t.ashe=[],t.cbgr=[],t.comp=[],t.sr_c=[],t.grid=[],t._end=!1,t.cagr=[],t.asta=[],t.caft=[],t.rootTag=o?"span":"div",t}_.WContainer=c;__extends(e,h=c),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t;var e=document.getElementById(this.subId("caption"));e&&(e.innerText=t)},enumerable:!1,configurable:!0}),e.prototype.addTool=function(t){return t&&this.tools.push(t),this},e.prototype.addCollapse=function(t){return this._ce=!0,this._ch=t,this},e.prototype.offCollapse=function(t){return this._ce=t=void 0===t?!0:t,this._ch=null,this},e.prototype.endBox=function(){return this.parent instanceof c?this.parent:h.prototype.end.call(this)},e.prototype.end=function(){return this.parent instanceof c?this.parent:h.prototype.end.call(this)},e.prototype.collapse=function(t){if(this.collapsed)return this;if(!this._ce)return this;var e=document.getElementById(this.subId("collapse"));if(!e)return this;(t=t||this._ch)&&t(this.createEvent("collapse",{collapsed:!1}));t=document.getElementById(this.subId("content"));return _.slideUp(t,200),_.CSS.BOX_EXP&&(e.innerHTML=_.CSS.BOX_EXP),this.collapsed=!0,this},e.prototype.expand=function(t){if(!this.collapsed)return this;if(!this._ce)return this;var e=document.getElementById(this.subId("collapse"));if(!e)return this;(t=t||this._ch)&&t(this.createEvent("collapse",{collapsed:!0}));t=document.getElementById(this.subId("content"));return _.slideDown(t,200),_.CSS.BOX_CLP&&(e.innerHTML=_.CSS.BOX_CLP),this.collapsed=!1,this},e.prototype.toggle=function(t){return this.collapsed?this.expand(t):this.collapse(t),this},e.prototype.render=function(){var t,e='id="'+this.subId("content")+'"',n=(this.ashe&&this.ashe.length&&((n=this.ashe[0])&&0<n.indexOf(e)&&(this.ashe.shift(),this.asta.shift())),""),i=(_.CSS.BOX_INNER&&(n+='<div id="'+this.subId("inner")+'"'+_.buildCss(_.CSS.BOX_INNER)+">"),this._title&&_.CSS.BOX_TITLE&&(t="",this._ce&&(i=_.CSS.BOX_CLP||"",_.CSS.BOX_TOOLS&&(t+='<div id="'+this.subId("tools")+'"'+_.buildCss(_.CSS.BOX_TOOLS)+">"),t+='<a id="'+this.subId("collapse")+'" title="collapse"'+_.buildCss(_.CSS.BOX_CLP_CLASS,_.CSS.BOX_CLP_STYLE)+">"+i+"</a>",_.CSS.BOX_TOOLS&&(t+="</div>")),n+='<div id="'+this.subId("title")+'" class="'+_.CSS.BOX_TITLE+'">',t&&-1==_.CSS.BOX_TOOLS_POS&&(n+=t),_.CSS.BOX_ICON&&(n+=0<=_.CSS.BOX_ICON.indexOf("<")?_.CSS.BOX_ICON:'<i class="'+_.CSS.BOX_ICON+'"></i> '),n+="<"+(i=_.CSS.BOX_TITLE_TAG||"span")+' id="'+this.subId("caption")+'"'+_.buildCss(_.CSS.BOX_TITLE_CLASS,_.CSS.BOX_TITLE_STYLE)+">"+this._title,t&&0==_.CSS.BOX_TOOLS_POS&&(n+=" "+t),n+="</"+i+">",this.tools&&this.tools.length&&(n+='<div id="'+this.subId("tools-ext")+'"'+_.buildCss(_.CSS.BOX_TOOLS_EXT)+"></div>"),t&&1==_.CSS.BOX_TOOLS_POS&&(n+=t),n+="</div>"),n+="<div "+e+_.buildCss(_.CSS.BOX_CONTENT)+">","</div>");return this.footer&&(_.CSS.BOX_FOOTER?i+='<div id="'+this.subId("footer")+'"'+_.buildCss(_.CSS.BOX_FOOTER)+">"+this.footer+"</div>":i+=this.footer),_.CSS.BOX_INNER&&(i+="</div>"),this.ashe.unshift(n),this.asta.unshift(i),h.prototype.render.call(this)},e.prototype.componentDidMount=function(){var t,e=this,n=(this._mount(this.root,document.getElementById(this.subId("content"))),document.getElementById(this.subId("tools-ext")));if(n)for(var i=0,o=this.tools;i<o.length;i++)o[i].mount(n);this._ce&&(t=document.getElementById(this.subId("collapse")))&&t.addEventListener("click",function(t){e.toggle()})},e.prototype.componentWillUnmount=function(){for(var t=0,e=this.tools;t<e.length;t++)e[t].unmount();h.prototype.componentWillUnmount.call(this)};var h,k=e;function e(t,e,n,i,o){t=h.call(this,t,n,i,o,!1,"box")||this;return t.tools=[],t.collapsed=!1,t._ce=!1,t._classStyle||(t._classStyle=_.CSS.BOX_CLASS),_.CSS.BOX_TAG&&(t.rootTag=_.CSS.BOX_TAG),t._title=e,t}_.WBox=k;u=_.WComponent,__extends(i,u),Object.defineProperty(i.prototype,"pages",{get:function(){return this.components?this.components.length:0},enumerable:!1,configurable:!0}),i.prototype.add=function(t){return t&&(t instanceof _.WDialog?t.addToPages(this):this.components.push(t)),this},i.prototype.addContainer=function(t,e,n,i,o,r){t=new c(t,e,n,i,o,r);return this.add(t),t},i.prototype.before=function(t){return this.cbef=t,this},i.prototype.after=function(t){return this.caft=t,this},i.prototype.first=function(){return this.setState(0),this},i.prototype.last=function(){return this.setState(this.components.length-1),this},i.prototype.back=function(){1<this.hs.length&&this.hs.pop();var t=this.hs.length?this.hs[this.hs.length-1]:0;return this.setState(t),this},i.prototype.next=function(){var t=this.components.length;if(!t)return!1;var e=(e=this.state)||0;return!(t<=++e)&&(this.setState(e),!0)},i.prototype.prev=function(){if(!this.components.length)return!1;var t=(t=this.state)||0;return!(--t<0)&&(this.setState(t),!0)},i.prototype.show=function(t,e,n,i){void 0===i&&(i=0);var o=this.components.length;if(!o)return null;if(o<=(t=(t=(t=t||0)<0?o+t:t)<0?0:t))return null;var r=this.components[t];return r?(e&&e(r),this.setState(t),n&&setTimeout(function(){return n(r)},i),r):null},i.prototype.curr=function(){var t=this.components.length,e=this.state;return 0<=e&&e<t?this.components[e]:null},i.prototype.render=function(){var t=this.components.length,e=(this.state||(this.state=0),this.state<0&&(this.state=t+this.state),this.state<0&&(this.state=0),this.hs=[this.state],"<div");e+=' id="'+this.id+'"',this._classStyle&&(e+=' class="'+this._classStyle+'"'),this._style&&(e+=' style="'+this._style+'"'),this._attributes&&(e+=" "+this._attributes),e+=">",this.cbef&&(e+='<div id="'+this.id+'-b""></div>');for(var n=0;n<t;n++)n==this.state?e+='<div id="'+this.id+"-"+n+'" style="display:block;"></div>':e+='<div id="'+this.id+"-"+n+'" style="display:none;"></div>';return this.caft&&(e+='<div id="'+this.id+'-a""></div>'),e+="</div>"},i.prototype.updateState=function(t){this.state=t;var e=this.components.length;if(this.state||(this.state=0),this.state<0&&(this.state=e+this.state),this.state<0&&(this.state=0),this.hs[this.hs.length-1]!=this.state&&this.hs.push(this.state),this.mounted)for(var n=0;n<e;n++){var i=document.getElementById(this.id+"-"+n);i&&(i.style.display=n==this.state?"block":"none")}},i.prototype.componentDidMount=function(){this.cbef&&(t=document.getElementById(this.id+"-b"))&&this.cbef.mount(t);for(var t,e=this.components.length,n=0;n<e;n++){var i=this.components[n],o=document.getElementById(this.id+"-"+n);o&&i.mount(o)}this.caft&&(t=document.getElementById(this.id+"-a"))&&this.caft.mount(t)},i.prototype.componentWillUnmount=function(){this.cbef&&this.cbef.unmount();for(var t=0,e=this.components;t<e.length;t++){var n=e[t];n&&n.unmount()}this.caft&&this.caft.unmount()};var u,n=i;function i(t,e,n,i,o){t=u.call(this,t||"*","WPages",o,e,n,i)||this;return t.components=[],t.hs=[],t}_.WPages=n;d=_.WComponent,__extends(o,d),Object.defineProperty(o.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"href",{get:function(){return this._href},set:function(t){this._href=t,this.root&&(t?this.root.setAttribute("href",t):this.root.removeAttribute("href"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.root&&(t?this.root.setAttribute("target",t):this.root.removeAttribute("target"))},enumerable:!1,configurable:!0}),o.prototype.render=function(){var t="",e=(this._href&&(t+='href="'+this._href+'"'),this._target&&(t&&(t+=" "),t+='target="'+this._target+'"'),this._tooltip&&(t&&(t+=" "),t+='title="'+this._tooltip+'"'),"");return this.state?e+=_.buildIcon(this.icon,""," ")+this.state:e+=_.buildIcon(this.icon),this.build(this.rootTag,e,t)},o.prototype.setState=function(t,e,n){return this.lock?this:d.prototype.setState.call(this,t,e,n)},o.prototype.componentWillUpdate=function(t,e){var n="";n+=e?_.buildIcon(this.icon,""," ")+e:_.buildIcon(this.icon),this.root.innerHTML=n};var d,n=o;function o(t,e,n,i,o,r,s,a){t=d.call(this,t||"*","WLink",n,i,o,r)||this;return t.updateState(e),t.rootTag="a",t._href=s,t._target=a,t}_.WLink=n;p=_.WComponent,__extends(g,p),Object.defineProperty(g.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),g.prototype.updateState=function(t){p.prototype.updateState.call(this,t=t||""),this.root&&(this.root.innerHTML=_.buildIcon(this.props,""," ")+t)},g.prototype.for=function(t){return this.forId=_.getId(t),this},g.prototype.render=function(){var t=this.state||"";return this.forId?this.buildRoot("label",_.buildIcon(this.props,""," ")+t,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,_.buildIcon(this.props,""," ")+t,null,this._classStyle)},g.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)};var p,f=g;function g(t,e,n,i,o,r){t=p.call(this,t||"*","WLabel",n,i,o,r)||this;return t.rootTag="span",t.updateState(e),t}_.WLabel=f;b=_.WComponent,__extends(m,b),Object.defineProperty(m.prototype,"readonly",{get:function(){return this._ro},set:function(t){this._ro=t,this.mounted&&(t?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"autofocus",{get:function(){return this._af},set:function(t){this._af=t,this.mounted&&(t?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),m.prototype.onEnter=function(t){return t&&(this.handlers._enter=[t]),this},m.prototype.shouldComponentUpdate=function(t,e){return!0},m.prototype.updateState=function(t){t=_.WUtil.toString(t),b.prototype.updateState.call(this,t=t||""),this.root&&(this.root.value=t)},m.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state&&(this.state=this.state.trim()),this.state},m.prototype.render=function(){var t,e="";return this.label&&(e=this.id?'<label for="'+this.id+'">':"<label>",e=0<(t=this.label.lastIndexOf("<br"))?e+this.label.substring(0,t).replace("<","&lt;").replace(">","&gt;")+"</label><br>":e+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),"static"==this.props?e+this.build("span",this.state):(t='name="'+this.id+'"',t+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(t+=' size="'+this.size+'"'),null!=this.state&&(t+=' value="'+this.state+'"'),this.placeHolder&&(t+=' placeholder="'+this.placeHolder+'"'),this._ro&&(t+=" readonly"),this._af&&(t+=" autofocus"),e+this.build(this.rootTag,"",t))},m.prototype.componentDidMount=function(){var i=this,t=document.getElementById(this.id);t&&t.addEventListener("keydown",function(t){if("Enter"===t.key&&(t.preventDefault(),i.handlers._enter))for(var e=0,n=i.handlers._enter;e<n.length;e++)(0,n[e])(t)})};var b,y=m;function m(t,e,n,i,o,r){t=b.call(this,t||"*","WInput",e,i,o,r)||this;return t.rootTag="input",t.size=n,t}_.WInput=y;v=_.WComponent,__extends(C,v),Object.defineProperty(C.prototype,"readonly",{get:function(){return this._ro},set:function(t){this._ro=t,this.mounted&&(t?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"autofocus",{get:function(){return this._af},set:function(t){this._af=t,this.mounted&&(t?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),C.prototype.updateState=function(t){v.prototype.updateState.call(this,t=t||""),this.root&&(this.root.value=t)},C.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state},C.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',this._ro&&(this._attributes?this._attributes+=" readonly":this._attributes="readonly"),this._af&&(this._attributes?this._attributes+=" autofocus":this._attributes="autofocus"),_.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},C.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&(this.root.textContent=this.state)};var v,S=C;function C(t,e,n,i,o){t=v.call(this,t||"*","WTextArea",e,n,i,o)||this;return t.rootTag="textarea",e||(t.props=5),t}_.WTextArea=S;O=_.WComponent,__extends(w,O),Object.defineProperty(w.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),w.prototype.setText=function(t,e){null!=e&&(this.props=e),this.setState(t)},w.prototype.render=function(){var t=this.type?'type="'+this.type+'"':"",e="";return this.state?e+=_.buildIcon(this.props,""," ")+this.state:e+=_.buildIcon(this.props),this.build(this.rootTag,e,t)},w.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},w.prototype.componentWillUpdate=function(t,e){var n="";null==t&&(t=this.props),n+=e?_.buildIcon(t,""," ")+e:_.buildIcon(t),this.root.innerHTML=n};var O,n=w;function w(t,e,n,i,o,r,s){t=O.call(this,t||"*","WButton",n,i,o,r)||this;return t.updateState(e),t.rootTag="button",t.type=s||"button",t}_.WButton=n;x=_.WComponent,__extends(E,x),Object.defineProperty(E.prototype,"checked",{get:function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:this.noval,this.props},set:function(t){this.setProps(t)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tooltip",{set:function(t){this._tooltip=t=t||"";t=document.getElementById(this.id+"-l");t?t.setAttribute("title",this._tooltip):this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),E.prototype.getState=function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:this.noval,this.state},E.prototype.updateProps=function(t){x.prototype.updateProps.call(this,t),null==this.props&&(this.props=!1),this.state=this.props?this.value:this.noval,this.root&&(this.root.checked=this.props)},E.prototype.updateState=function(t){x.prototype.updateState.call(this,t),"boolean"==typeof this.state?(this.props=this.state,this.state=this.props?this.value:this.noval):("true"==this.state&&(this.state=this.value),this.props=this.state&&this.state==this.value),this.root&&(this.root.checked=this.props)},E.prototype.render=function(){var t='name="'+this.id+'" type="checkbox"',e=(t+=this.props?' checked="checked"':"",this.text?"&nbsp;"+this.text:""),n=(this.label?this._tooltip&&(t+=' title="'+this._tooltip+'"'):this.label="",'<label id="'+this.id+'-l" for="'+this.id+'"'),i=(this._tooltip&&(n+=' title="'+this._tooltip+'"'),n+=">"+this.label,""),o="";return(this.divClass||this.divStyle)&&(i+="<div ",this.divClass&&(i+=' class="'+this.divClass+'"'),this.divStyle&&(i+=' style="'+this.divStyle+'"'),i+=">"),this.lever?i=i+'<div class="toggles">'+n:o+=n,i&&(this.lever?o+="<span"+(_.CSS.LEVER_CLASS?' class="'+_.CSS.LEVER_CLASS+'"':"")+(this.leverStyle?' style="'+this.leverStyle+'"':"")+"></span></label></div>":o+="</label>",o+="</div>"),i+this.build(this.rootTag,e,t)+o},E.prototype.componentDidMount=function(){var e=this;this.id&&(this.root=document.getElementById(this.id)),this.root&&(this._enabled||this.root.setAttribute("disabled",""),this.root.addEventListener("change",function(t){e.props=!!e.root.checked,e.state=e.props?e.value:e.noval,e.trigger("statechange",e.state)}))};var x,N=E;function E(t,e,n,i,o,r,s){t=x.call(this,t||"*","WCheck",i,o,r,s)||this;return t.rootTag="input",t.value=n||"1",i&&t.updateState(n),t.text=e,t.leverStyle=_.CSS.LEVER_STYLE,t}_.WCheck=N;I=_.WComponent,__extends(A,I),Object.defineProperty(A.prototype,"enabled",{get:function(){return this._enabled},set:function(t){if(this._enabled=t,this.mounted)for(var e=0;e<this.options.length;e++){var n=document.getElementById(this.id+"-"+e);n&&(t?n.removeAttribute("disabled"):n.setAttribute("disabled",""))}},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"tooltip",{set:function(t){if(this._tooltip=t,this.mounted&&(this.internal&&(this.internal.tooltip=t),this.options&&this.options.length))for(var e=0;e<this.options.length;e++){var n=document.getElementById(this.id+"-"+e);n&&n.setAttribute("title",this._tooltip)}},enumerable:!1,configurable:!0}),A.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},A.prototype.getProps=function(){if(!this.options||!this.options.length)return null;for(var t=0;t<this.options.length;t++){var e=this.id+"-"+t,n=document.getElementById(e);if(n&&n.checked){n=document.getElementById(e+"-l");if(n)return n.innerText}}return _.WUtil.toString(this.state)},A.prototype.findOption=function(t,e){if(void 0===e&&(e=null),!this.options)return e;t=t||"";for(var n=0,i=this.options;n<i.length;n++){var o=i[n];if("string"==typeof o){if(o==t)return o}else if(o.text==t)return o.id}return e},A.prototype.setOptions=function(t,e){if(this.options=t,!this.mounted)return this;var n=this.getState(),i=this.buildOptions();return this.root.innerHTML=i,e?this.setState(n):t&&t.length&&this.setState(t[0]),this.componentDidMount(),this},A.prototype.addOption=function(t,e){if(!t)return this;if(this.options||(this.options=[]),this.options.push(t),!this.mounted)return this;var n=this.buildOptions();return this.root.innerHTML=n,e&&this.updateState(t),this},A.prototype.remOption=function(t){t=this.indexOption(t);if(t<0)return this;if(this.options.splice(t,1),!this.mounted)return this;t=this.buildOptions();return this.root.innerHTML=t,this},A.prototype.indexOption=function(t){if(!t)return-2;if(!this.options)return-1;for(var e=-1,n=0;n<this.options.length;n++){var i=this.options[n];if(i)if("string"==typeof t){if("string"==typeof i){if(i==t){e=n;break}}else if(i.id==t){e=n;break}}else if("string"==typeof i){if(i==t.id){e=n;break}}else if(i.id==t.id){e=n;break}}return e},A.prototype.updateState=function(t){I.prototype.updateState.call(this,t),this.state||this.options&&this.options.length&&(this.state=this.options[0]),"object"==typeof this.state&&"id"in this.state&&(this.state=this.state.id)},A.prototype.render=function(){var t=this.buildOptions();return _.build("div",t,this._style,this._attributes,this.id,this._classStyle)},A.prototype.componentDidMount=function(){var i=this;if(this.options&&this.options.length)for(var o=this,t=0;t<this.options.length;t++)!function(t){var e=document.getElementById(o.id+"-"+t);if(!e)return;o._tooltip&&e.setAttribute("title",o._tooltip);var n=o.options[t];e.addEventListener("change",function(t){i.setState(n)})}(t)},A.prototype.componentDidUpdate=function(t,e){var n,i=-1;if(this.state){for(var o=0;o<this.options.length;o++)if(_.match(this.state,this.options[o])){i=o;break}}else i=0;0<=i&&((n=document.getElementById(this.id+"-"+i))&&(n.checked=!0))},A.prototype.buildOptions=function(){var t="",e=(this.label&&(t=(t+=this.id?'<label for="'+this.id+'">':"<label>")+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),""),n=(null==this._enabled||this._enabled||(e=" disabled"),this.options||(this.options=[]),this.options.length);void 0===this.state&&n&&(this.state=this.options[0]);for(var i=0;i<n;i++){t+="<div",this.classDiv&&(t+=' class="'+this.classDiv+'"'),this.styleDiv&&(t+=' style="'+this.styleDiv+'"'),t+=">";var o=this.options[i],r=this.id+"-"+i;"string"==typeof o?(_.match(this.state,o)?t+='<input type="radio" value="'+o+'" name="'+this.id+'" id="'+r+'" checked'+e+">":t+='<input type="radio" value="'+o+'" name="'+this.id+'" id="'+r+'"'+e+">",t+='<label id="'+r+'-l" for="'+r+'">'+o+"</label>"):(_.match(this.state,o)?t+='<input type="radio" value="'+o.id+'" name="'+this.id+'" id="'+r+'" checked'+e+">":t+='<input type="radio" value="'+o.id+'" name="'+this.id+'" id="'+r+'"'+e+">",t+='<label id="'+r+'-l" for="'+r+'">'+o.text+"</label>"),t+="</div>"}return t};var I,T=A;function A(t,e,n,i,o,r){t=I.call(this,t||"*","WRadio",r,n,i,o)||this;return t.options=e,t.classDiv="form-check form-check-inline",t}_.WRadio=T;L=_.WComponent,__extends(W,L),W.prototype.getProps=function(){if(!this.root)return this.props;this.props=[];var t,e=this.root.options;return e&&e.length&&(0<=(t=_.WUtil.toNumber(this.root.selectedIndex,-1))&&e.length>t&&this.props.push(e[t].text)),this.props},W.prototype.findOption=function(t,e){if(void 0===e&&(e=null),!this.options)return e;t=t||"";for(var n=0,i=this.options;n<i.length;n++){var o=i[n];if("string"==typeof o){if(o==t)return o}else if(o.text==t)return o.id}return e},W.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},W.prototype.addOption=function(t,e){if(!t)return this;if(this.options||(this.options=[]),this.options.push(t),!this.mounted)return this;var n=this.buildOptions();return this.root.innerHTML=n,e&&this.updateState(t),this},W.prototype.remOption=function(t){t=this.indexOption(t);if(t<0)return this;if(this.options.splice(t,1),!this.mounted)return this;t=this.buildOptions();return this.root.innerHTML=t,this},W.prototype.indexOption=function(t){if(!t)return-2;if(!this.options)return-1;for(var e=-1,n=0;n<this.options.length;n++){var i=this.options[n];if(i)if("string"==typeof t){if("string"==typeof i){if(i==t){e=n;break}}else if(i.id==t){e=n;break}}else if("string"==typeof i){if(i==t.id){e=n;break}}else if(i.id==t.id){e=n;break}}return e},W.prototype.setOptions=function(t,e){if(this.options=t,!this.mounted)return this;var n=this.root.value,i=this.buildOptions();return this.root.innerHTML=i,e?this.root.value=n:t&&t.length&&("string"==typeof t[0]?this.trigger("statechange",t[0]):this.trigger("statechange",_.WUtil.getString(t[0],"id"))),this},W.prototype.updateState=function(t){L.prototype.updateState.call(this,t),this.root&&(null==this.state?this.root.value="":"string"==typeof this.state||"number"==typeof this.state?this.root.value=""+this.state:this.root.value=this.state.id)},W.prototype.render=function(){var t=this.buildOptions(),e='name="'+this.id+'"',n=(this.multiple&&(e+=' multiple="multiple"'),"");return null==this._enabled||this._enabled||(n=" disabled"),this.buildRoot("select",t,e+=n)},W.prototype.componentDidMount=function(){var t=this;this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&(this.root.value=this.state),this.root.addEventListener("change",function(){t.trigger("statechange",t.root.value)})},W.prototype.buildOptions=function(){for(var t="",e=(this.options||(this.options=[]),""),n=0,i=this.options;n<i.length;n++){var o=i[n];"string"==typeof o?t+="<option>"+o+"</option>":(o.group&&(e!=o.group&&(e&&(t+="</optgroup>"),t+='<optgroup label="'+(e=o.group)+'">'),e=o.group),t+='<option value="'+o.id+'">'+o.text+"</option>")}return e&&(t+="</optgroup>"),t};var L,D=W;function W(t,e,n,i,o,r){t=L.call(this,t||"*","WSelect",null,i,o,r)||this;return t.rootTag="select",t.options=e,t.multiple=n,t}_.WSelect=D;U=_.WComponent,__extends(B,U),B.prototype.onSelectionChanged=function(t){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(t)},B.prototype.onDoubleClick=function(t){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(t)},B.prototype.onRowPrepared=function(t){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(t)},B.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this;var t=document.getElementById(this.id+"-b");if(t&&this.selClass)for(var e=t.childNodes,n=0;n<t.childElementCount;n++)_.removeClassOf(e[n],this.selClass);if(!this.handlers._selectionchanged)return this;for(var i=0,o=this.handlers._selectionchanged;i<o.length;i++)(0,o[i])({element:this.root,selectedRowsData:[]});return this},B.prototype.select=function(t){if(this.selectedRow=(t=t||[]).length?t[0]:-1,!this.mounted)return this;var e=document.getElementById(this.id+"-b");if(e&&this.selClass)for(var n=e.childNodes,i=0;i<e.childElementCount;i++)0<=t.indexOf(i)?_.addClassOf(n[i],this.selClass):_.removeClassOf(n[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var o=[],r=0,s=t;r<s.length;r++){var a=s[r];this.state&&this.state.length>a&&o.push(this.state[a])}for(var l=0,h=this.handlers._selectionchanged;l<h.length;l++)(0,h[l])({element:this.root,selectedRowsData:o});return this},B.prototype.selectAll=function(t){if(!this.mounted)return this;if(t&&0<=this.selectedRow)return this.clearSelection();this.selectedRow=-1,this.state&&this.state.length&&(this.selectedRow=0);var e=document.getElementById(this.id+"-b");if(e&&this.selClass)for(var n=e.childNodes,i=0;i<e.childElementCount;i++)_.addClassOf(n[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var o=0,r=this.handlers._selectionchanged;o<r.length;o++)(0,r[o])({element:this.root,selectedRowsData:this.state});return this},B.prototype.getSelectedRows=function(){return!this.mounted||this.selectedRow<0?[]:[this.selectedRow]},B.prototype.getSelectedRowsData=function(){return!this.mounted||this.selectedRow<0||!this.state||!this.state.length||this.state.length<=this.selectedRow?[]:[this.state[this.selectedRow]]},B.prototype.render=function(){if(this.sortable&&this.sortable.length){this.soId=[],this.sortBy=[];for(var t=0;t<this.sortable.length;t++)this.sortBy.push(0)}var e="table",n=(this._classStyle&&(e=0<=this._classStyle.indexOf("table ")?this._classStyle:e+" "+this._classStyle),this.style?' style="'+this.style+'"':""),i="",o=(this.div&&(i+='<div id="'+this.id+'-c" class="'+this.div+'">'),this.selectionMode);if(o&&"none"!=o&&e.indexOf("table-hover")<0&&(e+=" table-hover"),i+='<table id="'+this.id+'" class="'+e+'"'+n+">",this.header&&this.header.length){var r=!1;if("string"==typeof this.headStyle?0<this.headStyle.indexOf("text-align")&&(r=!0):this.headStyle&&this.headStyle.a&&(r=!0),!this.hideHeader){i+=r?'<thead id="'+this.id+'-h"><tr>':'<thead id="'+this.id+'-h"><tr'+_.buildCss(this.headStyle)+">";for(var s=-1,a=0,l=this.header;a<l.length;a++){var h=l[a],u=void 0,u=0==++s?this.col0Style||this.colStyle:s==this.header.length-1?this.colLStyle||this.colStyle:r?this.headStyle:this.colStyle,d=this.widths&&this.widths.length>s?this.widths[s]:0,p={};d&&(p.w=this.widthsPerc?d+"%":d),"w"==this.getType(s)&&(p.a="center"),this.sortable&&0<=this.sortable.indexOf(s)?(d=this.subId("sort_"+s),this.soId.push(d),i+="<th"+_.buildCss(u,p)+'><a style="cursor:pointer;text-decoration:none !important;" id="'+d+'">'+h+' &nbsp;<i class="fa fa-unsorted"></i></a></th>'):i+="<th"+_.buildCss(u,p)+">"+h+"</th>"}i+="</tr></thead>"}}return i=i+('<tbody id="'+this.id+'-b"></tbody>')+"</table>",this.div&&(i+="</div>"),i},B.prototype.componentDidMount=function(){var l=this;if(this.buildBody(),this.soId)for(var t=0,e=this.soId;t<e.length;t++)!function(t){var a=document.getElementById(t);a&&a.addEventListener("click",function(t){var t=_.lastSub(_.getId(t.currentTarget)),e=t.indexOf("_");if(!(e<=0)){t=_.WUtil.toNumber(t.substring(e+1),-1);if(0<=t&&l.header&&l.header.length>t){l.reqSort=t;var e=l.handlers._sort,n=!(e&&e.length)&&l.keys&&l.keys.length>t,i=l.header[t],o=l.sortBy[t];if(o?1==o?(l.sortBy[t]=-1,i&&(a.innerHTML=i+' &nbsp;<i class="fa fa-sort-desc"></i>'),n&&l.setState(_.WUtil.sort(l.state,!1,l.keys[t]))):-1==o&&(l.sortBy[t]=0,i&&(a.innerHTML=i+' &nbsp;<i class="fa fa-unsorted"></i>')):(l.sortBy[t]=1,i&&(a.innerHTML=i+' &nbsp;<i class="fa fa-sort-asc"></i>'),n&&l.setState(_.WUtil.sort(l.state,!0,l.keys[t]))),e)for(var r=0,s=e;r<s.length;r++)(0,s[r])(l.createEvent("_sort",l.sortBy));l.reqSort=-1,l.prvSort=t}}})}(e[t]);var n=document.getElementById(this.id+"-b");n&&(n.addEventListener("click",function(t){!l.selectionMode||"none"==l.selectionMode||!(t=t.target)||!(t=t.closest("tr"))||(t=_.WUtil.toNumber(_.lastSub(t),-1))<0||l.select([t])}),n.addEventListener("dblclick",function(t){if(l.handlers._doubleclick){t=t.target;if(t){var e=t.closest("tr");if(e){var n=_.WUtil.toNumber(_.lastSub(e),-1);if(!(n<0))for(var i=l.state&&l.state.length>n?l.state[n]:null,o=0,r=l.handlers._doubleclick;o<r.length;o++)(0,r[o])({element:l.root,rowElement:e,data:i,rowIndex:n})}}}}))},B.prototype.componentDidUpdate=function(t,e){this.buildBody(),this.updSort()},B.prototype.updSort=function(){var t,e;-1!=this.prvSort&&this.reqSort!=this.prvSort&&this.sortBy[this.prvSort]&&(t=this.subId("sort_"+this.prvSort),(t=document.getElementById(t))&&((e=this.header[this.prvSort])&&(t.innerHTML=e+' &nbsp;<i class="fa fa-unsorted"></i>'),this.sortBy[this.prvSort]=0))},B.prototype.getType=function(t){return!this.types||this.types.length<=t?"":this.types[t]},B.prototype.buildBody=function(){var t=document.getElementById(this.id+"-b");if(t)if(this.state&&this.state.length)if(this.keys&&this.keys.length){this.page<1&&(this.page=1),this.plen<1&&(this.plen=10);for(var e=(this.page-1)*this.plen,n=e+this.plen,i=this.selectionMode&&"none"!=this.selectionMode?' style="cursor:pointer;"':"",o="",r=this.state?this.state.length:0,s=this.rows=0;s<r;s++)if(!this.paging||!(s<e||n<=s)){this.rows++;for(var a=this.state[s],l="",l=s==this.state.length-1&&this.footerStyle?"<tr"+_.buildCss(this.footerStyle)+' id="'+this.id+"-"+s+'"'+i+">":"<tr"+_.buildCss(this.rowStyle)+' id="'+this.id+"-"+s+'"'+i+">",h=-1,u=0,d=this.keys;u<d.length;u++){var p=a[d[u]],c="";switch(null==p&&(p=""),h++,y=this.getType(h)){case"w":c="text-center";break;case"c":case"c5":case"i":case"n":c="text-right";break;case"b":p=p?"&check;":"";break;default:"number"==typeof(p="boolean"==typeof(p=p instanceof Date?p.toLocaleDateString():p)?p?"&check;":"":p)&&(c="text-right")}var f=void 0,g=("string"==typeof(f=0==h?this.col0Style||this.colStyle:h==this.header.length-1&&this.colLStyle||this.colStyle)?0<f.indexOf("text-align")&&(c=""):f&&f.a&&(c=""),this.widths&&this.widths.length>h?this.widths[h]:0);l+="<td"+_.buildCss(f,c,{w:g})+">"+p+"</td>"}if(this.header&&this.header.length>this.keys.length)for(var b=0;b<this.header.length-this.keys.length;b++)l+="<td"+_.buildCss(this.colStyle)+"></td>";if(l+="</tr>",this.handlers._rowprepared){(y=document.createElement("template")).innerHTML=l;for(var y,m={element:this.root,rowElement:y.content.firstElementChild,data:a,rowIndex:s},v=0,S=this.handlers._rowprepared;v<S.length;v++)(0,S[v])(m);l=y.innerHTML}o+=l}t.innerHTML=o}else t.innerHTML="";else t.innerHTML=""},B.prototype.onSort=function(t){this.handlers._sort||(this.handlers._sort=[]),this.handlers._sort.push(t)};var U,n=B;function B(t,e,n,i,o,r,s){var a=U.call(this,t||"*","WTable",s,i,o,r)||this;if(a.reqSort=-1,a.prvSort=-1,a.selectedRow=-1,a.paging=!1,a.plen=10,a.page=1,a.rows=0,a.rootTag="table",a.header=e,n&&n.length)a.keys=n;else if(a.keys=[],a.header)for(var l=0;l<a.header.length;l++)a.keys.push(l);return a.widths=[],a.selClass=_.CSS.SEL_ROW,a}_.WTable=n;R=_.WComponent,__extends(M,R),Object.defineProperty(M.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.fieldset&&(this._enabled?this.fieldset.removeAttribute("disabled"):this.fieldset.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),M.prototype.init=function(){return this.rows=[],this.roww=[],this.currRow=null,this.footer=[],this.captions=[],this.tips={},this.addRow(),this.leg=null,this},M.prototype.legend=function(t,e,n,i){return this.leg=t?_.create("legend",t,n,i,"",e):null,this},M.prototype.onEnter=function(t){return t&&(this.handlers._enter=[t]),this},M.prototype.onFocus=function(t,e){t=this.getField(t);return t&&(t.component?t.component.on("focus",e):t.element instanceof HTMLElement&&t.element.addEventListener("focus",e)),this},M.prototype.onBlur=function(t,e){t=this.getField(t);return t&&(t.component?t.component.on("blur",e):t.element instanceof HTMLElement&&t.element.addEventListener("blur",e)),this},M.prototype.focus=function(){var t=this.first(!0);return t&&(t.component?t.component.focus():t.element instanceof HTMLElement&&t.element.focus()),this},M.prototype.first=function(t){if(!this.rows)return null;for(var e=0,n=this.rows;e<n.length;e++)for(var i=0,o=n[e];i<o.length;i++){var r=o[i];if(!t)return r;if((null==r.enabled||r.enabled)&&(null==r.readonly||!r.readonly))return r}return null},M.prototype.focusOn=function(t){t=this.getField(t);return t&&(t.component?t.component.focus():t.element instanceof HTMLElement&&t.element.focus()),this},M.prototype.getField=function(t){if(t)for(var e=0==t.indexOf(this.id+"-")?t:this.subId(t),n=0;n<this.rows.length;n++)for(var i=this.rows[n],o=0;o<i.length;o++){var r=i[o];if(r.id==e)return r}},M.prototype.getComponent=function(t,e){var n=this.getField(t);if(!n)return console.error("["+_.str(this)+"] Field "+t+" not found."),e;n=n.component;return n||(console.error("["+_.str(this)+"] Field "+t+" has no components."),e)},M.prototype.onField=function(t,e,n){t=this.getComponent(t);return t&&t.on(e,n),this},M.prototype.findOption=function(t,e,n){void 0===n&&(n=null),e=e||"";t=this.getComponent(t);return t&&(t instanceof D||t instanceof T)?t.findOption(e,n):n},M.prototype.indexOption=function(t,e){t=this.getComponent(t);return t?t instanceof D||t instanceof T?t.indexOption(e):-4:-3},M.prototype.addOption=function(t,e,n){t=this.getComponent(t);return t&&(t instanceof D||t instanceof T)&&t.addOption(e,n),this},M.prototype.remOption=function(t,e){t=this.getComponent(t);return t&&(t instanceof D||t instanceof T)&&t.remOption(e),this},M.prototype.setOptionValue=function(t,e,n){return this.setValue(t,this.findOption(t,e,n=void 0===n?null:n)),this},M.prototype.addRow=function(t,e,n,i,o){return void 0===o&&(o="row"),this.currRow&&!this.currRow.length?this.roww[this.roww.length-1]={classStyle:t,style:e,id:n,attributes:_.attributes(i),type:o}:(this.currRow=[],this.rows.push(this.currRow),this.roww.push({classStyle:t,style:e,id:n,attributes:_.attributes(i),type:o})),this},M.prototype._add=function(i,t,e,n,o){var r=this,o=o||{};return e instanceof y?(e.readonly=!!o.readonly,e.autofocus=!!o.autofocus,e.onEnter(function(t){if(r.handlers._enter){t&&(t.data=r.ripId(i));for(var e=0,n=r.handlers._enter;e<n.length;e++)(0,n[e])(t)}})):e instanceof S?(e.readonly=!!o.readonly,e.autofocus=!!o.autofocus):e.enabled=!o.readonly,o.attributes&&(e.attributes=o.attributes),o.tooltip&&(e.tooltip=o.tooltip),o.style&&(e.style=_.style(o.style)),o.id=i,o.label=t,o.component=e,o.type=n,this.currRow.push(o),this},M.prototype.addTextField=function(t,e,n){var t=this.subId(t),i=new y(t,"text",0,_.CSS.FORM_CTRL);return"boolean"==typeof n?this._add(t,e,i,"text",{readonly:n}):this._add(t,e,i,"text",n)},M.prototype.addNumberField=function(t,e,n,i,o){void 0===n&&(n=0);var t=this.subId(t),r=new y(t,"number",0,_.CSS.FORM_CTRL),n='min="'+n+'"';return null!=i&&(n+=' max="'+i+'"'),(o=o||{}).attributes?o.attributes+=" "+n:o.attributes=n,this._add(t,e,r,"number",o)},M.prototype.addPasswordField=function(t,e,n){var t=this.subId(t),i=new y(t,"password",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"password",n)},M.prototype.addDateField=function(t,e,n){var t=this.subId(t),i=new y(t,"date",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"date",n)},M.prototype.addMonthField=function(t,e,n){var t=this.subId(t),i=new y(t,"month",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"month",n)},M.prototype.addTimeField=function(t,e,n){var t=this.subId(t),i=new y(t,"time",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"time",n)},M.prototype.addEmailField=function(t,e,n){var t=this.subId(t),i=new y(t,"email",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"email",n)},M.prototype.addNoteField=function(t,e,n,i){n=n||3;t=this.subId(t),n=new S(t,n,_.CSS.FORM_CTRL);return this._add(t,e,n,"note",i)},M.prototype.addFileField=function(t,e,n){var t=this.subId(t),i=new y(t,"file",0,_.CSS.FORM_CTRL);return this._add(t,e,i,"file",n)},M.prototype.addOptionsField=function(t,e,n,i){t=this.subId(t),n=new D(t,n,!1,_.CSS.FORM_CTRL);return this._add(t,e,n,"select",i)},M.prototype.addRadioField=function(t,e,n,i){t=this.subId(t),n=new T(t,n,_.CSS.FORM_CTRL,_.CSS.RADIO_STYLE);return this._add(t,e,n,"radio",i)},M.prototype.addBooleanField=function(t,e,n,i){var t=this.subId(t),o=new N(t,"");return o.divClass=_.CSS.FORM_CHECK,o.divStyle=_.CSS.CKDIV_STYLE,o.classStyle=_.CSS.FORM_CTRL,o.style=_.CSS.CKBOX_STYLE,"string"==typeof n?o.label=n:Array.isArray(n)&&(o.value=n[0],o.noval=n[1]),i&&Array.isArray(i.value)&&(o.value=i.value[0],o.noval=i.value[1]),this._add(t,e,o,"boolean",i)},M.prototype.addToggleField=function(t,e,n,i){var t=this.subId(t),o=new N(t,"");return o.lever=!0,o.divClass=_.CSS.FORM_CHECK,o.divStyle=_.CSS.CKDIV_STYLE,o.classStyle=_.CSS.FORM_CTRL,"string"==typeof n?o.label=n:Array.isArray(n)&&(o.value=n[0],o.noval=n[1]),i&&Array.isArray(i.value)&&(o.value=i.value[0],o.noval=i.value[1]),this._add(t,e,o,"boolean",i)},M.prototype.addBlankField=function(t,e,n,i){e=new c("",e,n);return i&&e.add(i),this._add("",t,e,"blank",{})},M.prototype.addCaption=function(t,e,n,i,o){t=new f("",t=t||"",e,n,i);return this._add("","",t,"caption",o)},M.prototype.addHiddenField=function(t,e){var t=this.subId(t),e=_.WUtil.toString(e),n=new y(t,"hidden");return n.setState(e),this.currRow.push({id:t,component:n,value:e,type:"hidden"}),this},M.prototype.addInternalField=function(t,e){return void 0===e&&(e=null),this.currRow.push({id:this.subId(t),value:e,type:"internal"}),this},M.prototype.addComponent=function(t,e,n,i){return n?t?(t=this.subId(t),n.id=t,this._add(t,e,n,"component",i)):(n.id="",this._add("",e,n,"component",i)):this},M.prototype.section=function(t,e,n,i){null==n&&(n=_.CSS.SEC_STYLE);var o=_.CSS.SEC_TAG||"span",o=_.build(o,t,n,"",i,_.CSS.SEC_CLASS);return null==e&&(e=_.CSS.SEC_DIV_STYLE),this.addRow().addBlankField("",_.CSS.SEC_DIV_CLASS,e,o)},M.prototype.setTooltip=function(t,e){t=this.getField(t);return t&&(e?(this.tips[t.id]=e,t.tooltip=e):(delete this.tips[t.id],t.tooltip="")),this},M.prototype.setLabelCss=function(t,e){t=this.getField(t);return t&&(t.labelCss=e,t.labelComp&&((e=_.cls(t.labelCss))&&(t.labelComp.classStyle=e),t.labelComp.style=_.style(t.labelCss))),this},M.prototype.setLabelText=function(t,e){t=this.getField(t);return t&&(t.label=e,t.labelComp&&t.labelComp.setState(e)),this},M.prototype.addToFooter=function(t){return(t||this.footer)&&this.footer.push(t),this},M.prototype.componentWillMount=function(){_.formWillMount&&_.formWillMount(this)},M.prototype.componentDidMount=function(){this.fieldset=document.createElement("fieldset"),this.leg&&(this.leg.id=this.id+"__l",this.fieldset.appendChild(this.leg)),this._enabled||this.fieldset.setAttribute("disabled",""),this.root.appendChild(this.fieldset),this.main=new c(this.id+"__c",this.mainClass,this.mainStyle);for(var t=0;t<this.rows.length;t++){for(var e=this.roww[t],n=(this.main.addRow(_.cls(e.type,e.classStyle,e.style),_.style(e.style)),this.rows[t]),i=0,o=0;o<n.length;o++)(p=n[o]).component&&"hidden"!=p.type&&(i+=p.span&&0<p.span?p.span:1);for(var r,s,a,l,h=!!_.CSS.FORM_GROUP,o=0;o<n.length;o++)(p=n[o]).component&&("hidden"==p.type?p.component.mount(this.fieldset):(1==(r=(r=Math.floor(12/i))<1?1:r)&&i<11&&(0==o||o==i-1)&&(r=2),p.span&&0<p.span&&(r*=p.span),p.colClass?_.WUtil.starts(p.colClass,_.CSS.COL)?this.main.addCol(p.colClass,p.colStyle):this.main.addCol(r+" "+p.colClass,p.colStyle):this.main.addCol(""+r,p.colStyle),"caption"!=p.type&&p.component.setState(p.value),p.label&&!p.labelComp&&(r=p.required?_.RES.REQ_MARK:"",s=_.CSS.LBL_CLASS,a="",p.labelCss?((l=_.cls(p.labelCss))&&(s=l),a=_.style(p.labelCss)):p.classStyle&&(s=p.classStyle),(l=new f(p.id+"-l",p.label+r,"",s,a)).tooltip=this.tips[p.id],p.labelComp=l.for(p.id)),h?"select"==p.type?this.main.addGroup({classStyle:_.CSS.SEL_WRAPPER,style:this.groupStyle},p.labelComp,p.component):this.main.addGroup({classStyle:_.CSS.FORM_GROUP,style:this.groupStyle},p.labelComp,p.component):(this.main.add(p.labelComp),this.main.add(p.component))))}if(this.main.mount(this.fieldset),this.footer&&this.footer.length){this.foot=new c(this.subId("__foot"),this.footerClass,this.footerStyle);for(var u=0,d=this.footer;u<d.length;u++){var p=d[u];this.foot.addRow().addCol("12").add(p)}this.foot.mount(this.root)}},M.prototype.componentWillUnmount=function(){this.main&&this.main.unmount(),this.foot&&this.foot.unmount();for(var t=0,e=this.rows;t<e.length;t++)for(var n=0,i=e[t];n<i.length;n++){var o=i[n],r=o.component;r&&"hidden"==o.type&&r.unmount()}},M.prototype.clear=function(){for(var t=0;t<this.rows.length;t++)for(var e=this.rows[t],n=0;n<e.length;n++){var i=e[n];"caption"!=i.type&&(i.component&&i.component.setState(null),i.value=null)}return this},M.prototype.setValue=function(t,e,n,i){void 0===n&&(n=!0);var o=this.getField(t);if(!o)return this;"date"==o.type&&(e=_.isoDate(e)),"time"==o.type&&(e=_.formatTime(e,!1));var r,s=o.component;return s&&(e&&i?(r=-3,-1==(r=s instanceof D||s instanceof T?s.indexOption(e):r)?i(s,e):s.setState(e)):s.setState(e)),o.value=e,n&&(this.state||(this.state={}),this.state[t]=e),this},M.prototype.setValueOf=function(t,e,n,i,o){void 0===i&&(i=!0);var r=this.getField(t);if(!r)return this;var s=n?n.lastIndexOf("."):-1,s=(null!=e&&0<s&&(e=_.WUtil.get(e,n.substring(0,s)),n=n.substring(s+1)),null!=e&&"object"==typeof e&&null!=n&&(e=e[n]),"date"==r.type&&(e=_.isoDate(e)),"time"==r.type&&(e=_.formatTime(e,!1)),r.component);return s&&(e&&o?(n=-3,-1==(n=s instanceof D||s instanceof T?s.indexOption(e):n)?o(s,e):s.setState(e)):s.setState(e)),r.value=e,i&&(this.state||(this.state={}),this.state[t]=e),this},M.prototype.getValue=function(t){t="string"==typeof t?this.getField(t):t;return t?t.component?t.component.getState():t.value:null},M.prototype.notBlank=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=0;if(t&&t.length)for(var i=0,o=t;i<o.length;i++){var r=o[i];(l=this.getField(r))&&(l.component?l.component.getState():l.value)&&n++}else for(var s=0,a=this.rows;s<a.length;s++)for(var l,h=0,u=a[s];h<u.length;h++)((l=u[h]).component?l.component.getState():l.value)&&n++;return n},M.prototype.isBlank=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&t.length)for(var n=0,i=t;n<i.length;n++){var o=i[n],r=this.getField(o);if(r)if(r.component?r.component.getState():r.value)return!1}else for(var s=0,a=this.rows;s<a.length;s++)for(var l=0,h=a[s];l<h.length;l++)if((r=h[l]).component?r.component.getState():r.value)return!1;return!0},M.prototype.getFile=function(t,e,n){t=this.getField(t);if(!t||!t.id)return null;t=document.getElementById(t.id);if(!t||!t.files)return null;if("function"==typeof e&&(n=e,e=0),(e=e<0?t.files.length+e:e)<0||e>=t.files.length)return null;var i=t.files[e];return i?(n&&((t=new FileReader).onload=function(t){t&&t.target&&(!(t=t.target.result)||!(t=t.split(","))||t.length<2||n(i,t[1]))},t.readAsDataURL(i)),i):null},M.prototype.setOptions=function(t,e,n){t=this.getField(t);if(!t)return this;t=t.component;return(t instanceof D||t instanceof T)&&t.setOptions(e,n),this},M.prototype.setSpan=function(t,e){t=this.getField(t);return t&&(t.span=e),this},M.prototype.setEnabled=function(t,e){t=this.getField(t);return t&&(t.enabled=e,t.component&&(t.component.enabled=e)),this},M.prototype.setReadOnly=function(t,e){t=this.getField(t);if(!t)return this;t.readonly=e;t=t.component;return(t instanceof _.WInput||t instanceof _.WTextArea)&&(t.readonly=e),this},M.prototype.getValues=function(t){for(var e={},n=0,i=this.rows;n<i.length;n++)for(var o=0,r=i[n];o<r.length;o++){var s=r[o],a=this.ripId(s.id);a&&(e[a]=s?_.WUtil.toString(s.component?s.component.getState():s.value):s.component?s.component.getState():s.value)}return e},M.prototype.getState=function(){return this.state=this.getValues(),this.state},M.prototype.updateState=function(t){R.prototype.updateState.call(this,t),!t||_.WUtil.isEmpty(t)?this.clear():this.updateView()},M.prototype.updateView=function(){if(this.state)for(var t in this.state)this.setValue(t,this.state[t],!1);else this.clear()},M.prototype.setMandatory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.rows)return this;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],r=0==r.indexOf(this.id+"-")?r:this.subId(r);n.push(r)}for(var s=0;s<this.rows.length;s++)for(var a=this.rows[s],l=0;l<a.length;l++){var h,u=a[l];0<=n.indexOf(u.id)?u.required=!0:u.required=!1,u.labelComp&&u.label&&(h=u.required?_.RES.REQ_MARK:"",u.labelComp.setState(u.label+h))}return this},M.prototype.checkMandatory=function(t,e,n){for(var i=(i=this.getState())||{},o="",r="",s=!1,a=0;a<this.rows.length;a++)for(var l=this.rows[a],h=0;h<l.length;h++){var u=l[h],d=this.ripId(u.id),p=i[d];u.required&&(null==p||""==p?(o+=t?","+u.label:","+d,r=r||d):s=!0)}return n&&s?"":(r&&e&&this.focusOn(r),o&&o.substring(1))};var R,n=M;function M(t,e,n){t=R.call(this,t||"*","WForm")||this;return t.rootTag="form",t._attributes=n?'role="form" name="'+t.id+'" action="'+n+'"':'role="form" name="'+t.id+'" action="javascript:void(0);"',t.title=e,_.CSS.FORM&&(0<_.CSS.FORM.indexOf(":")?t.style=_.CSS.FORM:t.classStyle=_.CSS.FORM),t.init(),t}_.WForm=n}(WUX=WUX||{}),function(h){function i(t){var e=window.jQuery||null;if(!e)return console.error("[WUX] jQuery is not available"),null;e=e(t);return e.length?e:(console.error("[WUX] !jQuery("+t+").length==true"),null)}h.BS_VER=5,h.BS_DLG_X="",h.JQ=i,h.setJQCss=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t||!e||!e.length)return t;if(t instanceof h.WComponent)t.css.apply(t,e);else if(t instanceof jQuery){if(!t.length)return t;var i=h.css.apply(void 0,e),o=h.cls.apply(void 0,e);o&&t.addClass(o),i&&t.attr("style",i)}return t};l=h.WComponent,__extends(e,l),e.prototype.addToPages=function(t,e,n,i,o,r){if(void 0===e&&(e=!0),void 0===n&&(n=!0),!(this.wp=t))return this;if(this.isShown=!1,this.contClass||(this.contClass=h.CSS.DIALOG_CONTENT),this.cntRoot=new h.WContainer(this.id),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),e&&this.cntHeader&&(this.cntHeader.style=h.css(this.cntHeader.style,i=null==i?"margin-bottom:2rem;":i),this.cntContent.addContainer(this.cntHeader)),this.cntBody&&this.cntContent.addContainer(this.cntBody),n){null==r&&(r="margin:0.25rem;");for(var s=0,a=this.buttons;s<a.length;s++){var l=a[s];l.style=h.css(l.style,r),this.footer.add(l)}this.cntFooter&&(o&&(this.cntFooter.style=h.css(this.cntFooter.style,o)),this.cntContent.addContainer(this.cntFooter))}return t.add(this.cntRoot),this.pg=t.pages-1,this},e.prototype.makeUp=function(t,e,n){return this.title=t,this.body.addRow().addCol("12").add(e),n&&(this.hh=n),this},e.prototype.onShownModal=function(t){return this.sh=t,this},e.prototype.onHiddenModal=function(t){return this.hh=t,this},Object.defineProperty(e.prototype,"header",{get:function(){return this.cntHeader||(this.cntHeader=new h.WContainer("",h.CSS.DIALOG_HEADER),this.cntHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new h.WContainer("",h.cls(h.CSS.DIALOG_BODY,this.bodyClass),"",this._attributes),this.cntBody)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this.cntFooter||(this.cntFooter=new h.WContainer("",h.CSS.DIALOG_FOOTER),this.cntFooter)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e=this,n=(this._title=t,document.getElementById(this.subId("title")));n?n.innerText=t:(h.BS_DLG_X?"string"==typeof h.BS_DLG_X?this.btnClose=new h.WButton(this.subId("bhc"),h.BS_DLG_X,"","close"):this.btnClose=new h.WButton(this.subId("bhc"),h.BS_DLG_X.title,h.BS_DLG_X.icon,h.BS_DLG_X.classStyle,h.BS_DLG_X.style,h.BS_DLG_X.attributes):4<h.BS_VER?this.btnClose=new h.WButton(this.subId("bhc"),"","","btn-close","",'aria-label="'+h.RES.CLOSE+'"'):this.btnClose=new h.WButton(this.subId("bhc"),'<span aria-hidden="true">&times;</span>',"","close"),this.btnClose.on("click",function(t){e.close()}),0<=h.CSS.DIALOG_X_POS?this.header.add(this.buildTitle()).add(this.btnClose):this.header.add(this.btnClose).add(this.buildTitle()))},enumerable:!1,configurable:!0}),e.prototype.onClickOk=function(){return!0},e.prototype.onClickCancel=function(){return!0},e.prototype.buildBtnOK=function(){return new h.WButton(this.subId("bfo"),h.RES.OK,"",h.CSS.DIALOG_OK,"","")},e.prototype.buildBtnCancel=function(){return this.txtCancel?new h.WButton(this.subId("bfc"),this.txtCancel,"",h.CSS.DIALOG_CANCEL,"",""):new h.WButton(this.subId("bfc"),h.RES.CANCEL,"",h.CSS.DIALOG_CANCEL,"","")},e.prototype.fireOk=function(){this.onClickOk()&&this.doOk()},e.prototype.fireCancel=function(){this.onClickCancel()&&this.doCancel()},e.prototype.doOk=function(){if(this.ok=!0,this.cancel=!1,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.doCancel=function(){if(this.ok=!1,this.cancel=!0,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.buttonOk=function(){var e=this;if(this.btnOK)return this.btnOK;this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(t){e.fireOk()}),this.buttons.push(this.btnOK)},e.prototype.buttonCancel=function(){var e=this;if(this.btnCancel)return this.btnCancel;this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(t){e.fireCancel()}),this.buttons.push(this.btnCancel)},e.prototype.updButtons=function(t,e){return this.btnOK&&(t?(this.btnOK.setText(t),this.btnOK.visible=!0):""==t?this.btnOK.visible=!1:(this.btnOK.setText(h.RES.OK),this.btnOK.visible=!0)),this.btnCancel&&(e?(this.btnCancel.setText(e),this.btnCancel.visible=!0):""==e?this.btnCancel.visible=!1:(this.btnCancel.setText(h.RES.CANCEL),this.btnCancel.visible=!0)),this},e.prototype.show=function(t,e){if(this.beforeShow()){if(this.ok=!1,this.cancel=!1,this.parent=t,this.ph=e,this.wp)return this.wp.show(this.pg),void this._s();this.mounted||WuxDOM.mount(this),this.$r&&(this.$r.modal({backdrop:"static",keyboard:!1,show:!1}),this.$r.modal("show"))}},e.prototype.hide=function(){if(this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.close=function(){if(this.ok=!1,this.cancel=!1,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.beforeShow=function(){return!0},e.prototype.onShown=function(){},e.prototype.onHidden=function(){},e.prototype.render=function(){this._classStyle||(this._classStyle=h.CSS.DIALOG_CLASS),this.mainClass||(this.mainClass=this.fullscreen?h.CSS.DIALOG_FULL:h.CSS.DIALOG_MAIN),this.contClass||(this.contClass=h.CSS.DIALOG_CONTENT),this.isShown=!1,this.cntRoot=new h.WContainer(this.id,this._classStyle,"",'role="dialog" tabindex="-1" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody);for(var t=0,e=this.buttons;t<e.length;t++){var n=e[t];this.footer.add(n)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},e.prototype.componentDidMount=function(){var e=this;this.$r&&(this.$r.on("shown.bs.modal",function(t){e._s(t)}),this.$r.on("hidden.bs.modal",function(t){e._h(t)}))},e.prototype._s=function(t){t=t||{type:"shown"},this.isShown=!0,this.onShown(),this.sh&&this.sh(t)},e.prototype._h=function(t){t=t||{type:"hidden"},this.isShown=!1,this.onHidden(),this.hh&&this.hh(t),this.ph&&(this.ph(t),this.ph=null)},e.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnClose&&this.btnClose.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},e.prototype.buildTitle=function(){this.tagTitle||(this.tagTitle=h.CSS.DIALOG_TITLE_TAG||"h5");var t=this.wp?"":h.buildCss(h.CSS.DIALOG_TITLE);return"<"+this.tagTitle+t+' id="'+this.subId("title")+'">'+h.WUtil.toText(this._title)+"</"+this.tagTitle+">"};var l,t=e;function e(t,e,n,i,o,r,s){void 0===n&&(n=!0),void 0===i&&(i=!0);var a=l.call(this,t,e=void 0===e?"WDialog":e,void 0,o,r,s)||this;return a.pg=0,a.buttons=[],i&&(n||(a.txtCancel=h.RES.CLOSE),a.buttonCancel()),n&&a.buttonOk(),a.ok=!1,a.cancel=!1,a.isShown=!1,a.id&&"*"!=a.id&&(t=document.getElementById(a.id))&&t.remove(),WuxDOM.onRender(function(t){a.mounted||a.wp||a.mount(t.element)}),a}h.WDialog=t;r=h.WComponent,__extends(n,r),n.prototype.addTab=function(t,e,n,i){n=new h.WContainer("","panel-body",n,i);return n.name=h.buildIcon(e,""," ")+t,this.tabs.push(n),n},Object.defineProperty(n.prototype,"count",{get:function(){return this.tabs?this.tabs.length:0},enumerable:!1,configurable:!0}),n.prototype.isEnabled=function(t){t<0&&(t=this.tabs.length+t);t=document.getElementById(this.id+"-p"+t);if(!t)return!1;t=t.getAttribute("class");return!t||t.indexOf("disabled")<0},n.prototype.setEnabled=function(t,e){t<0&&(t=this.tabs.length+t);t=document.getElementById(this.id+"-p"+t);if(!t)return this;var n=t.getAttribute("class");if(!n)return this;if(e){if(n.indexOf("disabled")<0)return this;n=n.replace("disabled","").trim(),t.removeAttribute("tabindex"),t.removeAttribute("aria-disabled")}else{if(0<=n.indexOf("disabled"))return this;n+=" disabled",t.setAttribute("tabindex","-1"),t.setAttribute("aria-disabled","true")}return t.setAttribute("class",n),this},n.prototype.render=function(){this.state||(this.state=0);var t="<div";this._classStyle?t+=' class="tabs-container '+this._classStyle+'"':t+=' class="tabs-container"',t+=' id="'+this.id+'"',this._style&&(t+=' style="'+this._style+'"'),this._attributes&&(t+=" "+this._attributes),t+=">",this.ulClass||(this.ulClass="nav nav-tabs"),t+='<ul class="'+this.ulClass+'" role="tablist">';for(var e=0;e<this.tabs.length;e++){var n=this.tabs[e];e==this.state?t+='<li class="nav-item'+(h.BS_VER<4?" active":"")+'" role="presentation"><'+this._t+' class="nav-link active" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+e+'" role="tab" id="'+this.id+"-p"+e+'"> '+n.name+"</"+this._t+"></li>":t+='<li class="nav-item" role="presentation"><'+this._t+' class="nav-link" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+e+'" role="tab" id="'+this.id+"-p"+e+'">'+n.name+"</"+this._t+"></li>"}t+="</ul>";var i=h.css(this.contStyle);t+='<div class="tab-content"'+(i=i&&' style="'+i+'"')+">",this.tpClass||(this.tpClass="tab-pane"),this.saClass||(this.saClass=h.BS_VER<4?"active":"show active");for(e=0;e<this.tabs.length;e++)e==this.state?t+='<div id="'+this.id+"-"+e+'" class="'+this.tpClass+" "+this.saClass+'" role="tabpanel"></div>':t+='<div id="'+this.id+"-"+e+'" class="'+this.tpClass+'" role="tabpanel"></div>';return t+="</div></div>"},n.prototype.componentDidUpdate=function(t,e){var n=i(".nav-tabs "+this._t+"["+this._r+'="#'+this.id+"-"+this.state+'"]');n&&n.tab("show")},n.prototype.componentDidMount=function(){var n=this;if(this.tabs.length){for(var t=0;t<this.tabs.length;t++){var e=this.tabs[t],i=document.getElementById(this.id+"-"+t);i&&e.mount(i)}this.$r.find(this._t+"["+this._a+'="tab"]').on("shown.bs.tab",function(t){var t=t.target,e="";!(e=t instanceof Element?t.getAttribute(n._r):e)||0<=(t=e.lastIndexOf("-"))&&n.setState(parseInt(e.substring(t+1)))})}},n.prototype.componentWillUnmount=function(){for(var t=0,e=this.tabs;t<e.length;t++){var n=e[t];n&&n.unmount()}};var r,t=n;function n(t,e,n,i,o){t=r.call(this,t||"*","WTab",o,e,n,i)||this;return t.tabs=[],4<h.BS_VER?(t._t="button",t._a="data-bs-toggle",t._r="data-bs-target"):(t._t="a",t._a="data-toggle",t._r="href"),t}h.WTab=t}(WUX=WUX||{});