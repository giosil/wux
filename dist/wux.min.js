var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},__extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();if("undefined"==typeof jQuery)throw new Error("WUX requires jQuery");jQuery.fn.wuxComponent=function(t){var e=this.data("wuxComponent");return e||(t instanceof WUX.WComponent?(this.data("wuxComponent",t),t):(null==t&&(t=!0),t?(e=new WUX.WComponent(this),this.data("wuxComponent",e),e):void 0))};var WUX,WuxDOM=function(){function l(){}return l.onRender=function(t){l.onRenderHandlers.push(t)},l.onUnmount=function(t){l.onUnmountHandlers.push(t)},l.render=function(i,o,s,a){WUX.debug&&console.log("WuxDOM.render "+WUX.str(i)+" on "+WUX.str(o)+"..."),$(document).ready(function(){WUX.global.init(function(){o=o||(l.lastCtx?l.lastCtx:$("#view-root")),s&&s(o);var t=l.mount(i,o);if(l.lastCtx=t,a&&a(o),0<l.onRenderHandlers.length){for(var e={component:i instanceof WUX.WComponent?i:null,element:t,target:t.get(0),type:"render"},n=0,r=l.onRenderHandlers;n<r.length;n++){(0,r[n])(e)}l.onRenderHandlers=[]}})})},l.mount=function(t,e){if(e=e||(l.lastCtx?l.lastCtx:$("#view-root")),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+"..."),null!=t){var n="string"==typeof e?e.indexOf("#")<0?$("#"+e):$(e):e;if(n.length)return l.lastCtx=n,t instanceof WUX.WComponent?(t.mount(n),n.wuxComponent(t)):n.append(t),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" completed."),n;console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> context unavailable")}else console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> invalid component")},l.unmount=function(t){t=t||(l.lastCtx?l.lastCtx:$("#view-root")),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+"...");var e="string"==typeof t?t.indexOf("#")<0?$("#"+t):$(t):t;if(e.length){var n=e.wuxComponent(!1);if(n&&n.unmount(),e.html(""),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+" completed."),0<l.onUnmountHandlers.length){for(var r={component:n,element:e,target:e.get(0),type:"unmount"},i=0,o=l.onUnmountHandlers;i<o.length;i++){(0,o[i])(r)}l.onUnmountHandlers=[]}return e}console.error("WuxDOM.unmount "+WUX.str(t)+" -> node unavailable")},l.replace=function(t,e){var n;if(e||(e=t,t=void 0),t)if("string"==typeof t){var r=WUX.getComponent(t);r||(n=r.getContext(),r.unmount())}else t instanceof WUX.WComponent?(n=t.getContext(),t.unmount()):(n=t.parent())&&n.html("");else n=l.unmount();if((n=n||$("#view-root")).length)return l.mount(e,n);console.error("WuxDOM.replace "+WUX.str(n)+" -> node unavailable")},l.onRenderHandlers=[],l.onUnmountHandlers=[],l}();!function(d){d.debug=!1,d.registry=[],d.version="1.0.0";var t,a=(Object.defineProperty(f.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(t){this._visible=t,this.internal&&(this.internal.visible=t),this.root&&this.root.length&&(this._visible?this.root.show():this.root.hide())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.root&&this.root.length&&this.root.prop("disabled",!this._enabled)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(t){this._style=d.css(this._baseStyle,t),this.internal&&(this.internal.style=t),this.root&&this.root.length&&this.root.attr("style",this._style)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(t){this.internal&&(this.internal.classStyle=t);var e=!1,n=!1;t&&1<t.length&&"!"==t.charAt(0)?(t=t.substring(1),e=!0):t&&1<t.length&&"?"==t.charAt(0)&&(t=t.substring(1),n=!0),this._classStyle=e?d.removeClass(this._classStyle,t):n?d.toggleClass(this._classStyle,t):d.cls(this._baseClass,t),this.root&&this.root.length&&(e?this.root.removeClass(t):n?this.root.toggleClass(t):this.root.addClass(this._classStyle))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(t){this._attributes=t,this.internal&&(this.internal.attributes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(t){this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.root&&this.root.length&&this.root.attr("title",this._tooltip)},enumerable:!0,configurable:!0}),f.prototype.css=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return this;var n=h.apply(void 0,t);n&&(this.classStyle=n);var r=s.apply(void 0,t);return r&&(this.style=r),this},f.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root&&this.root.length&&this.root.focus(),this},f.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root&&this.root.length&&this.root.blur(),this},f.prototype.forceUpdate=function(t){return this.update(this.props,this.state,!1,!1,!0,t),this},f.prototype.getContext=function(){return this.context},f.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot();if(this.root)return this.root;if(this.id){var t=$("#"+this.id);if(t.length)return t}return this.context},f.prototype.getState=function(){return this.state},f.prototype.setState=function(t,e,n){return this.debug&&console.log("["+b(this)+"] setState",t),this.update(this.props,t,!1,!0,this.forceOnChange||e,n),this},f.prototype.getProps=function(){return this.props},f.prototype.setProps=function(t,e,n){return this.debug&&console.log("["+b(this)+"] setProps",t),this.update(t,this.state,!0,!1,this.forceOnChange||e,n),this},f.prototype.on=function(t,e){if(!t)return this;for(var n=0,r=t.split(" ");n<r.length;n++){var i=r[n];this.handlers[i]||(this.handlers[i]=[]),this.handlers[i].push(e)}return this.internal&&this.internal.on(t,e),this.root&&this.root.length&&this.root.on(t,e),this},f.prototype.off=function(t){if(t)for(var e=0,n=t.split(" ");e<n.length;e++){var r=n[e];delete this.handlers[r]}else this.handlers={};return this.internal&&this.internal.off(t),this.root&&this.root.length&&this.root.off(t),this},f.prototype.trigger=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(this.debug&&console.log("["+b(this)+"] trigger",t,r),t){var o=r&&0<r.length?r[0]:void 0;if("_"==t.charAt(0)||"mount"==t||"unmount"==t||"statechange"==t||"propschange"==t){if(void 0!==o&&("statechange"==t?this.state!=r[0]&&(this.state=r[0],this.debug&&console.log("["+b(this)+"] trigger set state",this.state)):"propschange"==t&&this.props!=r[0]&&(this.props=r[0],this.debug&&console.log("["+b(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[t])return this;for(var s=this.createEvent(t,o),a=0,l=this.handlers[t];a<l.length;a++)(0,l[a])(s)}else this.root&&this.root.length&&(this.debug&&console.log("["+b(this)+"] trigger "+t+" on root="+b(this.root)),(e=this.root).trigger.apply(e,__spreadArrays([t],r)));return this.internal&&(this.debug&&console.log("["+b(this)+"] trigger "+t+" on internal="+b(this.internal)),(n=this.internal).trigger.apply(n,__spreadArrays([t],r))),this}},f.prototype.unmount=function(){if(this.debug&&console.log("["+b(this)+"] unmount ctx="+b(this.context)+" root="+b(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.length&&this.root.remove(),this.root=void 0,this.id){var t=d.registry.indexOf(this.id);0<=t&&d.registry.splice(t,1)}return this.mounted=!1,this.trigger("unmount"),this},f.prototype.mount=function(t){this.debug&&console.log("["+b(this)+"] mount ctx="+b(t)+" root="+b(this.root),this.state,this.props),this.id||this.root&&this.root.length&&(this.id=this.root.attr("id")),t&&t.length&&(this.context=t),this.context||this.root&&this.root.length&&(this.context=this.root.parent(),this.context||(this.context=this.root));try{if(this.mounted&&this.unmount(),this.mounted=!1,this.context&&this.context.length||(n=$("#"+this.id)).length&&(this.context=n),this.debug&&console.log("["+b(this)+"] componentWillMount ctx="+b(t)+" root="+b(this.root)),this.componentWillMount(),this.context&&this.context.length){this.debug&&console.log("["+b(this)+"] render ctx="+b(t)+" root="+b(this.root));var e=this.render();if(null!=e)if(e instanceof f){if(this.debug&&console.log("["+b(this)+"] render -> "+b(e)),(this.internal=e).parent||(e.parent=this),e.mount(this.context),!this.root)if(this.id){var n=$("#"+this.id);this.root=n.length?n:this.internal.getRoot()}else this.root=this.context}else if(e instanceof jQuery)this.context.append(e),this.root||(this.root=e);else{var r=g(e),i=r[0],o=r[1],s=r[2];i&&this.context.append(i),this.context.append(o),s&&this.context.append(s),this.root||(this.root=this.id?$("#"+this.id):o)}else this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?$("#"+this.id):this.context)}if(this._visible||(this.internal?this.internal.visible=!1:this.root.hide()),this._enabled||(this.internal?this.internal.enabled=!1:this.root.prop("disabled",!0)),this.debug&&console.log("["+b(this)+"] componentDidMount ctx="+b(t)+" root="+b(this.root)),this.componentDidMount(),this.root&&this.root.length)for(var a in this.handlers)if(a&&"_"!=a.charAt(0)&&"mount"!=a&&"unmount"!=a&&"statechange"!=a&&"propschange"!=a)for(var l=0,h=this.handlers[a];l<h.length;l++){var u=h[l];this.root.on(a,u)}if(this.root.wuxComponent(this),this.mounted=!0,this.id&&(!this.internal||this.internal.id!=this.id))if(0<=d.registry.indexOf(this.id)){var p=d.getComponent(this.id);p&&p.cuid!=this.cuid&&console.error("["+b(this)+"] id already used by "+b(p))}else d.registry.push(this.id);this.trigger("mount")}catch(t){var c=b(this)+" "+b(this.context);console.error("["+b(this)+"] mount error "+c,t),this.componentDidCatch(t,c)}return this},f.prototype.componentWillUnmount=function(){},f.prototype.componentWillMount=function(){},f.prototype.render=function(){return this.buildRoot(this.rootTag)},f.prototype.componentDidMount=function(){},f.prototype.componentDidCatch=function(t,e){},f.prototype.shouldComponentUpdate=function(t,e){return"object"==typeof t||"object"==typeof e||this.props!=t||this.state!=e},f.prototype.componentWillUpdate=function(t,e){},f.prototype.componentDidUpdate=function(t,e){},f.prototype.updateProps=function(t){this.props=t},f.prototype.updateState=function(t){this.state=t},f.prototype.update=function(t,e,n,r,i,o){void 0===i&&(i=!1),this.debug&&console.log("["+b(this)+"] update",t,e,"propsChange="+n+",stateChange="+r+",force="+i),t=void 0===t?this.props:t;var s=this.props,a=this.state;if(this.dontTrigger=!1,this.mounted){if(i||this.shouldComponentUpdate(t,e)){try{this.debug&&console.log("["+b(this)+"] componentWillUpdate",t,e),this.componentWillUpdate(t,e),n&&(this.debug&&console.log("["+b(this)+"] updateProps",t),this.updateProps(t)),r&&(this.debug&&console.log("["+b(this)+"] updateState",e),this.updateState(e)),i&&this.mount(),this.debug&&console.log("["+b(this)+"] componentDidUpdate",s,a),this.componentDidUpdate(s,a),n&&!this.dontTrigger&&this.trigger("propschange"),r&&!this.dontTrigger&&this.trigger("statechange")}catch(t){return this.componentDidCatch(t,b(this)+"|"+b(this.context)),!1}o&&o()}}else n&&(this.debug&&console.log("["+b(this)+"] updateProps",t),this.updateProps(t),this.dontTrigger||this.trigger("propschange")),r&&(this.debug&&console.log("["+b(this)+"] updateState",e),this.updateState(e),this.dontTrigger||this.trigger("statechange"));return!0},f.prototype.createEvent=function(t,e){var n=this.root&&this.root.length?this.root.get(0):this.root;return{component:this,element:this.root,target:n,type:t,data:e}},f.prototype.shouldBuildRoot=function(){if(this.internal)return!1;if(this.root&&this.root.length)return!1;if(this.context&&this.context.length){var t=this.context.attr("id");if(!t&&t==this.id)return!1}return!0},f.prototype.buildRoot=function(t,e,n,r,i,o,s){if(this.debug&&console.log("["+b(this)+"] buildRoot",t,e,n,r,i,o,s),this.shouldBuildRoot())return this.debug&&console.log("["+b(this)+"] shouldBuildRoot() -> true"),this.build(t,e,n,r,i,o,s);this.debug&&console.log("["+b(this)+"] shouldBuildRoot() -> false")},f.prototype.build=function(t,e,n,r,i,o,s){t=t||"div",void 0===r&&(r=this._classStyle),void 0===i&&(i=this._style),void 0===o&&(o=this._attributes),void 0===s&&(s=this.id);var a="<"+t;s&&(a+=' id="'+s+'"'),r&&(a+=' class="'+r+'"'),i&&(a+=' style="'+i+'"');var l=d.attributes(o);l&&(a+=" "+l);var h=d.attributes(n);h&&(a+=" "+h),a+=">";var u=p(null==e?this.make():e);return a+=u[1],"input"==t||(a+="</"+t+">"),u[0]+a+u[2]},f.prototype.make=function(){return""},f.prototype.subId=function(t,e){if(t instanceof f){var n=t.id;return n&&this.id?0!=n.indexOf(this.id+"-")?n:n.substring(this.id.length+1):n}return this.id&&"*"!=this.id||(this.id="w"+this.cuid),t&&"*"!=t||(t=(this.subSeq++).toString()),e||0==e?this.id+"-"+t+"-"+e:this.id+"-"+t},f.prototype.ripId=function(t){return t&&this.id&&0==t.indexOf(this.id)&&t.length>this.id.length+1?t.substring(this.id.length+1):t},f.prototype.transferTo=function(t,e,n){return this.debug&&console.log("["+b(this)+"] transferTo "+b(t)),!!t&&(t.setState(this.getState(),e,n),!0)},f);function f(t,e,n,r,i,o){if(this.mounted=!1,this.debug=d.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),t instanceof jQuery)this.root=t,this.root&&this.root.length&&(this.mounted=!0),this.debug&&console.log("["+b(this)+"] new wrapper root="+b(this.root));else{"string"==typeof t&&(this.id="*"==t?"w"+this.cuid:t),this.name=e||"WComponent",this._classStyle=r;var s=d.cls(i);s&&(this._classStyle=this._classStyle?this._classStyle+" "+s:s),this._style=d.style(i),this._attributes=d.attributes(o),this.debug&&console.log("["+b(this)+"] new"),this.debug&&console.log("["+b(this)+"] updateProps",n),this.updateProps(n)}}d.WComponent=a,(t=d.WInputType||(d.WInputType={})).Text="text",t.Number="number",t.Password="password",t.CheckBox="checkbox",t.Radio="radio",t.Date="date",t.DateTime="datetime",t.Time="time",t.File="file",t.Image="image",t.Color="color",t.Email="email",t.Url="url",t.Month="month",t.Week="week",t.Search="search",t.Hidden="hidden",t.Note="note",t.Select="select",t.Static="static",t.Component="component",t.Blank="blank",t.Link="link",t.Integer="integer",t.Cron="crontab",t.TreeSelect="tree",t.Ftp="ftp";var e=(c.toArrayComponent=function(t){if(!t)return[];if(Array.isArray(t)&&t.length)return t[0]instanceof a?t:[];var e=[];return t instanceof a&&e.push(t),e},c.hasComponents=function(t){return!!t&&(Array.isArray(t)&&t.length?t[0]instanceof a:t instanceof a)},c.toArray=function(t){if(t instanceof a&&(t=t.getState()),null==t)return[];if(Array.isArray(t))return t;var e=[];return e.push(t),e},c.toArrayNumber=function(t,e){if(t instanceof a&&(t=t.getState()),null==t)return[];var n=[];if(Array.isArray(t))for(var r=0,i=t;r<i.length;r++){var o=i[r],s=c.toNumber(o);e&&!s||n.push(s)}else{if(s=c.toNumber(t),e&&!s)return n;n.push(s)}return n},c.toArrayString=function(t,e){if(t instanceof a&&(t=t.getState()),null==t)return[];var n=[];if(Array.isArray(t))for(var r=0,i=t;r<i.length;r++){var o=i[r],s=c.toString(o);e&&!s||n.push(s)}else{if(s=c.toString(t),e&&!s)return n;n.push(c.toString(t))}return n},c.splitNumbers=function(t,e){if(!t)return[];for(var n=[],r=0,i=c.toString(t).split(e);r<i.length;r++){var o=i[r];n.push(c.toNumber(o))}return n},c.toObject=function(t,e){return t instanceof a&&(t=t.getState()),null==t?e:"object"==typeof t?t:e},c.toString=function(t,e){return void 0===e&&(e=""),t instanceof a&&(t=t.getState()),null==t?e:"string"==typeof t?t:t instanceof Date?d.formatDate(t):"object"==typeof t&&null!=t.id?c.toString(t.id,e):Array.isArray(t)&&t.length?c.toString(t[0],e):""+t},c.toText=function(t,e){return void 0===e&&(e=""),c.toString(t,e).replace("<","&lt;").replace(">","&gt;")},c.toNumber=function(t,e){if(void 0===e&&(e=0),t instanceof a&&(t=t.getState()),null==t)return e;if("number"==typeof t)return t;if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return c.toNumber(t.id,e);if(Array.isArray(t)&&t.length)return c.toNumber(t[0],e);var n=(""+t).trim();0<=n.indexOf(".")&&0<=n.indexOf(",")&&(n=n.replace(".",""));var r=((n=n.replace(",",".")).indexOf(".")>=e?parseFloat:parseInt)(n);return isNaN(r)?e:r},c.toInt=function(t,e){if(void 0===e&&(e=0),t instanceof a&&(t=t.getState()),null==t)return e;if("number"==typeof t)return Math.floor(t);if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return c.toInt(t.id,e);if(Array.isArray(t)&&t.length)return c.toInt(t[0],e);var n=(""+t).replace(",","."),r=parseInt(n);return isNaN(r)?e:r},c.toIntTime=function(t,e){if(void 0===e&&(e=0),t instanceof a&&(t=t.getState()),null==t)return e;if(t instanceof Date)return 100*t.getHours()+t.getMinutes();if(Array.isArray(t)&&t.length)return c.toIntTime(t[0],e);var n=(""+t).replace(":","").replace(".","").replace(",",""),r=parseInt(n);return isNaN(r)?e:r},c.isNumeric=function(t){return!isNaN(t)},c.checkEmail=function(t){if(!t)return"";var e=c.toString(t);if(!e)return"";if(e.length<5)return"";var n=e.indexOf("@");return n<=0||e.lastIndexOf(".")<n?"":e.trim().toLowerCase()},c.starts=function(t,e){return!(!t||null==e)&&0==c.toString(t).indexOf(e)},c.ends=function(t,e){if(!t||null==e)return!1;var n=c.toString(t),r=n.lastIndexOf(e);return!(r<0)&&r==n.length-e.length},c.isEmpty=function(t){if(!t)return!0;if(Array.isArray(t)&&!t.length)return!0;if("object"!=typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.toBoolean=function(t,e){return void 0===e&&(e=!1),t instanceof d.WCheck&&(t=t.getProps()),t instanceof a&&(t=t.getState()),null==t?e:"boolean"==typeof t?t:"string"==typeof t&&t.length?0<="1YyTtSs".indexOf(t.charAt(0)):!!e},c.toDate=function(t,e){if(t instanceof a&&(t=t.getState()),null==t)return e;if(t instanceof Date)return t;if("number"==typeof t)return t<10000101?e:new Date(t/1e4,t%1e4/100-1,t%1e4%100);if("string"!=typeof t)return e;if(t.length<8)return e;var n=t.indexOf(",");if(0<=n&&(t=t.substring(n+1)),3<t.indexOf("-"))return new Date(t.trim());if(this.isNumeric(t)){var r=parseInt(t);return r<10000101?e:new Date(r/1e4,r%1e4/100-1,r%1e4%100)}return new Date(t.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))},c.getWeek=function(t){var e;(e=(e=t instanceof Date?new Date(t.getTime()):c.toDate(t))||new Date).setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},c.getParam=function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""},c.size=function(t){if(!t)return 0;if(Array.isArray(t))return t.length;if("object"!=typeof t)return 0;var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},c.setValue=function(t,e,n){return"object"==typeof t&&(t[e]=n),t},c.getValue=function(t,e,n){if(!e)return n;if(Array.isArray(t)&&t.length)return"-1"==e?c.getLast(t,n):c.isNumeric(e)?c.getItem(t,c.toInt(e),n):c.getValue(t[0],e,n);if("object"!=typeof t)return n;var r=e.indexOf(".");if(null==t[e]&&0<r){var i=e.substring(0,r);return null==t[i]?n:c.getValue(t[i],e.substring(r+1),n)}return null==t[e]?n:t[e]},c.getItem=function(t,e,n){if(e<0)return n;if(Array.isArray(t)){if(t.length>e){var r=t[e];return null==r?n:r}return n}return n},c.getEntity=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!t)return null;if(Array.isArray(t))return(i=t[0])?((e={id:i}).text=c.toString(t[1]),null!=t[2]&&(e.code=t[2]),null!=t[3]&&(e.group=t[3]),null!=t[4]&&(e.type=t[4]),null!=t[5]&&(e.date=c.toDate(t[5])),null!=t[6]&&(e.reference=t[6]),null!=t[7]&&(e.value=c.toNumber(t[7])),e):null;if(!n||!n.length)return null;if(n[0]){var i;if(!(i=c.getValue(t,n[0])))return null;e={id:i}}return e?(n[1]&&(e.text=c.getString(t,n[1])),n[2]&&(e.code=c.getValue(t,n[2])),n[3]&&(e.group=c.getValue(t,n[3])),n[4]&&(e.type=c.getValue(t,n[4])),n[5]&&(e.date=c.getDate(t,n[5])),n[6]&&(e.reference=c.getValue(t,n[6])),n[7]&&(e.value=c.getNumber(t,n[7])),e):null},c.toEntity=function(t,e){if(!t||!e||!e.id)return null;var n={id:c.getValue(t,e.id)};return e.text&&(n.text=c.getString(t,e.text)),e.code&&(n.code=c.getValue(t,e.code)),e.group&&(n.group=c.getValue(t,e.group)),e.type&&(n.type=c.getValue(t,e.type)),e.reference&&(n.reference=c.getValue(t,e.reference)),e.enabled&&(n.enabled=c.getBoolean(t,e.enabled)),e.marked&&(n.marked=c.getBoolean(t,e.marked)),e.date&&(n.date=c.getDate(t,e.date)),e.notBefore&&(n.notBefore=c.getDate(t,e.notBefore)),e.expires&&(n.expires=c.getDate(t,e.expires)),e.icon&&(n.icon=c.getString(t,e.icon)),e.color&&(n.color=c.getString(t,e.color)),e.value&&(n.value=c.getNumber(t,e.value)),n},c.getFirst=function(t,e){if(Array.isArray(t)){if(0<t.length){var n=t[0];return null==n?e:n}return e}return e},c.getLast=function(t,e){if(Array.isArray(t)){if(0<t.length){var n=t[t.length-1];return null==n?e:n}return e}return e},c.toCode=function(t,e){return void 0===e&&(e=""),t instanceof a&&(t=t.getState()),null==t?e:"string"==typeof t?t:"object"==typeof t&&null!=t.code?t.code:Array.isArray(t)&&t.length?1<t.length?t[1]:t[0]:t},c.toDesc=function(t,e){return void 0===e&&(e=""),t instanceof a&&(t=t.getState()),null==t?e:"string"==typeof t?t:"object"==typeof t&&null!=t.text?c.toString(t.text,e):Array.isArray(t)&&t.length?c.toString(t[t.length-1],e):c.toString(t,e)},c.getNumber=function(t,e,n){return c.toNumber(c.getValue(t,e,n))},c.getInt=function(t,e,n){return c.toInt(c.getValue(t,e,n))},c.getString=function(t,e,n,r){var i=c.getValue(t,e);return null==i?n:r?"?"==r?"number"==typeof i?d.formatNum(i):c.toString(i):"c"==r?d.formatCurr(i):"c5"==r?d.formatCurr5(i):"n"==r?d.formatNum(i):"n2"==r?d.formatNum2(i):"m"==r?d.formatMonth(i):"d"==r?d.formatDate(i):"dt"==r?d.formatDateTime(i):"t"==r?d.formatTime(i):c.toString(i):c.toString(i)},c.getText=function(t,e,n){return c.toText(c.getValue(t,e,n))},c.getBoolean=function(t,e,n){return c.toBoolean(c.getValue(t,e,n))},c.getDate=function(t,e,n){return c.toDate(c.getValue(t,e,n))},c.getArray=function(t,e){return c.toArray(c.getValue(t,e))},c.getArrayNumber=function(t,e,n){return c.toArrayNumber(c.getValue(t,e),n)},c.getArrayString=function(t,e,n){return c.toArrayString(c.getValue(t,e),n)},c.getCode=function(t,e,n){return c.toCode(c.getValue(t,e,n))},c.getDesc=function(t,e,n){return c.toDesc(c.getValue(t,e,n))},c.getObject=function(t,e,n){var r=c.toObject(c.getValue(t,e));return!r&&n?{}:r},c.sort=function(t,e,i){if(void 0===e&&(e=!0),!t)return[];var n=c.toArray(t);if(!i){var r=n.sort();return e?r:r.reverse()}var o=n.sort(function(t,e){var n=c.getValue(t,i),r=c.getValue(e,i);return n<r?-1:r<n?1:0});return e?o:o.reverse()},c.find=function(t,e,n){if(!t||!e)return null;for(var r=0,i=c.toArray(t);r<i.length;r++){var o=i[r],s=c.getValue(o,e);if(s instanceof Date&&n instanceof Date&&s.getTime()==n.getTime())return o;if(s==n)return o}return null},c.indexOf=function(t,e,n){if(!t||!e)return-1;for(var r=c.toArray(t),i=0;i<r.length;i++){var o=c.getValue(r[i],e);if(o instanceof Date&&n instanceof Date&&o.getTime()==n.getTime())return i;if(o==n)return i}return-1},c.isSameDate=function(t,e){return this.toNumber(t)==this.toNumber(e)},c.indexOfDate=function(t,e){if(!t||!e)return-1;for(var n=c.toNumber(e),r=0;r<t.length;r++)if(t[r]&&c.toNumber(t[r])==n)return r;return-1},c.round2=function(t){if(null==t)return 0;var e=c.toNumber(t);return Math.round(100*e)/100},c.floor2=function(t){if(null==t)return 0;var e=c.toNumber(t);return Math.floor(100*e)/100},c.ceil2=function(t){if(null==t)return 0;var e=c.toNumber(t);return Math.ceil(100*e)/100},c.compare2=function(t,e){if(!t&&!e)return 0;var n=Math.round(100*c.toNumber(t)),r=Math.round(100*c.toNumber(e));return n==r?0:r<n?1:-1},c.compare5=function(t,e){if(!t&&!e)return 0;var n=Math.round(1e4*c.toNumber(t)),r=Math.round(1e4*c.toNumber(e));return n==r?0:r<n?1:-1},c.getCurrDate=function(t,e,n,r,i){var o=new Date;return o.setHours(0,0,0,0),t&&o.setDate(o.getDate()+t),e&&o.setMonth(o.getMonth()+e),n&&o.setFullYear(o.getFullYear()+n),r&&o.setDate(1),i&&(o.setMonth(o.getMonth()+1),o.setDate(0)),o},c.calcDate=function(t,e,n,r,i,o){return(t=t?new Date(t.getTime()):new Date).setHours(0,0,0,0),e&&t.setDate(t.getDate()+e),n&&t.setMonth(t.getMonth()+n),r&&t.setFullYear(t.getFullYear()+r),i&&t.setDate(1),o&&(t.setMonth(t.getMonth()+1),t.setDate(0)),t},c.timestamp=function(t){var e=t?c.toDate(t):new Date,n=""+(e=e||new Date).getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,o=e.getDate(),s=o<10?"0"+o:""+o,a=e.getHours(),l=a<10?"0"+a:""+a,h=e.getMinutes(),u=h<10?"0"+h:""+h,p=e.getSeconds();return n+i+s+l+u+(p<10?"0"+p:""+p)},c.nvl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(!i)return i}return t[0]}},c.eqValues=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t&&!e)return!0;if(!t||!e)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(t[s]!=e[s])return!1}return!0},c.cat=function(t,e,n,r,i){var o=c.toString(t),s=c.toString(e),a=c.toString(n),l=c.toString(r),h=c.toString(i),u="";return o&&(u+=o,a&&(u+=a)),s&&(l&&(u+=l),u+=s,h&&(u+=h)),u},c.col=function(t,e,n){var r=[];if(!t||!t.length)return r;for(var i=0,o=t;i<o.length;i++){var s=o[i];r.push(c.getItem(s,e,n))}return r},c.getSortedKeys=function(t){if(!t)return[];var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()},c.diffMinutes=function(t,e){var n=c.toDate(t),r=c.toDate(e);return n=n||new Date,r=r||new Date,(n.getTime()-r.getTime())/6e4},c.diffHours=function(t,e){var n=c.toDate(t),r=c.toDate(e);return n=n||new Date,r=r||new Date,(n.getTime()-r.getTime())/36e5},c.diffDays=function(t,e){var n=c.toDate(t),r=c.toDate(e);n=n||new Date,r=r||new Date;var i=n.getTime()-r.getTime(),o=i/864e5;return 12<i%864e5/6e4&&o++,o},c);function c(){}function i(t){if(t){if(t instanceof jQuery)return t.attr("id");if(t instanceof a)return t.id;if("string"==typeof t&&t.indexOf("<")<0)return 0==t.indexOf("#")?t.substring(1):t;var e=$(t),n=e.attr("id");if(!n){var r=e.prop("tagName");"i"!=r&&"I"!=r||(n=e.parent().attr("id"))}return n}}function g(t){if(!t)return["",$("<span></span>"),""];if("string"!=typeof t)return t instanceof jQuery?["",t,""]:["",$("<span>"+t+"</span>"),""];if("<"==t.charAt(0)&&">"==t.charAt(t.length-1))return["",$(t),""];var e=t.indexOf("<");if(e<0)return["",$("<span>"+t.replace(">","&gt;")+"</span>"),""];var n=t.lastIndexOf(">");return n<0?["",$("<span>"+t.replace("<","&lt;")+"</span>"),""]:[t.substring(0,e),$(t.substring(e,n+1)),t.substring(n+1)]}function p(t){if(!t)return["","",""];if(" "==t)return["","&nbsp;",""];var e=" "==t.charAt(0)?"&nbsp;":"",n=1<t.length&&" "==t.charAt(t.length-1)?"&nbsp;":"",r=t.trim().split("<>");return!r||r.length<2?[e,t.trim(),n]:(e+=r[0],2==r.length?[e,r[1],""]:(n+=r[2],[e,r[1],n]))}function b(t){if(t instanceof a){var e=t.name,n=t.id;return e=e||"WComponent",n?e+"("+n+")":e}if(t instanceof jQuery){if(t.length){var r=t.attr("id")?" id="+t.attr("id"):"";return t.selector?'$("'+t.selector+'")':"$(<"+t.prop("tagName")+r+">)"}return'$("'+t.selector+'").length=0'}return"object"==typeof t?JSON.stringify(t):t+""}function o(t){var e=l(t),n={};if(!e)return n;for(var r=0,i=e.split(";");r<i.length;r++){var o=i[r].split(":");o.length<2||(n[o[0].trim()]=o[1].trim())}return n}function l(t){var e="";return t?"string"==typeof t?t.indexOf(":")<=0?"":";"!=t.charAt(t.length-1)?t+";":t:(t.s&&(e+=s(t.s)),t.fs&&(e+="font-style:"+t.fs+";"),t.fw&&(e+="font-weight:"+t.fw+";"),t.tt&&(e+="text-transform:"+t.tt+";"),t.tr&&(e+="transform:"+t.tr+";"),t.fl&&(e+="float:"+t.fl+";"),t.cl&&(e+="clear:"+t.cl+";"),t.a&&(e+="text-align:"+t.a+";"),t.c&&(e+="color:"+t.c+";"),t.v&&(e+="vertical-align:"+t.v+";"),t.d&&(e+="display:"+t.d+";"),t.z&&(e+="z-index:"+t.z+";"),t.lh&&(e+="line-height:"+t.lh+";"),t.ps&&(e+="position:"+t.ps+";"),t.o&&(e+="overflow:"+t.o+";"),t.ox&&(e+="overflow-x:"+t.ox+";"),t.oy&&(e+="overflow-y:"+t.oy+";"),null!=t.op&&(e+="opacity:"+t.op+";"),null!=t.ol&&(e+="outline:"+t.ol+";"),t.cr&&(e+="cursor:"+t.cr+";"),t.cn&&(e+="content:"+t.cn+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-webkit"+t.k+";":"-webkit-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-moz"+t.k+";":"-moz-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-o"+t.k+";":"-o-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-ms"+t.k+";":"-ms-"+t.k+";"),t.bs&&(e+="box-shadow:"+t.bs+";"),t.bz&&(e+="box-sizing:"+t.bz+";"),t.b&&(e+=0<t.b.indexOf(":")?s("border"+t.b):t.b.match(/^(|none|inherit|initial|unset)$/)||0<t.b.indexOf(" ")?"border:"+t.b+";":"border:1px solid "+t.b+";"),t.bc&&(e+="border-collapse:"+t.bc+";"),null!=t.br&&(e+="number"==typeof t.br?"border-radius:"+t.br+"px;":"border-radius:"+t.br+";"),null!=t.bsp&&(e+="number"==typeof t.bsp?"border-spacing:"+t.bsp+"px;":"border-spacing:"+t.bsp+";"),null!=t.m&&(e+="number"==typeof t.m?"margin:"+t.m+"px;":0<t.m.indexOf(":")?s("margin"+t.m):"margin:"+t.m+";"),null!=t.mt&&(e+="number"==typeof t.mt?"margin-top:"+t.mt+"px;":"margin-top:"+t.mt+";"),null!=t.mr&&(e+="number"==typeof t.mr?"margin-right:"+t.mr+"px;":"margin-right:"+t.mr+";"),null!=t.mb&&(e+="number"==typeof t.mb?"margin-bottom:"+t.mb+"px;":"margin-bottom:"+t.mb+";"),null!=t.ml&&(e+="number"==typeof t.ml?"margin-left:"+t.ml+"px;":"margin-left:"+t.ml+";"),null!=t.p&&(e+="number"==typeof t.p?"padding:"+t.p+"px;":0<t.p.indexOf(":")?s("padding"+t.p):"padding:"+t.p+";"),null!=t.pt&&(e+="number"==typeof t.pt?"padding-top:"+t.pt+"px;":"padding-top:"+t.pt+";"),null!=t.pr&&(e+="number"==typeof t.pr?"padding-right:"+t.pr+"px;":"padding-right:"+t.pr+";"),null!=t.pb&&(e+="number"==typeof t.pb?"padding-bottom:"+t.pb+"px;":"padding-bottom:"+t.pb+";"),null!=t.pl&&(e+="number"==typeof t.pl?"padding-left:"+t.pl+"px;":"padding-left:"+t.pl+";"),null!=t.f&&(e+="number"==typeof t.f?"font-size:"+t.f+"px;":0<t.f.indexOf(":")?s("font"+t.f):"font-size:"+t.f+";"),t.bg&&(e+=0<t.bg.indexOf(":")?s("background"+t.bg):0<=t.bg.indexOf("url")?"background:"+t.bg+";":"background-color:"+t.bg+";"),t.bgi&&(e+="background-image:"+t.bgi+";"),t.bgp&&(e+="background-position:"+t.bgp+";"),t.bgr&&(e+="background-repeat:"+t.bgr+";"),t.text&&(e+=0<t.text.indexOf(":")?s("text"+t.text):"text-decoration:"+t.text+";"),null!=t.l&&(e+="number"==typeof t.l?"left:"+t.l+"px;":"left:"+t.l+";"),null!=t.r&&(e+="number"==typeof t.r?"right:"+t.r+"px;":"right:"+t.r+";"),null!=t.t&&(e+="number"==typeof t.t?"top:"+t.t+"px;":"top:"+t.t+";"),null!=t.bt&&(e+="number"==typeof t.bt?"bottom:"+t.bt+"px;":"bottom:"+t.bt+";"),t.w&&(e+="number"==typeof t.w?"width:"+t.w+"px;":"width:"+t.w+";"),t.h&&(e+="number"==typeof t.h?"height:"+t.h+"px;":"height:"+t.h+";"),t.minw&&(e+="number"==typeof t.minw?"min-width:"+t.minw+"px;":"min-width:"+t.minw+";"),t.maxw&&(e+="number"==typeof t.maxw?"max-width:"+t.maxw+"px;":"max-width:"+t.maxw+";"),t.minh&&(e+="number"==typeof t.minh?"min-height:"+t.minh+"px;":"min-height:"+t.minh+";"),t.maxh&&(e+="number"==typeof t.maxh?"max-height:"+t.maxh+"px;":"max-height:"+t.maxh+";"),e):e}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return"";for(var n="",r={},i=!0,o=0;o<t.length;o++){var s=t[o];s&&("string"==typeof s?(i||(n+=l(r),r={},i=!0),0<s.indexOf(":")&&(n+=s,";"!=s.charAt(s.length-1)&&(n+=";"))):($.extend(r,s),i=!1))}return i||(n+=l(r)),n}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";for(var n="",r=0;r<t.length;r++){var i=t[r];if(i){var o="string"==typeof i?i:i.n;o&&(0<o.indexOf(":")||(n+=o+" "))}}return n.trim()}function u(t){if(!t)return"";if("string"==typeof t)return t;if("object"!=typeof t)return"";var e="";for(var n in t)e+=n+'="'+t[n]+'" ';return e.trim()}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";var n=h.apply(void 0,t),r=s.apply(void 0,t),i="";return n&&(i+=' class="'+n+'"'),r&&(i+=' style="'+r+'"'),i}d.WUtil=e,d.getId=i,d.firstSub=function(t,e){var n=i(t);if(!n)return"";var r=n.indexOf("-");return r<0?n:e?n.substring(r+1):n.substring(0,r)},d.lastSub=function(t){var e=i(t);if(!e)return"";var n=e.lastIndexOf("-");return n<0?e:0<n&&"-"==e.charAt(n-1)?e.substring(n):e.substring(n+1)},d.getComponent=function(t){if(t){var e=$("#"+t);if(e.length)return e.wuxComponent(!1)}},d.getRootComponent=function t(e){return e&&e.parent?t(e.parent):e},d.setProps=function(t,e){if(t){var n=$("#"+t);if(n.length){var r=n.wuxComponent(!1);if(r)return r.setProps(e),r}}},d.getProps=function(t,e){if(!t)return e;var n=$("#"+t);if(!n.length)return e;var r=n.wuxComponent(!1);if(!r)return e;var i=r.getProps();return null==i?e:i},d.setState=function(t,e){if(t){var n=$("#"+t);if(n.length){var r=n.wuxComponent(!1);if(r)return r.setState(e),r}}},d.getState=function(t,e){if(!t)return e;var n=$("#"+t);if(!n.length)return e;var r=n.wuxComponent(!1);if(!r)return e;var i=r.getState();return null==i?e:i},d.newInstance=function(t){if(!t)return null;var e=t.lastIndexOf(".");if(0<e){var n=t.substring(0,e);if(window[n]){var r=t.substring(e+1);for(var i in window[n])if(i==r)return new window[n][i];return null}}var o=window[t];return o&&o.prototype?Object.create(o.prototype):null},d.same=function(t,e){if("string"==typeof t&&"string"==typeof e)return t==e;if("string"==typeof t||"string"==typeof e)return!1;var n=i(t),r=i(e);return n&&r&&n==r},d.parse=g,d.divide=p,d.str=b,d.getTagName=function(t){if(!t)return"";if(t instanceof a){if(r=t.rootTag)return r.toLowerCase();var e=t.getRoot();return e?"":d.getTagName(e)}if(t instanceof jQuery)return t.length&&(r=t.prop("tagName"))?(""+r).toLowerCase():"";var n=""+t;if("<"!=n.charAt(0))return"#"==n.charAt(0)?d.getTagName($(n)):d.getTagName($("#"+n));var r,i=n.indexOf(" ");return i<0&&(i=n.indexOf(">")),0<i?"/"==(r=n.substring(1,i).toLowerCase()).charAt(r.length-1)?r.substring(0,r.length-1):r:""},d.match=function(t,e){return e?null==t?"string"==typeof e?""==e:!e.id:"object"==typeof t?"string"==typeof e?e==t.id:e.id==t.id:"string"==typeof e?e==t:e.id==t:!t},d.hashCode=function(t){if(!t)return 0;var e=""+t,n=0,r=e.length,i=0;if(0<r)for(;i<r;)n=(n<<5)-n+e.charCodeAt(i++)|0;return n},d.styleObj=o,d.style=l,d.addStyle=function(t,e,n,r){return e&&n?t?r&&0<=t.indexOf(e+":")?s(t):s(t)+e+":"+n+";":e+":"+n+";":s(t)},d.css=s,d.cls=h,d.attributes=u,d.ul=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e||!e.length)return"";for(var r=t?"<ul"+y(t)+">":"<ul>",i=0;i<e.length;i++){var o=e[i];null!=o&&(r+="<li>"+o+"</li>")}return r+="</ul>"},d.ol=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!n||!n.length)return"";var i="";i=null!=e?t?"<ol"+y(t)+' start="'+e+'">':'<ol start="'+e+'">':t?"<ol"+y(t)+">":"<ol>";for(var o=0;o<n.length;o++){var s=n[o];null!=s&&(i+="<li>"+s+"</li>")}return i+="</ol>"},d.buildCss=y,d.removeClass=function(t,e){if(!t||!e)return t;for(var n="",r=0,i=t.split(" ");r<i.length;r++){var o=i[r];o!=e&&(n+=o+" ")}return n.trim()},d.toggleClass=function(t,e){if(!t||!e)return t;for(var n=!1,r="",i=0,o=t.split(" ");i<o.length;i++){var s=o[i];s!=e?r+=s+" ":n=!0}return n?r.trim():r.trim()+" "+e},d.setCss=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t||!e||!e.length)return t;if(t instanceof a)t.css.apply(t,e);else if(t instanceof jQuery){if(!t.length)return t;var r=s.apply(void 0,e),i=h.apply(void 0,e);i&&t.addClass(i),r&&t.css(o(r))}return t},d.buildIcon=function(t,e,n,r,i,o){if(!t)return"";e=e||"",n=n||"";var s=o?' title="'+o+'"':"";return i=i?" "+i:"",0<t.indexOf(".")?e+'<img src="'+t+'"'+s+">"+n:!r||r<2?e+'<i class="fa '+t+i+'"'+s+"></i>"+n:(5<r&&(r=5),e+'<i class="fa '+t+" fa-"+r+"x"+i+'"'+s+"></i>"+n)},d.build=function(t,e,n,r,i,o){var s,a;t=t||"div","string"==typeof n?0<n.indexOf(":")?a=n:s=n:n&&(n.n&&(s=n.n),a=d.style(n)),o&&(s?s+=" "+o:s=o);var l="<"+t;i&&(l+=' id="'+i+'"'),s&&(l+=' class="'+s+'"'),a&&(l+=' style="'+a+'"');var h=d.attributes(r);h&&(l+=" "+h),l+=">";var u=p(e);return l+=u[1],"input"==t||(l+="</"+t+">"),u[0]+l+u[2]},d.addWrapper=function(t,e,n,r){if(!t||!e)return t;var i=d.cls(e.classStyle,e.style),o=d.style(e.style),s=e.type?e.type:"div",a="<"+s;e.id&&(a+=' id="'+e.id+'"'),i&&(a+=' class="'+i+'"'),o&&(a+=' style="'+o+'"');var l=d.attributes(u);l&&(a+=" "+l),e.title&&(a+=' title="'+e.title+'"'),a+=">",a+="</"+s+">";var h=$(a);return e.element=h,n&&t.append(n),t.append(h),r&&t.append(r),e.wrapper?d.addWrapper(h,e.wrapper,e.begin,e.end):(e.begin&&h.append(e.begin),e.end&&h.append(e.end),h)},d.val=function(t,e){if(t){if("string"==typeof t){if(0<=t.indexOf("<"))return;t.indexOf("#")<0&&(t="#"+t);var n=d.getComponent(t);if(n){if(void 0===e)return n.getState();n.setState(e)}else{if(void 0===e)return $(t).val();$(t).val(e)}}else if(t instanceof a){if(void 0===e)return t.getState();t.setState(e)}else if(t instanceof jQuery){if(void 0===e)return t.val();t.val(e)}else{if(void 0===e)return $(t).val();$(t).val(e)}return e}},d.getContainer=function(t,e){if(void 0===e&&(e="div"),t){if("string"==typeof t){if(0<=t.indexOf("<"))return;return t.indexOf("#")<0&&(t="#"+t),d.getContainer($(t))}if(t instanceof a){var n=t.getContext();if(n)if((r=n.closest(e))&&r.length)return r;return n}var r;return(r=t.parent().closest(e))&&r.length?r:t.parent()}},d.openURL=function(t,e,n,r){if(void 0===e&&(e=!0),void 0===n&&(n=!1),t){if(r&&"object"==typeof r){var i="";for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(s)}i&&(0<t.indexOf("?")?t+=i:t+="?"+i.substring(1))}n?window.open(t,"_blank"):e?window.location.assign(t):window.location.replace(t)}}}(WUX=WUX||{}),function(p){var o={},s={};p.global={locale:"it",main_class:"container-fluid",con_class:"container",box_class:"ibox",box_header:"ibox-title",box_title:"<h5>$</h5>",box_tools:"ibox-tools",box_content:"ibox-content",box_footer:"ibox-footer",chart_bg0:"rgba(26,179,148,0.5)",chart_bg1:"rgba(220,220,220,0.5)",chart_bg2:"rgba(160,220,255,0.5)",chart_bc0:"rgba(26,179,148,0.7)",chart_bc1:"rgba(220,220,220,0.7)",chart_bc2:"rgba(160,220,255,0.7)",chart_p0:"rgba(26,179,148,1)",chart_p1:"rgba(220,220,220,1)",chart_p2:"rgba(160,220,255,1)",area:{b:"-radius:8px",m:"0px 0px 0px 0px",p:"16px 7px 5px 7px",bg:"white"},area_title:{b:"none",f:14,fw:"bold",w:"unset",ps:"relative",t:12,l:0,m:0},section:{b:"#e7eaec",m:"2px 0px 4px 0px",p:"8px 8px 8px 8px",bg:"#fafafa"},section_title:{b:"none",f:16,fw:"600",w:"unset",m:"-bottom:2px",tt:"uppercase"},window_top:{ps:"fixed",t:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},window_bottom:{ps:"fixed",bt:0,bg:"#ffffff",ml:-10,p:"0 10px",z:1001},init:function(t){p.debug&&console.log("[WUX] global.init..."),p.debug&&console.log("[WUX] global.init completed"),t&&t()},setData:function(t,e,n){if(void 0===n&&(n=!1),o[t=t||"global"]=e,!n&&s[t])for(var r=0,i=s[t];r<i.length;r++){(0,i[r])(e)}},getData:function(t,e){var n=o[t=t||"global"];return null==n?e:n},onDataChanged:function(t,e){s[t=t||"global"]||(s[t]=[]),s[t].push(e)}},p.showMessage=function(t,e,n,r){_showMessage(t,e,n,r)},p.showInfo=function(t,e,n,r){_showInfo(t,e,n,r)},p.showSuccess=function(t,e,n){_showSuccess(t,e,n)},p.showWarning=function(t,e,n){_showWarning(t,e,n)},p.showError=function(t,e,n){_showError(t,e,n)},p.confirm=function(t,e){_confirm(t,e)},p.getInput=function(t,e,n){_getInput(t,e,n)},p.getPageTitle=function(){return $("#ptitle")},p.getBreadcrump=function(){return $("#pbreadcrumb")},p.getPageHeader=function(){return $("#pheader")},p.getPageFooter=function(){return $("#pfooter")},p.getPageMenu=function(){return $("#side-menu")},p.getViewRoot=function(){return $("#view-root")},p.sticky=function(t){},p.stickyRefresh=function(){},p.formatDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),!t)return"";var r=p.WUtil.toDate(t);if(!r)return"";var i=r.getMonth()+1,o=i<10?"0"+i:""+i,s=r.getDate()<10?"0"+r.getDate():""+r.getDate();return e?p.formatDay(r.getDay(),n)+", "+s+"/"+o+"/"+r.getFullYear():s+"/"+o+"/"+r.getFullYear()},p.formatDateTime=function(t,e,n,r){if(void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),!t)return"";var i=p.WUtil.toDate(t);if(!i)return"";var o=i.getMonth()+1,s=o<10?"0"+o:""+o,a=i.getDate()<10?"0"+i.getDate():""+i.getDate(),l=i.getHours()<10?"0"+i.getHours():""+i.getHours(),h=i.getMinutes()<10?"0"+i.getMinutes():""+i.getMinutes();if(e){var u=i.getSeconds()<10?"0"+i.getSeconds():""+i.getSeconds();return n?p.formatDay(i.getDay(),r)+", "+a+"/"+s+"/"+i.getFullYear()+" "+l+":"+h+":"+u:a+"/"+s+"/"+i.getFullYear()+" "+l+":"+h+":"+u}return n?p.formatDay(i.getDay(),r)+", "+a+"/"+s+"/"+i.getFullYear()+" "+l+":"+h:a+"/"+s+"/"+i.getFullYear()+" "+l+":"+h},p.formatTime=function(t,e){if(void 0===e&&(e=!1),null==t)return"";if("number"==typeof t){if(e){var n=t%1e4%100;return Math.floor(t/1e4)+":"+((r=Math.floor(t%1e4/100))<10?"0"+r:""+r)+":"+(n<10?"0"+n:""+n)}var r;return Math.floor(t/100)+":"+((r=t%100)<10?"0"+r:""+r)}if("string"==typeof t)return 0<t.indexOf(":")?t:t.length<3?t+":00":5<=t.length?t.substring(0,2)+":"+t.substring(2,4)+":"+t.substring(4):t.substring(0,2)+":"+t.substring(2);if(t instanceof Date){var i=t.getHours()<10?"0"+t.getHours():""+t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes();return e?i+":"+o+":"+(t.getSeconds()<10?"0"+t.getSeconds():""+t.getSeconds()):i+":"+o}return""},p.formatNum2=function(t,e,n,r){if(""===t||null==t)return"";var i=p.WUtil.toNumber(t),o=(""+Math.round(100*i)/100).replace(".",",");return null!=e&&0!=i?null!=r&&i<0?r.replace("$",o):e.replace("$",o):null!=n&&0==i?n.replace("$",o):o},p.formatNum=function(t,e,n,r){if(""===t||null==t)return"";var i=p.WUtil.toNumber(t),o=(""+i).replace(".",",");return null!=e&&0!=i?null!=r&&i<0?"l"==r?i.toLocaleString("it-IT"):r.replace("$",o):"l"==e?i.toLocaleString("it-IT"):e.replace("$",o):null!=n&&0==i?n.replace("$",o):o},p.formatCurr=function(t,e,n,r){if(""===t||null==t)return"";var i=p.WUtil.toNumber(t),o=(Math.round(100*i)/100).toLocaleString("it-IT"),s=o.indexOf(",");return s<0&&(o+=",00"),s==o.length-2&&(o+="0"),null!=e&&0!=i?null!=r&&i<0?r.replace("$",o):e.replace("$",o):null!=n&&0==i?n.replace("$",o):o},p.formatCurr5=function(t,e,n,r){if(""===t||null==t)return"";var i=p.WUtil.toNumber(t),o=(""+Math.round(1e5*i)/1e5).replace(".",","),s=o.indexOf(",");if(s<0&&(o+=",00"),s==o.length-2&&(o+="0"),0<s){for(var a=o.substring(0,s),l=o.substring(s),h="",u=1;u<=a.length;u++)3<u&&(u-1)%3==0&&(h="."+h),h=a.charAt(a.length-u)+h;o=h+l}return null!=e&&0!=i?null!=r&&i<0?r.replace("$",o):e.replace("$",o):null!=n&&0==i?n.replace("$",o):o},p.formatBoolean=function(t){return null==t?"":t?"S":"N"},p.format=function(t){if(null==t)return"";if("string"==typeof t)return t;if("boolean"==typeof t)return p.formatBoolean(t);if("number"==typeof t)return 0<=(""+t).indexOf(".")?p.formatCurr(t):p.formatNum(t);if(t instanceof Date)return p.formatDate(t);if(t instanceof p.WComponent){if(t instanceof p.WCheck)return t.checked?t.text:"";if("select"!=t.rootTag)return p.format(t.getState());var e=t.getProps();if(Array.isArray(e)&&1<e.length){for(var n="",r=0,i=e;r<i.length;r++){var o;if(o=""+i[r])if(9<o.length){var s=o.indexOf(" -");0<s&&(o=o.substring(0,s).trim()),n+=","+o}else n+=","+o}return n.length&&(n=n.substring(1)),n}return o=(o=""+t.getProps())||t.getState(),p.format(o)}return""+t},p.formatDay=function(t,e){switch(t){case 0:return e?"Domenica":"Dom";case 1:return e?"Luned&igrave;":"Lun";case 2:return e?"Marted&igrave;":"Mar";case 3:return e?"Mercoled&igrave;":"Mer";case 4:return e?"Giove&igrave;":"Gio";case 5:return e?"Venerd&igrave;":"Ven";case 6:return e?"Sabato":"Sab"}return""},p.formatMonth=function(t,e,n){switch(100<t&&(n=Math.floor(t/100),t%=100),n=n?" "+n:"",t){case 1:return e?"Gennaio"+n:"Gen"+n;case 2:return e?"Febbraio"+n:"Feb"+n;case 3:return e?"Marzo"+n:"Mar"+n;case 4:return e?"Aprile"+n:"Apr"+n;case 5:return e?"Maggio"+n:"Mag"+n;case 6:return e?"Giugno"+n:"Giu"+n;case 7:return e?"Luglio"+n:"Lug"+n;case 8:return e?"Agosto"+n:"Ago"+n;case 9:return e?"Settembre"+n:"Set"+n;case 10:return e?"Ottobre"+n:"Ott"+n;case 11:return e?"Novembre"+n:"Nov"+n;case 12:return e?"Dicembre"+n:"Dic"+n}return""},p.decodeMonth=function(t){if(!t)return 0;if("number"==typeof t)return 0<t&&t<13?t:0;var e=(""+t).toLowerCase();if(3<e.length&&(e=e.substring(0,3)),"gen"==e)return 1;if("feb"==e)return 2;if("mar"==e)return 3;if("apr"==e)return 4;if("mag"==e)return 5;if("giu"==e)return 6;if("lug"==e)return 7;if("ago"==e)return 8;if("set"==e)return 9;if("ott"==e)return 10;if("nov"==e)return 11;if("dic"==e)return 12;var n=p.WUtil.toInt(e);return 0<n&&n<13?n:0},p.norm=function(t){return t?t=(t=(t=(t=(t=""+t).replace("À","A'").replace("È","E'").replace("Ì","I'").replace("Ò","O'").replace("Ù","U'")).replace("à","a'").replace("è","e'").replace("ì","i'").replace("ò","o'").replace("ù","u'")).replace("á","a`").replace("é","e`").replace("í","i`").replace("ó","o`").replace("ú","u`")).replace("€","E").replace("ª","a").replace("°","o"):""},p.den=function(t){return t?t=(t=(t=(t=(t=""+t).replace("A'","À").replace("E'","È").replace("I'","Ì").replace("O'","Ò").replace("U'","Ù")).replace("a'","à").replace("e'","è").replace("i'","ì").replace("o'","ò").replace("u'","ù")).replace("a`","á").replace("e`","é").replace("i`","í").replace("o`","ó").replace("u`","ú")).replace(" pò"," po'"):""},p.text=function(t){return t?t=(t=(t=(t=(t=""+t).replace("&Agrave;","A'").replace("&Egrave;","E'").replace("&Igrave;","I'").replace("&Ograve;","O'").replace("&Ugrave;","U'")).replace("&agrave;","a'").replace("&egrave;","e'").replace("&igrave;","i'").replace("&ograve;","o'").replace("&ugrave;","u'")).replace("&aacute;","a`").replace("&eacute;","e`").replace("&iacute;","i`").replace("&oacute;","o`").replace("&uacute;","u`")).replace("&euro;","E").replace("&nbsp;"," ").replace("&amp;","&").replace("&gt;",">").replace("&lt;","<").replace("&quot;",'"'):""};var t,l="@D:=E?('B;F)<=A>C@?):D';@=B<?C;)E:'@=?A(B<=;(?@>E:";p.encrypt=function(t){if(!t)return"";for(var e=""+t,n="",r=0,i=0;i<e.length;i++){r=l.length-1<=r?0:r+1;var o=e.charCodeAt(i),s=l.charCodeAt(r),a=o;32<=o&&o<=126&&(a-=s)<32&&(a=127+a-32),n+=String.fromCharCode(a)}return n},p.decrypt=function(t){if(!t)return"";for(var e=""+t,n="",r=0,i=0;i<e.length;i++){r=l.length-1<=r?0:r+1;var o=e.charCodeAt(i),s=l.charCodeAt(r),a=o;32<=o&&o<=126&&126<(a+=s)&&(a=31+a-126),n+=String.fromCharCode(a)}return n},(t=p.BTN||(p.BTN={})).PRIMARY="btn btn-primary",t.SECONDARY="btn btn-secondary",t.SUCCESS="btn btn-success",t.DANGER="btn btn-danger",t.WARNING="btn btn-warning",t.INFO="btn btn-info",t.LIGHT="btn btn-light",t.DARK="btn btn-dark",t.LINK="btn btn-link",t.WHITE="btn btn-white",t.SM_PRIMARY="btn btn-sm btn-primary btn-block",t.SM_DEFAULT="btn btn-sm btn-default btn-block",t.SM_SECONDARY="btn btn-sm btn-secondary btn-block",t.SM_INFO="btn btn-sm btn-info btn-block",t.SM_DANGER="btn btn-sm btn-danger btn-block",t.SM_WHITE="btn btn-sm btn-white btn-block",t.ACT_PRIMARY="btn btn-sm btn-primary",t.ACT_DEFAULT="btn btn-sm btn-default",t.ACT_SECONDARY="btn btn-sm btn-secondary",t.ACT_INFO="btn btn-sm btn-info",t.ACT_DANGER="btn btn-sm btn-danger",t.ACT_WHITE="btn btn-sm btn-white",t.ACT_OUTLINE_PRIMARY="btn btn-sm btn-primary btn-outline",t.ACT_OUTLINE_DEFAULT="btn btn-sm btn-default btn-outline",t.ACT_OUTLINE_INFO="btn btn-sm btn-info btn-outline",t.ACT_OUTLINE_DANGER="btn btn-sm btn-danger btn-outline";var e,n=(r.NORMAL={bg:"#ffffff"},r.ERROR={bg:"#fce6e8"},r.WARNING={bg:"#fef3e6"},r.SUCCESS={bg:"#d1f0ea"},r.INFO={bg:"#ddedf6"},r.COMPLETED={bg:"#eeeeee"},r.MARKED={bg:"#fff0be"},r.BTN_MED={w:110,f:12,a:"left"},r.BTN_SMALL={w:90,f:12,a:"left"},r.STACK_BTNS={pt:2,pb:2,a:"center"},r.LINE_BTNS={pl:2,pr:2,a:"center"},r.FORM_CTRL="form-control",r.FORM_CTRL_SM="form-control input-sm",r.FIELD_REQUIRED={c:"#676a96"},r.FIELD_CRITICAL={c:"#aa6a6c"},r.FIELD_INTERNAL={c:"#aa6a6c"},r.LABEL_NOTICE={c:"#aa6a6c",fw:"bold"},r.LABEL_INFO={c:"#676a96",fw:"bold"},r);function r(){}p.CSS=n,(e=p.WIcon||(p.WIcon={})).LARGE="fa-lg ",e.ADDRESS_CARD="fa-address-card",e.ANGLE_DOUBLE_LEFT="fa-angle-double-left",e.ANGLE_DOUBLE_RIGHT="fa-angle-double-right",e.ANGLE_LEFT="fa-angle-left",e.ANGLE_RIGHT="fa-angle-right",e.ARROW_CIRCLE_DOWN="fa-arrow-circle-down",e.ARROW_CIRCLE_LEFT="fa-arrow-circle-left",e.ARROW_CIRCLE_O_DOWN="fa-arrow-circle-o-down",e.ARROW_CIRCLE_O_LEFT="fa-arrow-circle-o-left",e.ARROW_CIRCLE_O_RIGHT="fa-arrow-circle-o-right",e.ARROW_CIRCLE_O_UP="fa-arrow-circle-o-up",e.ARROW_CIRCLE_RIGHT="fa-arrow-circle-right",e.ARROW_CIRCLE_UP="fa-arrow-circle-up",e.ARROW_DOWN="fa-arrow-down",e.ARROW_LEFT="fa-arrow-left",e.ARROW_RIGHT="fa-arrow-right",e.ARROW_UP="fa-arrow-up",e.BOLT="fa-bolt",e.BACKWARD="fa-backward",e.BOOKMARK="fa-bookmark",e.BOOKMARK_O="fa-bookmark-o",e.CALENDAR="fa-calendar",e.CALCULATOR="fa-calculator",e.CHAIN="fa-chain",e.CHAIN_BROKEN="fa-chain-broken",e.CHECK="fa-check",e.CHECK_CIRCLE="fa-check-circle",e.CHECK_CIRCLE_O="fa-check-circle-o",e.CHECK_SQUARE="fa-check-square",e.CHECK_SQUARE_O="fa-check-square-o",e.CHEVRON_DOWN="fa-chevron-down",e.CHEVRON_UP="fa-chevron-up",e.CLOCK_O="fa-clock-o",e.CLOSE="fa-close",e.COG="fa-cog",e.COMMENT="fa-comment",e.COMMENTS_O="fa-comments-o",e.COPY="fa-copy",e.CUT="fa-cut",e.DATABASE="fa-database",e.EDIT="fa-edit",e.ENVELOPE_O="fa-envelope-o",e.EXCHANGE="fa-exchange",e.FILE="fa-file",e.FILE_O="fa-file-o",e.FILE_CODE_O="fa-file-code-o",e.FILE_PDF_O="fa-file-pdf-o",e.FILE_TEXT_O="fa-file-text-o",e.FILES="fa-files-o",e.FILTER="fa-filter",e.FOLDER="fa-folder",e.FOLDER_O="fa-folder-o",e.FOLDER_OPEN="fa-folder-open",e.FOLDER_OPEN_O="fa-folder-open-o",e.FORWARD="fa-forward",e.GRADUATION_CAP="fa-graduation-cap",e.INFO_CIRCLE="fa-info-circle",e.LIFE_RING="fa-life-ring",e.LINK="fa-link",e.LEGAL="fa-legal",e.LIST="fa-list",e.MINUS="fa-minus",e.MINUS_SQUARE_O="fa-minus-square-o",e.PASTE="fa-paste",e.PENCIL="fa-pencil",e.PIE_CHART="fa-pie-chart",e.PLUS="fa-plus",e.PLUS_SQUARE_O="fa-plus-square-o",e.PRINT="fa-print",e.QUESTION_CIRCLE="fa-question-circle",e.RANDOM="fa-random",e.RECYCLE="fa-recycle",e.REFRESH="fa-refresh",e.SEARCH="fa-search",e.SEARCH_MINUS="fa-search-minus",e.SEARCH_PLUS="fa-search-plus",e.SEND="fa-send",e.SHARE_SQUARE_O="fa-share-square-o",e.SHOPPING_CART="fa-shopping-cart",e.SIGN_IN="fa-sign-in",e.SIGN_OUT="fa-sign-out",e.SQUARE="fa-square",e.SQUARE_O="fa-square-o",e.TH_LIST="fa-th-list",e.THUMBS_O_DOWN="fa-thumbs-o-down",e.THUMBS_O_UP="fa-thumbs-o-up",e.TIMES="fa-times",e.TIMES_CIRCLE="fa-times-circle",e.TOGGLE_OFF="fa-toggle-off",e.TOGGLE_ON="fa-toggle-on",e.TRASH="fa-trash",e.TRUCK="fa-truck",e.UNDO="fa-undo",e.UPLOAD="fa-upload",e.USER="fa-user",e.USER_O="fa-user-o",e.USERS="fa-users",e.WARNING="fa-warning",e.WIFI="fa-wifi",e.WRENCH="fa-wrench";var i=(a.OK="OK",a.CLOSE="Chiudi",a.CANCEL="Annulla",a.ERR_DATE="Data non ammessa.",a);function a(){}p.RES=i}(WUX=WUX||{}),function(Y){var l,s=(l=Y.WComponent,__extends(h,l),h.create=function(t){if(!t)return new h;var e=t.type?"<"+t.type+">":"",n=new h(t.id,t.classStyle,t.style,t.attributes,!1,e);return n.wrapper=t.wrapper,n},h.prototype.updateState=function(t){l.prototype.updateState.call(this,t),this.stateComp&&this.stateComp.setState(this.state)},h.prototype.getState=function(){return this.stateComp&&(this.state=this.stateComp.getState()),this.state},h.prototype.on=function(t,e){return l.prototype.on.call(this,t,e),"statechange"==t&&this.stateComp&&this.stateComp.on("statechange",e),this},h.prototype.off=function(t){return l.prototype.off.call(this,t),"statechange"==t&&this.stateComp&&this.stateComp.off("statechange"),this},h.prototype.trigger=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return l.prototype.trigger.apply(this,__spreadArrays([t],n)),"statechange"==t&&this.stateComp&&(e=this.stateComp).trigger.apply(e,__spreadArrays(["statechange"],n)),this},h.prototype.setLayout=function(t){this.layoutManager=t},h.prototype.section=function(t,e,n){return this.legend=t,this.fieldsetStyle=e?Y.css(Y.global.section,e):Y.global.section,this.legendStyle=n?Y.css(Y.global.section_title,n):Y.global.section_title,this},h.prototype.area=function(t,e,n){return this.legend=t,this.fieldsetStyle=e?Y.css(Y.global.area,e):Y.global.area,this.legendStyle=n?Y.css(Y.global.area_title,n):Y.global.area_title,this},h.prototype.end=function(){return this.parent instanceof h?this.parent.end():this},h.prototype.grid=function(){return"row"==this.props&&this.parent instanceof h?this.parent:this.parent instanceof h?this.parent.grid():this},h.prototype.row=function(){if("row"==this.props)return this;if(this.parent)return this.parent instanceof h?this.parent.row():this;if(!this.components||!this.components.length)return this;for(var t=this.components.length-1;0<=t;t--){var e=this.components[t];if(e instanceof h&&"row"==e.getProps())return e}return this},h.prototype.col=function(){return"col"==this.props?this:this.parent instanceof h?this.parent.col():this},h.prototype.addDiv=function(t,e,n,r){if("number"!=typeof t)return i=Y.build("div",e,t,n,r),this.add($(i));if(t<1)return this;var i=Y.build("div",e,{h:t,n:n});return this.add($(i))},h.prototype.addSpan=function(t,e,n,r){if("number"!=typeof t)return i=Y.build("span",e,t,n,r),this.add($(i));var i=Y.build("span",e,{w:t,d:"inline-block",a:"center",n:n});return this.add($(i))},h.prototype.addGroup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){var r=this.addContainer(t);if(!e||!e.length)return this;for(var i=0,o=e;i<o.length;i++){var s=o[i];r.add(s)}return this}if(!e||!e.length)return this;for(var a=0,l=e;a<l.length;a++)s=l[a],this.add(s);return this},h.prototype.add=function(t,e){return t&&(t instanceof Y.WComponent&&(t.parent||(t.parent=this)),"string"==typeof t&&0<t.length&&"<"==t.charAt(0)&&">"==t.charAt(t.length-1)&&(n=$(t)),n=n||t,this.components.push(n),this.layoutManager&&this.layoutManager.addLayoutComponent(n,e)),this;var n},h.prototype.remove=function(t){if(t<0&&(t=this.components.length+t),!(t<0||t>=this.components.length)){var e=this.components.splice(t,1);return this.layoutManager&&e.length&&this.layoutManager.removeLayoutComponent(e[0]),this}},h.prototype.removeAll=function(){if(this.layoutManager)for(var t=0,e=this.components;t<e.length;t++){var n=e[t];this.layoutManager.removeLayoutComponent(n)}if(this.mounted){this.parent=null;for(var r=0,i=this.components;r<i.length;r++){var o=i[r];o instanceof Y.WComponent&&o.unmount()}}return this.components=[],this},h.prototype.addRow=function(t,e,n,r){var i=new h(n,null==t?"row":t,e,r,!1,"row");return i.name=i.name+"_row",this.grid().addContainer(i)},h.prototype.addCol=function(t,e,n,r){Y.WUtil.isNumeric(t)&&(t="col-md-"+t);var i=new h(n,null==t?"col":t,e,r,!1,"col");return i.name=i.name+"_col",this.row().addContainer(i)},h.prototype.addASide=function(t,e,n,r){var i=new h(n,t,e,r,!1,"aside");return i.name=i.name+"_aside",this.end().addContainer(i)},h.prototype.addBox=function(t,e,n,r,i){var o=new u(r,t,e,n,i);return this.addContainer(o),o},h.prototype.addText=function(t,e,n,r,i,o){if(!t||!t.length)return this;var s="";if(e){var a=e.indexOf(" ");s=0<a?e.substring(0,a):e}for(var l="",h=0,u=t;h<u.length;h++){var p=u[h];if(p&&3<p.length){var c=p.substring(0,3);if("<ul"==c||"<ol"==c||"<li"==c||"<di"==c){l+=p;continue}}l+=e&&"br"!=e?"<"+e+">"+p+"</"+s+">":p+"<br>"}return n||r||i||o?this.add(Y.build("div",l,r,o,i,n)):this.add(l),this},h.prototype.findBox=function(t){var e="";t&&1<t.length&&"#"==t.charAt(0)&&(e=t.substring(1));for(var n=0,r=this.components;n<r.length;n++){var i=r[n];if(i instanceof u)if(e){if(i.id==e)return i}else{if(!t)return i;if(i.title==t||i.id==t)return i}else if(i instanceof h){var o=i.findBox(t);if(!o)return o}}return null},h.prototype.addStack=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e||0==e.length)return this;for(var r=Y.style(t),i=Y.cls(t),o=0;o<e.length;o++){var s=new h(this.subId(),i,r).add(e[o]);s.name=s.name+"_stack_"+o,this.addContainer(s)}return this},h.prototype.addLine=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e||0==e.length)return this;for(var r=Y.style(t),i=Y.cls(t),o=0;o<e.length;o++){var s=e[o],a=this.subId(),l=void 0;(l=i||r?i?new h(a,i,null,null,!0).add(s):new h(a,"",r,null,!0).add(s):new h(a,"",null,null,!0).add(s)).name=l.name+"_line_"+o,this.addContainer(l)}return this},h.prototype.addContainer=function(t,e,n,r,i,o){if(t instanceof h)return null==this._classStyle&&t._classStyle&&0==t._classStyle.indexOf("row")&&(this.parent instanceof h?this._classStyle=Y.global.con_class:this._classStyle=Y.global.main_class),t.parent=this,t.layoutManager||(t.layoutManager=this.layoutManager),this.components.push(t),this.layoutManager&&this.layoutManager.addLayoutComponent(t,e),t;if("string"==typeof t){var s=new h(t,e,n,r,i,o);return s.layoutManager||(s.layoutManager=this.layoutManager),this.components.push(s),this.layoutManager&&this.layoutManager.addLayoutComponent(s),s}if(!t)return this;var a=h.create(t);return a.parent=this,a.layoutManager=this.layoutManager,this.components.push(a),this.layoutManager&&this.layoutManager.addLayoutComponent(a,e),a},h.prototype.render=function(){return this.parent||this._classStyle||this._style?this.build(this.rootTag):this.buildRoot(this.rootTag)},h.prototype.make=function(){if(null==this.legend)return"";var t=this.fieldsetStyle?' style="'+Y.style(this.fieldsetStyle)+'"':"",e=this.legendStyle?' style="'+Y.style(this.legendStyle)+'"':"";return'<fieldset id="'+this.subId("fs")+'"'+t+"><legend"+e+">"+this.legend+"</legend></fieldset>"},h.prototype.componentDidMount=function(){var t=this.root;if(null!=this.legend){var e=$("#"+this.subId("fs"));e&&e.length&&(t=e)}if(this.wrapper&&(t=Y.addWrapper(t,this.wrapper)),this.layoutManager)this.layoutManager.layoutContainer(this,t);else for(var n=0,r=this.components;n<r.length;n++){var i=r[n];i instanceof Y.WComponent?i.mount(t):t.append(i)}},h.prototype.componentWillUnmount=function(){for(var t=0,e=this.components;t<e.length;t++){var n=e[t];n instanceof Y.WComponent&&n.unmount()}},h.prototype.rebuild=function(){var t=this.root;if(null!=this.legend){var e=$("#"+this.subId("fs"));e&&e.length&&(t=e)}if(t.empty(),this.wrapper&&(t=Y.addWrapper(t,this.wrapper)),!this.layoutManager){for(var n=0,r=this.components;n<r.length;n++){var i=r[n];i instanceof Y.WComponent?i.mount(t):t.append(i)}return this}this.layoutManager.layoutContainer(this,t)},h);function h(t,e,n,r,i,o,s){var a=l.call(this,t,"WContainer",o,e,Y.style(n),r)||this;return a.inline=!1,a.components=[],a.inline=i,s&&(a._classStyle=a._classStyle?a._classStyle+" "+s:s),a.rootTag=i?"span":"div","aside"==o&&(a.rootTag="aside"),a}Y.WContainer=s;var t=(e.prototype.addLayoutComponent=function(t,e){if(t&&e){var n=Y.getId(t);n&&(this.mapConstraints[n]=e,this.mapComponents[e]=t)}},e.prototype.removeLayoutComponent=function(t){var e=Y.getId(t);if(e){var n=this.mapConstraints[e];delete this.mapConstraints[e],n&&delete this.mapComponents[n]}},e.prototype.layoutContainer=function(t,e){for(var n=Y.getId(this.currComp),r=0,i=t.components;r<i.length;r++){var o=i[r],s=Y.getId(o),a=!1;s&&s!=n&&this.mapConstraints[s]&&(a=!0),o instanceof Y.WComponent?(a&&(o.visible=!1),o.mount(e)):o instanceof jQuery&&a&&o.hide()}},e.prototype.show=function(t,e){var n=this.mapComponents[e];n&&(this.currComp instanceof Y.WComponent?this.currComp.visible=!1:this.currComp instanceof jQuery&&this.currComp.show(),n instanceof Y.WComponent?(n.visible=!0,this.currComp=n):this.currComp instanceof jQuery?(n.show(),this.currComp=n):this.currComp=void 0)},e);function e(){this.mapConstraints={},this.mapComponents={}}Y.WCardLayout=t;var a,u=(__extends(n,a=s),Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.header.remove(0),(this._title=t)&&("<"!=t.charAt(0)&&Y.global.box_title?this.header.add(Y.global.box_title.replace("$",t)):this.header.add(t))},enumerable:!0,configurable:!0}),n.prototype.addTool=function(t,e,n,r){var i=this;if(!t)return this;if("string"==typeof t){e=e||Y.WIcon.WRENCH,this.cntls||(this.cntls=new s("",Y.global.box_tools),this.header.add(this.cntls),this.tools={});var o=$('<a class="'+t+'">'+Y.buildIcon(e)+"</a>");this.cntls.add(o),this.tools[t]=o,r?t==this.TOOL_COLLAPSE?this.handlers["_"+this.TOOL_COLLAPSE]=[function(t){i.collapse(r)}]:this.handlers["_"+t]=[r]:(t==this.TOOL_COLLAPSE&&(this.handlers["_"+this.TOOL_COLLAPSE]=[function(t){i.collapse()}]),t==this.TOOL_CLOSE&&(this.handlers["_"+this.TOOL_CLOSE]=[function(t){i.close()}]))}else this.header.add(t);return this},n.prototype.addCollapse=function(t){return this.addTool(this.TOOL_COLLAPSE,Y.WIcon.CHEVRON_UP,"",t),this},n.prototype.addClose=function(t){return this.addTool(this.TOOL_CLOSE,Y.WIcon.TIMES,"",t),this},n.prototype.addFilter=function(t){return this.addTool(this.TOOL_FILTER,Y.WIcon.FILTER,"",t),this},Object.defineProperty(n.prototype,"header",{get:function(){return this._header?this._header:this._header=new s("",Y.cls(Y.global.box_header,this._addClassStyle))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"footer",{get:function(){return this._footer?this._footer:this._footer=new s("",Y.cls(Y.global.box_footer,this._addClassStyle))},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){this._header&&this._header.mount(this.root);var t=$(this.build("div","","",Y.cls(Y.global.box_content,this._addClassStyle),void 0,null));this.root.append(t);for(var e=0,n=this.components;e<n.length;e++){var r=n[e];r instanceof Y.WComponent?r.mount(t):t.append(r)}if(this._footer&&this._footer.mount(this.root),this.tools)for(var i in this.tools){var o=this.handlers["_"+i];if(o&&o.length)for(var s=0,a=o;s<a.length;s++){var l=a[s];this.tools[i].click(l)}}},n.prototype.componentWillUnmount=function(){a.prototype.componentWillUnmount.call(this),this._header&&this._header.unmount(),this._footer&&this._footer.unmount()},n.prototype.end=function(){return this.parent instanceof s?this.parent:this},n.prototype.addRow=function(t,e,n,r){var i=new s(n,null==t?"row":t,e,r,!1,"row");return i.name=i.name+"_row",this.content.addContainer(i)},n.prototype.collapse=function(t){if(!this.root)return this;t&&t(this.createEvent("_"+this.TOOL_COLLAPSE,{collapsed:this.isCollapsed()})),this.tools&&this.tools[this.TOOL_COLLAPSE]&&this.tools[this.TOOL_COLLAPSE].find("i").toggleClass(Y.WIcon.CHEVRON_UP).toggleClass(Y.WIcon.CHEVRON_DOWN);var e=this.root;return e.children(".ibox-content").slideToggle(200),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50),this},n.prototype.expand=function(t){return this.isCollapsed()&&this.collapse(t),this},n.prototype.isCollapsed=function(){return!!this.root&&this.tools[this.TOOL_COLLAPSE].find("i").hasClass(Y.WIcon.CHEVRON_DOWN)},n.prototype.close=function(){if(!this.root)return this;this.root.remove()},n);function n(t,e,n,r,i){var o=a.call(this,t,Y.global.box_class,r,i,!1,"box")||this;return o.TOOL_COLLAPSE="collapse-link",o.TOOL_CLOSE="close-link",o.TOOL_FILTER="filter-link",o.name="WBox",o._addClassStyle=n,o.title=e,o}Y.WBox=u;var p,r=(p=Y.WComponent,__extends(i,p),i.prototype.onShownModal=function(t){this.on("shown.bs.modal",t)},i.prototype.onHiddenModal=function(t){this.on("hidden.bs.modal",t)},Object.defineProperty(i.prototype,"header",{get:function(){return this.cntHeader||(this.cntHeader=new s("","modal-header"),this.btnCloseHeader=new S(this.subId("bhc"),'<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',void 0,"close","",'data-dismiss="modal"'),this.cntHeader.add(this.btnCloseHeader)),this.cntHeader},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new s("",Y.cls("modal-body",this._classStyle),"",this._attributes)),this.cntBody},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"footer",{get:function(){return this.cntFooter||(this.cntFooter=new s("","modal-footer")),this.cntFooter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.cntHeader?(this._title=t,this.cntHeader.getRoot().children(this.tagTitle+":first").text(t)):(this._title=t,this.header.add(this.buildTitle(t)))},enumerable:!0,configurable:!0}),i.prototype.onClickOk=function(){return!0},i.prototype.onClickCancel=function(){return!0},i.prototype.buildBtnOK=function(){return new S(this.subId("bfo"),Y.RES.OK,"",Y.BTN.INFO+" button-sm","","")},i.prototype.buildBtnCancel=function(){return this.txtCancel?new S(this.subId("bfc"),this.txtCancel,"",Y.BTN.SECONDARY+" button-sm","",""):new S(this.subId("bfc"),Y.RES.CANCEL,"",Y.BTN.SECONDARY+" button-sm","","")},i.prototype.buttonOk=function(){var e=this;if(this.btnOK)return this.btnOK;this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(t){e.onClickOk()&&(e.ok=!0,e.cancel=!1,e.root.modal("hide"))}),this.buttons.push(this.btnOK)},i.prototype.buttonCancel=function(){var e=this;if(this.btnCancel)return this.btnCancel;this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(t){e.onClickCancel()&&(e.ok=!1,e.cancel=!0,e.root.modal("hide"))}),this.buttons.push(this.btnCancel)},i.prototype.show=function(t,e){this.beforeShow()&&(this.ok=!1,this.cancel=!1,this.parent=t,this.parentHandler=e,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&this.root.modal({backdrop:"static",keyboard:!1}))},i.prototype.hide=function(){this.root&&this.root.length&&this.root.modal("hide")},i.prototype.close=function(){this.ok=!1,this.cancel=!1,this.root&&this.root.length&&this.root.modal("hide")},i.prototype.selection=function(t,e){if(!t)return!1;var n=t.getSelectedRows();if(!n||!n.length)return e&&Y.showWarning(e),!1;var r=t.getSelectedRowsData();if(!r||!r.length)return e&&Y.showWarning(e),!1;if(null==this.props||"number"==typeof this.props){var i=n[0];this.setProps(i)}return this.setState(r[0]),!0},i.prototype.beforeShow=function(){return!0},i.prototype.onShown=function(){},i.prototype.onHidden=function(){},i.prototype.render=function(){this.isShown=!1,this.cntRoot=new s(this.id,"modal inmodal fade","",'role="dialog" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("","modal-dialog modal-lg",this._style),this.cntContent=this.cntMain.addContainer("","modal-content"),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody);for(var t=0,e=this.buttons;t<e.length;t++){var n=e[t];this.footer.add(n)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},i.prototype.componentDidMount=function(){var e=this;this.root.on("shown.bs.modal",function(t){e.isShown=!0,e.onShown()}),this.root.on("hidden.bs.modal",function(t){e.isShown=!1,e.onHidden(),e.parentHandler&&(e.parentHandler(t),e.parentHandler=null)})},i.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},i.prototype.buildTitle=function(t){return this.tagTitle||(this.tagTitle="h3"),"<"+this.tagTitle+">"+Y.WUtil.toText(t)+"</"+this.tagTitle+">"},i);function i(t,e,n,r,i,o,s){void 0===e&&(e="WDialog"),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=p.call(this,t,e,void 0,i,o,s)||this;return a.buttons=[],a.tagTitle="h3",r&&(n||(a.txtCancel=Y.RES.CLOSE),a.buttonCancel()),n&&a.buttonOk(),a.ok=!1,a.cancel=!1,a.isShown=!1,a.id&&"*"!=a.id&&$("#"+a.id).length&&$("#"+a.id).remove(),WuxDOM.onRender(function(t){a.mounted||a.mount(t.element)}),a}Y.WDialog=r;var c,o=(c=Y.WComponent,__extends(d,c),Object.defineProperty(d.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),d.prototype.updateState=function(t){t=t||"",c.prototype.updateState.call(this,t),this.root&&this.root.html(Y.buildIcon(this.props,""," ")+t)},d.prototype.for=function(t){return this.forId=Y.getId(t),this},d.prototype.blink=function(t){return this.root&&this.root.length&&(this.blinks=t||3,this.highlight()),this},d.prototype.highlight=function(){return this.root&&this.root.length&&this.blinks&&(this.blinks--,this.root.effect("highlight",{},600,this.highlight.bind(this))),this},d.prototype.render=function(){var t=this.state?this.state:"";return this.forId?this.buildRoot("label",Y.buildIcon(this.props,""," ")+t,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,Y.buildIcon(this.props,""," ")+t,null,this._classStyle)},d.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},d);function d(t,e,n,r,i,o){var s=c.call(this,t,"WLabel",n,r,i,o)||this;return s.rootTag="span",s.updateState(e),s}Y.WLabel=o;var f,g=(f=Y.WComponent,__extends(b,f),b.prototype.updateState=function(t){f.prototype.updateState.call(this,t),this.root&&this.root.val(t)},b.prototype.onEnterPressed=function(t){this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(t)},b.prototype.render=function(){var t="";if(this.label){t=this.id?'<label for="'+this.id+'">':"<label>";var e=this.label.lastIndexOf("<br");0<e?(t+=this.label.substring(0,e).replace("<","&lt;").replace(">","&gt;"),t+="</label><br>"):(t+=this.label.replace("<","&lt;").replace(">","&gt;"),t+="</label> ")}if("static"==this.props)return t+this.build("span",this.state);var n='name="'+this.id+'"';return n+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(n+=' size="'+this.size+'"'),this.state&&(n+=' value="'+this.state+'"'),this.placeHolder&&(n+=' placeholder="'+this.placeHolder+'"'),t+this.build(this.rootTag,"",n)},b.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip);var n=this;this.root.keypress(function(t){if(13==t.which){var e=this.value;"c"==n.valueType?this.value&&(this.value=Y.formatCurr(Y.WUtil.toNumber(this.value))):"c5"==n.valueType?this.value&&(this.value=Y.formatCurr5(Y.WUtil.toNumber(this.value))):"n"==n.valueType||"p"==n.valueType?this.value&&(this.value=Y.formatNum(this.value)):"i"==n.valueType&&this.value&&(this.value=Y.WUtil.toInt(this.value)),n.trigger("statechange",e),n.trigger("_enter"),n.blurOnEnter&&$(this).blur()}}),this.root.blur(function(t){var e=this.value;"c"==n.valueType?this.value&&(this.value=Y.formatCurr(Y.WUtil.toNumber(this.value))):"c5"==n.valueType?this.value&&(this.value=Y.formatCurr5(Y.WUtil.toNumber(this.value))):"n"==n.valueType||"p"==n.valueType?this.value&&(this.value=Y.formatNum(this.value)):"i"==n.valueType&&this.value&&(this.value=Y.WUtil.toInt(this.value)),n.state!=e&&n.trigger("statechange",e)}),this.root.focus(function(t){if(this.value){if("c"==n.valueType||"c5"==n.valueType){var e=Y.formatNum(this.value);0<=e.indexOf(",00")&&e.indexOf(",00")==e.length-3&&(e=e.substring(0,e.length-3)),0<=e.indexOf(",0")&&e.indexOf(",0")==e.length-2&&(e=e.substring(0,e.length-3)),this.value=e}else"n"==n.valueType||"p"==n.valueType?this.value=Y.formatNum(this.value):"i"==n.valueType&&(this.value=this.value=Y.WUtil.toInt(this.value));$(this).select()}})},b);function b(t,e,n,r,i,o){var s=f.call(this,t||"*","WInput",e,r,i,o)||this;return s.rootTag="input",s.size=n,s.valueType="s",s.blurOnEnter=!1,s}Y.WInput=g;var y,m=(y=Y.WComponent,__extends(v,y),v.prototype.updateState=function(t){y.prototype.updateState.call(this,t),this.root&&this.root.val(this.state)},v.prototype.getState=function(){return this.root&&(this.state=Y.norm(this.root.val())),this.state},v.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',Y.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},v.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(Y.den(this.state))},v);function v(t,e,n,r,i){var o=y.call(this,t||"*","WTextArea",e,n,r,i)||this;return o.rootTag="textarea",e||(o.props=5),o}Y.WTextArea=m;var _,C=(_=Y.WComponent,__extends(w,_),Object.defineProperty(w.prototype,"text",{get:function(){return!this._text&&this.$label?this.$label.text():this._text},set:function(t){this._text||!this.$label?(this._text=t,this.mounted&&this.root.html(t)):this.$label.text(t)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"checked",{get:function(){return this.props=this.root.is(":checked"),this.state=this.props?this.value:void 0,this.props},set:function(t){this.setProps(t)},enumerable:!0,configurable:!0}),w.prototype.getState=function(){return this.checked?this.state=this.value:this.state=null,this.state},w.prototype.updateProps=function(t){_.prototype.updateProps.call(this,t),this.state=this.props?this.value:void 0,this.root&&this.root.prop("checked",this.props)},w.prototype.updateState=function(t){"boolean"==typeof t&&(t=t?this.value:void 0),_.prototype.updateState.call(this,t),this.root&&this.root.prop("checked",null!=this.state)},w.prototype.render=function(){var t='name="'+this.id+'" type="checkbox"';t+=this.props?' checked="checked"':"";var e=this._text?"&nbsp;"+this._text:"";return this.build(this.rootTag,e,t)},w.prototype.componentDidMount=function(){var n=this;this._tooltip&&this.root.attr("title",this._tooltip),this.root.change(function(t){var e=n.root.is(":checked");n.trigger("propschange",e),n.trigger("statechange",e?n.value:void 0)})},w.prototype.getWrapper=function(t){return this.wrapper?this.wrapper:(this.id?this.$label=this._text?$('<label for="'+this.id+'">'+this._text+"</label>"):$("<label></label>"):this.$label=this._text?$("<label>"+this._text+"</label>"):$("<label></label>"),this._text="",this.wrapper=new Y.WContainer(this.subId(),"checkbox",t),this.wrapper.add(this),this.wrapper.add(this.$label),(this.wrapper.stateComp=this).wrapper)},w);function w(t,e,n,r,i,o,s){var a=_.call(this,t||"*","WCheck",r,i,o,s)||this;return a.rootTag="input",a.value=n||"1",r&&a.updateState(n),a._text=e,a}Y.WCheck=C;var x,S=(x=Y.WComponent,__extends(O,x),Object.defineProperty(O.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),O.prototype.setText=function(t,e){null!=e&&(this.props=e),this.setState(t)},O.prototype.render=function(){this._classStyle||(this._classStyle=Y.BTN.PRIMARY);var t=this.type?'type="'+this.type+'"':"",e="";return this.state?e+=Y.buildIcon(this.props,""," ")+this.state:e+=Y.buildIcon(this.props),this.build(this.rootTag,e,t)},O.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},O.prototype.componentWillUpdate=function(t,e){var n="";n+=e?Y.buildIcon(this.props,""," ")+e:Y.buildIcon(this.props),this.root.html(n)},O);function O(t,e,n,r,i,o,s){var a=x.call(this,t,"WButton",n,r,i,o)||this;return a.updateState(e),a.rootTag="button",a.type=s||"button",a}Y.WButton=S;var T,I=(T=Y.WComponent,__extends(W,T),Object.defineProperty(W.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"href",{get:function(){return this._href},set:function(t){this._href=t,this.root&&this.root.length&&(t?this.root.attr("href",t):this.root.removeAttr("href"))},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.root&&this.root.length&&(t?this.root.attr("target",t):this.root.removeAttr("target"))},enumerable:!0,configurable:!0}),W.prototype.render=function(){var t="";this._href&&(t+='href="'+this._href+'"'),this._target&&(t&&(t+=" "),t+='target="'+this._target+'"');var e="";return this.state?e+=Y.buildIcon(this.icon,""," ")+this.state:e+=Y.buildIcon(this.icon),this.build(this.rootTag,e,t)},W.prototype.componentDidMount=function(){this._tooltip&&this.root.attr("title",this._tooltip)},W.prototype.componentWillUpdate=function(t,e){var n="";n+=e?Y.buildIcon(this.icon,""," ")+e:Y.buildIcon(this.icon),this.root.html(n)},W);function W(t,e,n,r,i,o,s,a){var l=T.call(this,t,"WLink",n,r,i,o)||this;return l.updateState(e),l.rootTag="a",l._href=s,l._target=a,l}Y.WLink=I;var R,D=(R=Y.WComponent,__extends(A,R),A.prototype.addTab=function(t,e){var n=new s("","panel-body");return n.name=Y.buildIcon(e,""," ")+t,this.tabs.push(n),n},A.prototype.render=function(){null==this.state&&(this.state=0);var t="<div";this._classStyle?t+=' class="tabs-container '+this._classStyle+'"':t+=' class="tabs-container"',t+=' id="'+this.id+'"',this._style&&(t+=' style="'+this._style+'"'),this.attributes&&(t+=" "+this.attributes),t+=">",t+='<ul class="nav nav-tabs">';for(var e=0;e<this.tabs.length;e++){var n=this.tabs[e];e==this.state?t+='<li class="active"><a data-toggle="tab" href="#'+this.id+"-"+e+'"> '+n.name+"</a></li>":t+='<li><a data-toggle="tab" href="#'+this.id+"-"+e+'"> '+n.name+"</a></li>"}for(t+="</ul>",t+='<div class="tab-content">',e=0;e<this.tabs.length;e++)e==this.state?t+='<div id="'+this.id+"-"+e+'" class="tab-pane active"></div>':t+='<div id="'+this.id+"-"+e+'" class="tab-pane"></div>';return t+="</div></div>"},A.prototype.componentDidUpdate=function(t,e){$('.nav-tabs a[href="#'+this.id+"-"+this.state+'"]').tab("show")},A.prototype.componentDidMount=function(){if(this.tabs.length){for(var t=0;t<this.tabs.length;t++){var e=this.tabs[t],n=$("#"+this.id+"-"+t);n.length&&e.mount(n)}var r=this;this.root.find('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var e=$(t.target).attr("href");if(e){var n=e.lastIndexOf("-");0<=n&&r.setState(parseInt(e.substring(n+1)))}})}},A.prototype.componentWillUnmount=function(){for(var t=0,e=this.tabs;t<e.length;t++){var n=e[t];n&&n.unmount()}},A);function A(t,e,n,r,i){var o=R.call(this,t,"WTab",i,e,n,r)||this;return o.tabs=[],o}Y.WTab=D;var E,k=(E=Y.WComponent,__extends(L,E),L.prototype.getProps=function(){var n=this;return this.root&&(this.props=[],this.root.find("option:selected").each(function(t,e){n.props.push($(e).text())})),this.props},L.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},L.prototype.addOption=function(t,e){if(!t)return this;if(this.options||(this.options=[]),this.options.push(t),!this.mounted)return this;var n=this.buildOptions();return this.root.html(n),e&&this.updateState(t),this},L.prototype.remOption=function(t){if(!t||!this.options)return this;for(var e=-1,n=0;n<this.options.length;n++){var r=this.options[n];if(r)if("string"==typeof t){if("string"==typeof r){if(r==t){e=n;break}}else if(r.id==t){e=n;break}}else if("string"==typeof r){if(r==t.id){e=n;break}}else if(r.id==t.id){e=n;break}}if(0<=e){if(this.options.splice(e,1),!this.mounted)return this;var i=this.buildOptions();this.root.html(i)}return this},L.prototype.setOptions=function(t,e){if(this.options=t,!this.mounted)return this;var n=this.root.val(),r=this.buildOptions();return this.root.html(r),e?this.root.val(n):t&&t.length&&("string"==typeof t[0]?this.trigger("statechange",t[0]):this.trigger("statechange",Y.WUtil.getString(t[0],"id"))),this},L.prototype.updateState=function(t){E.prototype.updateState.call(this,t),this.root&&(null==this.state?this.root.val(""):"string"==typeof this.state||"number"==typeof this.state?this.root.val(""+this.state):this.root.val(this.state.id))},L.prototype.render=function(){var t=this.buildOptions(),e='name="'+this.id+'"';return this.multiple&&(e+=' multiple="multiple"'),this.buildRoot("select",t,e)},L.prototype.componentDidMount=function(){var e=this;this._tooltip&&this.root.attr("title",this._tooltip),this.state&&this.root.val(this.state),this.root.on("change",function(t){e.trigger("statechange",e.root.val())})},L.prototype.buildOptions=function(){var t="";this.options||(this.options=[]);for(var e=0,n=this.options;e<n.length;e++){var r=n[e];t+="string"==typeof r?"<option>"+r+"</option>":'<option value="'+r.id+'">'+r.text+"</option>"}return t},L);function L(t,e,n,r,i,o){var s=E.call(this,t||"*","WSelect",null,r,i,o)||this;return s.rootTag="select",s.options=e,s.multiple=n,s}Y.WSelect=k;var N,M=(N=Y.WComponent,__extends(U,N),Object.defineProperty(U.prototype,"tooltip",{set:function(t){if(this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.options&&this.options.length)for(var e=0;e<this.options.length;e++){var n=$("#"+this.id+"-"+e);n.length&&this._tooltip&&n.attr("title",this._tooltip)}},enumerable:!0,configurable:!0}),U.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},U.prototype.render=function(){var t="";if(this.label&&(t+=this.id?'<label for="'+this.id+'">':"<label>",t+=this.label.replace("<","&lt;").replace(">","&gt;"),t+="</label> "),!this.options||!this.options.length)return t;void 0===this.state&&(this.state=this.options[0]);for(var e=0;e<this.options.length;e++){var n=this.options[e];"string"==typeof n?Y.match(this.state,n)?t+='&nbsp;<label style="display:inline;"><input type="radio" value="'+n+'" name="'+this.id+'" id="'+this.id+"-"+e+'" checked> '+n+"</label>&nbsp;":t+='&nbsp;<label style="display:inline;"><input type="radio" value="'+n+'" name="'+this.id+'" id="'+this.id+"-"+e+'"> '+n+"</label>&nbsp;":Y.match(this.state,n)?t+='&nbsp;<label style="display:inline;"><input type="radio" value="'+n.id+'" name="'+this.id+'" id="'+this.id+"-"+e+'" checked> '+n.text+"</label>&nbsp;":t+='&nbsp;<label style="display:inline;"><input type="radio" value="'+n.id+'" name="'+this.id+'" id="'+this.id+"-"+e+'"> '+n.text+"</label>&nbsp;"}return t},U.prototype.componentDidMount=function(){var r=this;if(this.options&&this.options.length){function t(t){var e=$("#"+i.id+"-"+t);if(!e.length)return 1;i._tooltip&&e.attr("title",i._tooltip);var n=i.options[t];e.click(function(){r.setState(n)})}for(var i=this,e=0;e<this.options.length;e++)t(e)}},U.prototype.componentDidUpdate=function(t,e){for(var n=-1,r=0;r<this.options.length;r++)if(Y.match(this.state,this.options[r])){n=r;break}0<=n&&$("#"+this.id+"-"+n).prop("checked",!0)},U);function U(t,e,n,r,i,o){var s=N.call(this,t||"*","WRadio",o,n,r,i)||this;return s.options=e,s}Y.WRadio=M;var F,P=(F=Y.WComponent,__extends(H,F),H.prototype.onSelectionChanged=function(t){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(t)},H.prototype.onDoubleClick=function(t){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(t)},H.prototype.onRowPrepared=function(t){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(t)},H.prototype.onCellClick=function(t){this.handlers._cellclick||(this.handlers._cellclick=[]),this.handlers._cellclick.push(t)},H.prototype.onCellHoverChanged=function(t){this.handlers._cellhover||(this.handlers._cellhover=[]),this.handlers._cellhover.push(t)},H.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this;if(this.root.find("tbody tr").removeClass("success"),!this.handlers._selectionchanged)return this;for(var t=0,e=this.handlers._selectionchanged;t<e.length;t++)(0,e[t])({element:this.root,selectedRowsData:[]});return this},H.prototype.select=function(t){if(this.selectedRow=t&&t.length?t[0]:-1,!this.mounted)return this;this.root.find("tbody tr").removeClass("success");for(var e=0,n=t;e<n.length;e++){var r=n[e];this.root.find("tbody tr:eq("+r+")").addClass("success")}if(!this.handlers._selectionchanged)return this;for(var i=0,o=this.handlers._selectionchanged;i<o.length;i++)(0,o[i])({element:this.root,selectedRowsData:[]});return this},H.prototype.selectAll=function(t){if(!this.mounted)return this;if(this.root.find("tbody tr").addClass("success"),!this.handlers._selectionchanged)return this;for(var e=0,n=this.handlers._selectionchanged;e<n.length;e++)(0,n[e])({element:this.root,selectedRowsData:[]});return this},H.prototype.getSelectedRows=function(){return this.mounted?this.selectedRow<0?[]:[this.selectedRow]:[]},H.prototype.getSelectedRowsData=function(){return this.mounted?this.selectedRow<0?[]:this.state&&this.state.length?this.state.length<=this.selectedRow?[]:this.state[this.selectedRow]:[]:[]},H.prototype.getFilteredRowsData=function(){return this.state},H.prototype.refresh=function(){return this},H.prototype.getCellValue=function(t,e){if(t<0||e<0)return null;if(!this.state||this.state.length<=t)return null;if(!this.keys||this.keys.length<=e)return null;var n=this.keys[e],r=this.state[t];return Y.WUtil.getValue(r,n)},H.prototype.getColHeader=function(t){return t<0||!this.header||this.header.length<=t?"":this.header[t]},H.prototype.render=function(){if(this.shouldBuildRoot()){var t="table";this._classStyle&&(t=0<=this._classStyle.indexOf("table ")?this._classStyle:t+" "+this._classStyle);var e=this.style?' style="'+this.style+'"':"",n='<div class="table-responsive"><table id="'+this.id+'" class="'+t+'"'+e+">";if(this.header&&this.header.length){var r=!1;"string"==typeof this.headStyle?0<this.headStyle.indexOf("text-align")&&(r=!0):this.headStyle&&this.headStyle.a&&(r=!0),n+=r?"<thead><tr>":"<thead><tr"+Y.buildCss(this.headStyle)+">";for(var i=-1,o=0,s=this.header;o<s.length;o++){var a=s[o],l=void 0;l=0==++i?this.col0Style?this.col0Style:this.colStyle:i==this.header.length-1?this.colLStyle?this.colLStyle:this.colStyle:r?this.headStyle:this.colStyle;var h=this.widths&&this.widths.length>i?this.widths[i]:0;h?this.widthsPerc?n+="<th"+Y.buildCss(l,{w:h+"%"})+">"+a+"</th>":n+="<th"+Y.buildCss(l,{w:h})+">"+a+"</th>":n+="<th"+Y.buildCss(l)+">"+a+"</th>"}n+="</tr></thead>"}return n+="<tbody></tbody>",n+="</table></div>"}},H.prototype.componentDidMount=function(){this.buildBody();var s=this;this.root.on("click","tbody tr",function(t){if(s.handlers._selectionchanged){if(!s.selectionMode||"none"==s.selectionMode)return}else if(!s.selectionMode||"none"==s.selectionMode)return;var e=$(this);e.addClass("success").siblings().removeClass("success"),s.selectedRow=e.index();var n=s.state&&s.state.length?s.state[s.selectedRow]:void 0;if(s.handlers._selectionchanged)for(var r=0,i=s.handlers._selectionchanged;r<i.length;r++)(0,i[r])({element:s.root,selectedRowsData:[n]})}),this.root.on("click","tbody tr td",function(t){if(s.handlers._cellclick)for(var e=$(this),n=e.parent().index(),r=e.index(),i=0,o=s.handlers._cellclick;i<o.length;i++)(0,o[i])({element:s.root,rowIndex:n,colIndex:r})}),this.root.on("mouseover","tbody tr td",function(t){if(s.handlers._cellhover)for(var e=$(this),n=e.parent().index(),r=e.index(),i=0,o=s.handlers._cellhover;i<o.length;i++)(0,o[i])({element:s.root,rowIndex:n,colIndex:r})}),this.root.on("dblclick","tbody tr",function(t){if(s.handlers._doubleclick)for(var e=0,n=s.handlers._doubleclick;e<n.length;e++)(0,n[e])({element:s.root})})},H.prototype.componentDidUpdate=function(t,e){this.buildBody()},H.prototype.buildBody=function(){this.selectedRow=-1;var t=this.root.find("tbody");if(t.html(""),this.state&&this.state.length&&this.keys&&this.keys.length)for(var e=-1,n=0,r=this.state;n<r.length;n++){var i=r[n],o=void 0;if(o=++e==this.state.length-1&&this.footerStyle?$(Y.build("tr","",this.footerStyle)):$(Y.build("tr","",this.rowStyle)),t.append(o),this.handlers._rowprepared)for(var s={element:this.root,rowElement:o,data:i,rowIndex:e},a=0,l=this.handlers._rowprepared;a<l.length;a++)(0,l[a])(s);for(var h=-1,u=0,p=this.keys;u<p.length;u++){var c=i[p[u]],d="";switch(null==c&&(c=""),h++,Y.WUtil.getItem(this.types,h)){case"w":d="text-center";break;case"c":c=Y.formatCurr(c),d="text-right";break;case"c5":c=Y.formatCurr5(c),d="text-right";break;case"i":c=Y.formatNum(c),d="text-right";break;case"n":c=Y.formatNum2(c),d="text-right";break;case"d":c=Y.formatDate(c);break;case"t":c=Y.formatDateTime(c);break;case"b":c=c?"&check;":"";break;default:c instanceof Date&&(c=Y.formatDate(c)),"boolean"==typeof c&&(c=c?"&check;":""),"number"==typeof c&&(c=Y.formatNum2(c),d="text-right")}var f=void 0;"string"==typeof(f=0==h?this.col0Style?this.col0Style:this.colStyle:h==this.header.length-1&&this.colLStyle?this.colLStyle:this.colStyle)?0<f.indexOf("text-align")&&(d=""):f&&f.a&&(d="");var g=this.widths&&this.widths.length>h?this.widths[h]:0,b=this.templates&&this.templates.length>h?this.templates[h]:void 0;if(b)b(_=$("<td"+Y.buildCss(f,d,{w:g})+"></td>"),{data:i,text:c}),o.append(_);else if(Y.WUtil.hasComponents(c))for(var y=0,m=Y.WUtil.toArrayComponent(c);y<m.length;y++){var v=m[y],_=$("<td"+Y.buildCss(f,d,{w:g})+"></td>");o.append(_),v.mount(_)}else this.boldNonZero&&0!=c&&"0"!=c&&""!=c?o.append($("<td"+Y.buildCss(f,d,{w:g})+"><strong>"+c+"</strong></td>")):o.append($("<td"+Y.buildCss(f,d,{w:g})+">"+c+"</td>"))}if(this.header&&this.header.length>this.keys.length)for(var C=0;C<this.header.length-this.keys.length;C++)o.append($("<td"+Y.buildCss(this.colStyle)+"></td>"))}},H);function H(t,e,n,r,i,o,s){var a=F.call(this,t||"*","WTable",s,r,i,o)||this;if(a.selectedRow=-1,a.rootTag="table",a.header=e,n&&n.length)a.keys=n;else if(a.keys=[],a.header)for(var l=0;l<a.header.length;l++)a.keys.push(l);return a.widths=[],a.templates=[],a.boldNonZero=!1,a.selClass="success",a}Y.WTable=P;var B,V=(B=Y.WComponent,__extends(j,B),j.prototype.init=function(){return this.rows=[],this.roww=[],this.hiddens=[],this.internals={},this.components=[],this.captions=[],this.dpids=[],this.nextMap={},this.mapTooltips={},this.mapLabelLinks={},this.minValues={},this.maxValues={},this.footer=[],this.currRow=null,this.addRow(),this},j.prototype.focus=function(){if(!this.mounted)return this;var t=this.first(!0);return t&&(t.component?t.component.focus():t.element&&t.element.focus()),this},j.prototype.first=function(t){if(!this.rows)return null;for(var e=0,n=this.rows;e<n.length;e++)for(var r=0,i=n[e];r<i.length;r++){var o=i[r];if(!t)return o;if((null==o.enabled||o.enabled)&&(null==o.readonly||!o.readonly))return o}return null},j.prototype.focusOn=function(t){if(!this.mounted)return this;var e=this.getField(t);return e&&(e.component?e.component.focus():e.element&&e.element.focus()),this},j.prototype.onEnterPressed=function(t){t&&(this.handlers._enter||(this.handlers._enter=[]),this.handlers._enter.push(t),this.nextOnEnter=!1)},j.prototype.onChangeDate=function(t){t&&(this.handlers._changedate||(this.handlers._changedate=[]),this.handlers._changedate.push(t))},j.prototype.addToFooter=function(t,e){return(t||this.footer)&&(null!=e&&(this.footerSep=e),this.footer.push(t)),this},j.prototype.addRow=function(t,e,n,r,i){return void 0===i&&(i="row"),this.currRow&&!this.currRow.length?this.roww[this.roww.length-1]={classStyle:t,style:e,id:n,attributes:Y.attributes(r),type:i}:(this.currRow=new Array,this.rows.push(this.currRow),this.roww.push({classStyle:t,style:e,id:n,attributes:Y.attributes(r),type:i})),this},j.prototype.addTextField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Text,readonly:n}),this},j.prototype.addNoteField=function(t,e,n,r){return n=n||3,this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Note,attributes:'rows="'+n+'"',readonly:r}),this},j.prototype.addCurrencyField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Text,readonly:n,valueType:"c",style:{a:"right"}}),this},j.prototype.addCurrency5Field=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Text,readonly:n,valueType:"c5",style:{a:"right"}}),this},j.prototype.addIntegerField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Text,readonly:n,valueType:"i"}),this},j.prototype.addDecimalField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Text,readonly:n,valueType:"n"}),this},j.prototype.addDateField=function(t,e,n,r,i){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Date,readonly:n,valueType:"d",minValue:r,maxValue:i}),this},j.prototype.addOptionsField=function(t,e,n,r,i){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Select,readonly:i,options:n,attributes:r}),this},j.prototype.addBooleanField=function(t,e){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.CheckBox}),this},j.prototype.addBlankField=function(t,e,n,r,i,o){return this.currRow.push({id:r,label:t,type:Y.WInputType.Blank,classStyle:e,style:n,attributes:i,placeholder:o}),this},j.prototype.addRadioField=function(t,e,n){var r=new M(this.subId(t),n);return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Radio,component:r}),this},j.prototype.addPasswordField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Password,readonly:n}),this},j.prototype.addEmailField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Email,readonly:n}),this},j.prototype.addFtpField=function(t,e,n){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Ftp,readonly:n}),this},j.prototype.addCronField=function(t,e,n,r){return this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Cron,readonly:n,value:r}),this},j.prototype.addComponent=function(t,e,n,r){if(n)return t?(n.id=this.subId(t),this.currRow.push({id:this.subId(t),label:e,type:Y.WInputType.Component,component:n,readonly:r}),n instanceof Y.WInput&&(n.classStyle||(n.classStyle=Y.CSS.FORM_CTRL))):(n.id="",this.currRow.push({id:"",label:e,type:Y.WInputType.Component,component:n,readonly:r})),this.components.push(n),this},j.prototype.addCaption=function(t,e,n,r){if(t){var i=new Y.WLabel("",t,e,n,r);return this.currRow.push({id:"",label:"",type:Y.WInputType.Component,component:i,readonly:!0}),this.components.push(i),this.captions.push(i),this}},j.prototype.addInternalField=function(t,e){return void 0===e&&(e=null),this.internals[t]=e,this},j.prototype.addHiddenField=function(t,e){return this.hiddens.push({id:this.subId(t),type:Y.WInputType.Hidden,value:e}),this},j.prototype.setTooltip=function(t,e){var n=this.getField(t);return n&&(e?this.mapTooltips[n.id]=e:delete this.mapTooltips[n.id]),this},j.prototype.setLabelLinks=function(t,e){var n=this.getField(t);return n&&(e&&e.length?this.mapLabelLinks[n.id]=e:delete this.mapLabelLinks[n.id]),this},j.prototype.setReadOnly=function(t,e){if("string"==typeof t){if(!(s=this.getField(t)))return this;if(s.readonly=e,this.mounted)if(s.component)s.component.enabled=!e;else{var n=$("#"+s.id);"select"==Y.getTagName(n)?e?n.prop("disabled",!0):n.prop("disabled",!1):n.prop("readonly",e)}}else for(var r=0;r<this.rows.length;r++)for(var i=this.rows[r],o=0;o<i.length;o++){var s;(s=i[o]).readonly=t,this.mounted&&(s.component?s.component.enabled=!t:(n=$("#"+s.id),"select"==Y.getTagName(n)?t?n.prop("disabled",!0):n.prop("disabled",!1):n.prop("readonly",t)))}return this.trigger("propschange"),this},Object.defineProperty(j.prototype,"enabled",{set:function(t){this._enabled=t;for(var e=0;e<this.rows.length;e++)for(var n=this.rows[e],r=0;r<n.length;r++){var i=n[r];i.enabled=t,this.mounted&&(i.component?i.component.enabled=t:$("#"+i.id).prop("disabled",!t))}},enumerable:!0,configurable:!0}),j.prototype.setEnabled=function(t,e){if("string"==typeof t){var n=this.getField(t);if(!n)return this;n.enabled=e,this.mounted&&(n.component?n.component.enabled=e:$("#"+n.id).prop("disabled",!e))}else this.enabled=t;return this.trigger("propschange"),this},j.prototype.setVisible=function(t,e){var n=this.getField(t);return n&&(n.visible=e,this.mounted&&(n.component?n.component.visible=e:e?$("#"+n.id).show():$("#"+n.id).hide(),n.label&&(e?$('label[for="'+n.id+'"]').show():$('label[for="'+n.id+'"]').hide())),this.trigger("propschange")),this},j.prototype.setLabelCss=function(t,e){var n=this.getField(t);if(!n)return this;if(n.labelCss=e,this.mounted){var r=$('label[for="'+n.id+'"]');r.length&&Y.setCss(r,e)}return this},j.prototype.setLabelText=function(t,e){var n=this.getField(t);if(!n)return this;if(n.label=e,this.mounted){var r=$('label[for="'+n.id+'"]');r.length&&r.html(e)}return this},j.prototype.setSpanField=function(t,e){var n=this.getField(t);return n&&(n.span=e),this},j.prototype.getField=function(t){if(t)for(var e=0==t.indexOf(this.id+"-")?t:this.subId(t),n=0;n<this.rows.length;n++)for(var r=this.rows[n],i=0;i<r.length;i++){var o=r[i];if(o.id==e)return o}},j.prototype.onMount=function(t,e){var n=this.getField(t);return n&&(n.onmount=e),this},j.prototype.onFocus=function(t,e){var n=this.getField(t);return n&&(n.onfocus=e),this},j.prototype.onBlur=function(t,e){var n=this.getField(t);return n&&(n.onblur=e),this},j.prototype.getStateOf=function(t){var e=this.getField(t);return e&&e.component?e.component.getState():null},j.prototype.getPropsOf=function(t){var e=this.getField(t);return e&&e.component?e.component.getProps():null},j.prototype.next=function(t){if(t){var e=0==t.indexOf(this.id+"-")?t:this.subId(t);if(this.nextMap){var n=this.nextMap[this.ripId(e)];if(n){var r=this.getField(n);if(r)return r}}for(var i=!1,o=0;o<this.rows.length;o++)for(var s=this.rows[o],a=0;a<s.length;a++){var l=s[a];if(i)return l;l.id==e&&(i=!0)}}},j.prototype.setMandatory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.rows)return this;for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],s=0==o.indexOf(this.id+"-")?o:this.subId(o);n.push(s)}for(var a=0;a<this.rows.length;a++)for(var l=this.rows[a],h=0;h<l.length;h++){var u=l[h];0<=n.indexOf(u.id)?u.required=!0:u.required=!1}return this},j.prototype.checkMandatory=function(t,e,n){var r=this.getState();r=r||{};for(var i="",o="",s=!1,a=0;a<this.rows.length;a++)for(var l=this.rows[a],h=0;h<l.length;h++){var u=l[h],p=this.ripId(u.id),c=r[p];u.required&&(null==c||""==c?(i+=t?","+u.label:","+p,o=o||p):s=!0)}return n&&s?"":(o&&e&&this.focusOn(o),i?i.substring(1):i)},j.prototype.getState=function(){return this.state=this.autoValidate?this.validate():this.getValues(),this.state},j.prototype.render=function(){return this.buildRoot(this.rootTag)},j.prototype.componentDidMount=function(){var u=this;this.inputClass||(this.inputClass=Y.CSS.FORM_CTRL),this.minValues={},this.maxValues={},this.dpids=[];for(var t=0;t<this.rows.length;t++){var e=this.roww[t],n="<div";if(e){var r=Y.cls(e.type,e.classStyle,e.style);r&&(n+=' class="'+r+'"');var i=Y.style(e.style);i&&(n+=' style="'+i+'"'),e.id&&(n+=' id="'+e.id+'"'),e.attributes&&(n+=" "+e.attributes)}else n+=' class="row"';n+="></div>";var o=$(n);this.root.append(o);for(var s=this.rows[t],a=0,l=0;l<s.length;l++)(L=s[l]).type!==Y.WInputType.Hidden&&(a+=L.span&&0<L.span?L.span:1);for(l=0;l<s.length;l++)if((L=s[l]).id&&(L.minValue&&(this.minValues[L.id]=L.minValue),L.maxValue&&(this.maxValues[L.id]=L.maxValue)),L.type!==Y.WInputType.Hidden){var h=Math.floor(12/a);h<1&&(h=1),1==h&&a<11&&(0==l||l==a-1)&&(h=2),L.span&&0<L.span&&(h*=L.span);var p=$('<div class="col-md-'+h+'"></div>');o.append(p);var c=$('<div class="form-group"></div>');if(p.append(c),L.label){var d="",f="";if(L.labelCss)(g=Y.cls(L.labelCss))&&(d+=' class="'+g+'"'),(b=Y.style(L.labelCss))&&(d+=' style="'+b+'"');else if(L.required){var g,b;(g=Y.cls(Y.CSS.FIELD_REQUIRED))&&(d+=' class="'+g+'"'),(b=Y.style(Y.CSS.FIELD_REQUIRED))&&(d+=' style="'+b+'"'),f=" *"}if(L.id&&this.mapTooltips[L.id]?c.append($('<label for="'+L.id+'" title="'+this.mapTooltips[L.id]+'"'+d+">"+L.label+f+"</label>")):L.id?c.append($('<label for="'+L.id+'" title="'+L.label+'"'+d+">"+L.label+f+"</label>")):c.append($('<label title="'+L.label+'"'+d+">"+L.label+f+"</label>")),L.id&&this.mapLabelLinks[L.id])for(var y=0,m=this.mapLabelLinks[L.id];y<m.length;y++){var v=m[y],_=$('<span style="padding-left:8px;"></span>');c.append(_),v.mount(_)}}switch(L.type){case Y.WInputType.Blank:L.element=$(Y.build("div",L.placeholder,L.style,L.attributes,L.id,L.classStyle));break;case Y.WInputType.Text:var C='<input type="text" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" ';L.readonly&&(C+="readonly "),0==L.enabled&&(C+="disabled "),L.style&&(C+=' style="'+Y.style(L.style)+'"'),C+="/>",L.element=$(C);break;case Y.WInputType.Note:var w='<textarea name="'+L.id+'" id="'+L.id+'" class="form-control" ';L.attributes&&(w+=L.attributes+" "),L.readonly&&(w+="readonly "),0==L.enabled&&(w+="disabled "),L.style&&(w+=' style="'+Y.style(L.style)+'"'),w+="></textarea>",L.element=$(w);break;case Y.WInputType.Date:this.dpids.push(L.id);var x='<div class="input-group" id="igd-'+L.id+'">';x+='<span class="input-group-addon">'+Y.buildIcon(Y.WIcon.CALENDAR)+"</span> ",x+='<input type="text" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" ',L.readonly&&(x+="readonly "),0==L.enabled&&(x+="disabled "),x+="/></div>",L.element=$(x);break;case Y.WInputType.CheckBox:L.element=$('<input type="checkbox" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" style="height:16px" />');break;case Y.WInputType.Radio:L.component&&L.component.mount(c);break;case Y.WInputType.Select:var S="";if(L.attributes?(S+='<select name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" '+L.attributes,!L.readonly&&0!=L.enabled||(S+=" disabled")):(S+='<select name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'"',!L.readonly&&0!=L.enabled||(S+="disabled")),S+=">",L.options&&0<L.options.length)for(var O=0;O<L.options.length;O++){var T=L.options[O];S+="string"==typeof T?"<option>"+T+"</option>":'<option value="'+T.id+'">'+T.text+"</option>"}S+="</select>",L.element=$(S);break;case Y.WInputType.Email:var I='<input type="text" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" ';L.readonly&&(I+="readonly "),0==L.enabled&&(I+="disabled "),L.style&&(I+=' style="'+Y.style(L.style)+'"'),I+="/>",L.element=$(I);break;case Y.WInputType.Ftp:var W='<input type="text" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" ';L.readonly&&(W+="readonly "),0==L.enabled&&(W+="disabled "),L.style&&(W+=' style="'+Y.style(L.style)+'"'),W+="/>",L.element=$(W);break;case Y.WInputType.Password:var R='<input type="password" name="'+L.id+'" id="'+L.id+'" class="'+this.inputClass+'" ';L.readonly&&(R+="readonly "),0==L.enabled&&(R+="disabled "),L.style&&(R+=' style="'+Y.style(L.style)+'"'),R+="/>",L.element=$(R);break;case Y.WInputType.Cron:var D="";null!=L.value&&""!=L.value&&(D='initial: "'+L.value+'" ,');var A='<div id="cron_'+L.id+'" class="'+this.inputClass+'" ';L.readonly&&(A+="readonly "),0==L.enabled&&(A+="disabled "),A+=" ></div>",A+='<script type="text/javascript">$(document).ready(function() {',A+='$("#cron_'+L.id+'").cron({'+D+'onChange: function() {$("#'+L.id+'").val($(this).cron("value"));},useGentleSelect: true});',A+='});<\/script><input type="hidden" name="'+L.id+'" id="'+L.id+'" />',L.element=$(A);break;case Y.WInputType.Component:L.component&&(0!=L.enabled&&!L.readonly||(L.component.enabled=!1),L.component.mount(c),L.onmount&&L.onmount(L),L.onfocus&&L.component.on("focus",L.onfocus),L.onblur&&L.component.on("blur",L.onblur))}L.element&&(c.append(L.element),L.type==Y.WInputType.Text&&("c"==L.valueType||"c5"==L.valueType?(L.element.focus(function(t){if(this.value){var e=Y.formatNum(this.value);0<=e.indexOf(",00")&&e.indexOf(",00")==e.length-3&&(e=e.substring(0,e.length-3)),0<=e.indexOf(",0")&&e.indexOf(",0")==e.length-2&&(e=e.substring(0,e.length-3)),this.value=e,$(this).select()}}),"c"==L.valueType?L.element.blur(function(t){this.value&&(this.value=Y.formatCurr(Y.WUtil.toNumber(this.value)))}):L.element.blur(function(t){this.value&&(this.value=Y.formatCurr5(Y.WUtil.toNumber(this.value)))})):"n"==L.valueType?(L.element.focus(function(t){this.value&&(this.value=Y.formatNum(this.value),$(this).select())}),L.element.blur(function(t){this.value&&(this.value=Y.formatNum(this.value))})):"i"==L.valueType?(L.element.focus(function(t){this.value&&(this.value=Y.WUtil.toInt(this.value),$(this).select())}),L.element.blur(function(t){this.value&&(this.value=Y.WUtil.toInt(this.value))})):L.element.focus(function(t){$(this).select()})),null==L.visible||L.visible||(L.element.hide(),L.label&&$('label[for="'+L.id+'"]').hide()),L.onmount&&L.onmount(L),L.onfocus&&L.element.focus(L.onfocus),L.onblur&&L.element.focus(L.onblur))}}for(var E=0,k=this.hiddens;E<k.length;E++){var L;null==(L=k[E]).value&&(L.value=""),this.root.append('<input type="hidden" name="'+L.id+'" id="'+L.id+'" value="'+L.value+'">')}if(this.footer&&0<this.footer.length){var N=Y.style(this.footerStyle);if(this.footerClass||(this.footerClass="col-md-12"),N=N?' style="'+N+'"':' style="text-align:right;"',this.footerSep)if("string"==typeof this.footerSep){var M=this.footerSep.charAt(0);"<"==M?this.root.append(this.footerSep):Y.WUtil.isNumeric(M)&&this.root.append('<div style="height:'+this.footerSep+'px;"></div>')}else this.root.append('<div style="height:'+this.footerSep+'px;"></div>');var U=$('<div class="row"></div>');this.root.append(U);var F=$('<div class="'+this.footerClass+'"'+N+"></div>");U.append(F);for(var P=0,H=this.footer;P<H.length;P++){var B=H[P];"string"==typeof B&&0<B.length?F.append($(B)):B instanceof Y.WComponent?B.mount(F):F.append(B)}}function V(h){var t=Y.WUtil.getDate(j.minValues,h);$("#"+h).datepicker({language:"it",todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0,minDate:t}).on("changeDate",function(t){if(u.handlers._changedate)for(var e=0,n=u.handlers._changedate;e<n.length;e++)(0,n[e])(t);var r=Y.WUtil.getDate(u.minValues,h),i=Y.WUtil.getDate(u.maxValues,h);if(r||i){var o=Y.WUtil.getDate(t,"date");if(o){var s=Y.WUtil.toInt(o);if(!(s<19000101)){var a=Y.WUtil.toInt(r);19000101<=a&&s<a&&(Y.showWarning(Y.RES.ERR_DATE),$(t.target).datepicker("setDate",r));var l=Y.WUtil.toInt(i);19000101<=l&&l<s&&(Y.showWarning(Y.RES.ERR_DATE),$(t.target).datepicker("setDate",i))}}}})}for(var j=this,X=0,G=this.dpids;X<G.length;X++)V(G[X]);"object"==typeof this.state&&this.updateView(),this.root.find("input").keypress(function(t){if(13==t.which){for(var e=$(t.target).attr("id"),n=u.next(e);n&&!u.isFocusable(n);)n=u.next(n.id);n&&u.nextOnEnter?(n.component?n.component.focus():n.element&&("DIV"==n.element.prop("tagName")?n.element.find("input").focus():n.element.focus()),u.stateChangeOnBlur||(u.lastChanged=u.ripId(e),u.trigger("statechange"))):(u.lastChanged=u.ripId(e),u.trigger("statechange")),u.trigger("_enter",u.ripId(e))}}),this.stateChangeOnBlur&&this.root.find("input").blur(function(t){u.lastChanged=u.ripId($(t.target).attr("id")),u.trigger("statechange")}),this.root.on("change","select",function(t){var e=(new Date).getTime();u.lastTs&&e-u.lastTs<200||(u.lastTs=e,u.lastChanged=u.ripId($(t.target).attr("id")),u.trigger("statechange"))})},j.prototype.isFocusable=function(t){return!(!t||t.readonly||null!=t.enabled&&!t.enabled)},j.prototype.updateState=function(t){B.prototype.updateState.call(this,t),this.mounted&&(!t||$.isEmptyObject(t)?this.clear():this.updateView())},j.prototype.isBlank=function(t){if(t)return!(0===(i=this.getValue(t))||i&&(""+i).trim());for(var e=0;e<this.rows.length;e++)for(var n=this.rows[e],r=0;r<n.length;r++){var i,o=n[r];if(0==(i=this.getValue(o)))return!1;if(i)return!1;if((""+i).trim())return!1}return!0},j.prototype.isZero=function(t){var e=this.getValue(t);return!e||"0"==e||!(""+e).trim()},j.prototype.match=function(t,e){var n=this.getValue(t);return Y.WUtil.toString(n)==Y.WUtil.toString(e)},j.prototype.transferTo=function(t,e,n){var r;if(t instanceof Y.WFormPanel){t.clear(),r=B.prototype.transferTo.call(this,t,e);for(var i=0;i<this.rows.length;i++)for(var o=this.rows[i],s=0;s<o.length;s++){var a=o[s];if(a.component){var l=t.getField(this.ripId(a.id));l&&l.component&&(r=r&&a.component.transferTo(l.component))}}n&&n()}else r=B.prototype.transferTo.call(this,t,e,n);return r},j.prototype.clear=function(){this.debug&&console.log("WUX.WFormPanel.clear");for(var t=0;t<this.components.length;t++)this.components[t].id&&this.components[t].setState(null);for(var e in this.internals)this.internals.hasOwnProperty(e)&&(this.internals[e]=null);if(!this.root)return this;var n=this.root[0];if(!n||!n.elements)return this;for(var r=0;r<n.elements.length;r++){var i=n.elements[r];switch(i.type){case"checkbox":case"radio":i.checked=!1;break;case"select-one":case"select-multiple":i.selectedIndex=-1;break;default:i.value=""}}return this},j.prototype.select=function(t,e){if(!t)return this;var n=this.getField(t);if(!n||!n.component)return this;var r=n.component.select;return"function"==typeof r?r.bind(n.component)(e):console.error("WFormPanel.select("+t+","+e+") not applicable."),this},j.prototype.setValue=function(t,e,n){if(void 0===n&&(n=!0),this.debug&&console.log("WUX.WFormPanel.setValue("+t+","+e+","+n+")"),!t)return this;var r=this.subId(t);if(n&&(this.state||(this.state={}),this.state[t]=e),void 0!==this.internals[t])return void 0===e&&(e=null),this.internals[t]=e,this;for(var i=0,o=this.components;i<o.length;i++){var s=o[i];if(s.id==r)return s.setState(e),this}if(!this.root||!this.root.length)return this;if("number"==typeof e&&(e=Y.formatNum(e)),!(this.dpids&&0<=this.dpids.indexOf(r))){var a=this.root.find("[name="+r+"]");if(a.length||(a=$("#"+r)),!a.length)return this;switch(null==e&&(e=""),a.attr("type")){case"checkbox":case"radio":a.prop("checked",e);break;default:e instanceof Date?a.val(Y.formatDate(e)):Array.isArray(e)?a.val(e):a.val(Y.den(e.toString()))}return this}$("#"+r).datepicker("setDate",Y.WUtil.toDate(e))},j.prototype.getValue=function(t){if(t){var e,n;n="string"==typeof t?(e=this.subId(t),t):(e=t.id,t.id);for(var r=0,i=this.components;r<i.length;r++){var o=i[r];if(o.id==e)return o.getState()}if(void 0!==this.internals[n])return this.internals[n];if(this.root&&this.root.length){var s=this.root.find("[name="+e+"]");if(s.length||(s=$("#"+e)),s.length){var a=s.get(0);if(a)switch(a.type){case"checkbox":return a.checked;case"select-multiple":for(var l=[],h=0;h<a.length;h++)l.push(a.options[h].value);return l}return s.val()}}}},j.prototype.getValues=function(t){if(!this.root||!this.root.length)return{};var e={};for(var n in this.internals)if(this.internals.hasOwnProperty(n)){var r=this.internals[n];null!=r&&(e[n]=r)}var i=this.root[0];if(!i||!i.elements)return e;for(var o=0;o<i.elements.length;o++){var s=i.elements[o];if(s.name&&s.value){var a=s.name;switch(s.type){case"checkbox":e[this.ripId(a)]=s.checked;break;case"radio":s.checked&&(e[this.ripId(a)]=s.value);break;case"select-one":e[this.ripId(a)]=s.options[s.selectedIndex].value;break;case"select-multiple":for(var l=[],h=0;h<s.length;h++)s.options[h].selected&&l.push(s.options[h].value);e[this.ripId(a)]=l;break;case"text":case"textarea":e[this.ripId(a)]=Y.norm(s.value);break;default:e[this.ripId(a)]=s.value}}}for(var u=0,p=this.components;u<p.length;u++){var c=p[u];if(c.id){var d=null;if(null==(d=t?Y.format(c):c.getState()))continue;e[this.ripId(c.id)]=d}}return e},j.prototype.updateView=function(){if(this.debug&&console.log("WUX.WFormPanel.updateView()"),this.state)for(var t in this.state)this.setValue(t,this.state[t],!1);else this.clear()},j.prototype.validate=function(){for(var t=this.getValues(),e=0;e<this.rows.length;e++)for(var n=this.rows[e],r=0;r<n.length;r++){var i=n[r],o=i.id,s=this.ripId(o);if(i.required&&null==t[s])throw new Error("Campo "+i.label+": valore obbligatorio");if(i.size&&null!=t[s]&&t[s].length>i.size)throw new Error("Campo "+i.label+': dimensione massima superata (massimo " + f.size + " caratteri)');if(i.type&&null!=t[s]){var a=null;switch(i.type==Y.WInputType.Date&&(t[s]=Y.WUtil.toDate(t[s])),i.type){case Y.WInputType.Number:new RegExp("^\\d+\\.\\d{1,2}$|^\\d*$").test(t[s])||(a="Campo "+i.label+": valore non idoneo ("+t[s]+" non risulta numerico)");break;case Y.WInputType.Integer:new RegExp("^\\d*$").test(t[s])||(a="Campo "+i.label+": valore non idoneo ("+t[s]+" non risulta intero)");break;case Y.WInputType.Email:new RegExp(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/).test(t[s])||(a="Campo "+i.label+": valore non idoneo ("+t[s]+" non risulta email)");break;case Y.WInputType.Ftp:new RegExp(/(((ftp:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(t[s])||(a="Campo "+i.label+": valore non idoneo ("+t[s]+" non risulta URL FTP)")}if(null!=a)throw new Error(a)}}return t},j);function j(t,e,n,r){var i=B.call(this,t,"WFormPanel",r)||this;return i.rootTag="form",i._attributes=n?'role="form" name="'+i.id+'" action="'+n+'"':'role="form" name="'+i.id+'" action="javascript:void(0);"',i.stateChangeOnBlur=!1,i.inputClass=Y.CSS.FORM_CTRL,i.title=e,i.nextOnEnter=!0,i.autoValidate=!1,i.init(),i}Y.WFormPanel=V;var X,G=(X=Y.WComponent,__extends(K,X),K.prototype.onShow=function(t){this.handlers._onshow||(this.handlers._onshow=[]),this.handlers._onshow.push(t)},K.prototype.onHide=function(t){this.handlers._onhide||(this.handlers._onhide=[]),this.handlers._onhide.push(t)},K.prototype.onClose=function(t){this.handlers._onclose||(this.handlers._onclose=[]),this.handlers._onclose.push(t)},Object.defineProperty(K.prototype,"header",{get:function(){var e=this;return this.cntHeader||(this.cntHeader=new s("","modal-header",this.headerStyle),this.btnCloseHeader=new S(this.subId("bhc"),'<span aria-hidden="true" tabIndex="-1">&times;</span><span class="sr-only">Close</span>',void 0,"close",{op:.6}),this.btnCloseHeader.on("click",function(t){e.close()}),this.cntHeader.add(this.btnCloseHeader)),this.cntHeader},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new s("",Y.cls(this._classStyle))),this.cntBody},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"container",{get:function(){if(this.cntRoot)return this.cntRoot;var t="",e={};return this.width&&(e.w=this.width),this.height&&(e.h=this.height),this.background&&(e.bg=this.background),this.color&&(e.c=this.color),t="top"==this.position?this.gap?(e.ml=Y.WUtil.getNumber(Y.global.window_top,"ml")+this.gap,Y.css(Y.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",t:this.gap},this._style,e)):Y.css(Y.global.window_top,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,e):this.gap?(e.ml=Y.WUtil.getNumber(Y.global.window_bottom,"ml")+this.gap,Y.css(Y.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)",bt:this.gap},this._style,e)):Y.css(Y.global.window_bottom,{d:"none",b:"rgba(0,0,0,0)",bs:"0 1px 3px rgba(0, 0, 0, 0.6)"},this._style,e),this.cntRoot=new s(this.id,this._classStyle,t,this._attributes),this.cntRoot},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"title",{get:function(){return this._title},set:function(t){this._title&&this.cntHeader?(this._title=t,this.cntHeader.getRoot().children(this.tagTitle+":first").text(t)):(this._title=t,this.header.add(this.buildTitle(t)))},enumerable:!0,configurable:!0}),K.prototype.show=function(t){if(this.beforeShow()&&(this.parent=t,this.mounted||WuxDOM.mount(this),this.root&&this.root.length&&(this.isShown=!0,this.isClosed=!1,this.root.show()),this.handlers._onshow))for(var e=0,n=this.handlers._onshow;e<n.length;e++)(0,n[e])(this.createEvent("_onshow"))},K.prototype.hide=function(){if(this.isShown=!1,this.root&&this.root.length&&this.root.hide(),this.handlers._onhide)for(var t=0,e=this.handlers._onhide;t<e.length;t++)(0,e[t])(this.createEvent("_onhide"))},K.prototype.close=function(){if(this.isClosed=!0,this.handlers._onclose)for(var t=0,e=this.handlers._onclose;t<e.length;t++)(0,e[t])(this.createEvent("_onclose"));this.hide()},K.prototype.scroll=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=4),!t||!this.root)return 0;var r=t instanceof Y.WComponent?t.getRoot():t;if("top"==this.position){var i=$(document).scrollTop(),o=(a=r.offset().top)-i-2,s=this.root.height();if(e&&s<e&&(s=e),o<s)return i<(d=o-s)?$(document).scrollTop(0):$(document).scrollTop(i-d),d}else{var a;if(i=$(document).scrollTop(),!(a=r.offset().top)){var l=r.position();l&&(a=l.top)}var h=r.height(),u=a+(h=h||18)-i+2,p=$(window).height();s=this.root.height(),e&&s<e&&(s=e);var c=p-s;if(c<u){var d=u-c+n;return $(document).scrollTop(i+d),d}}return 0},K.prototype.scrollY=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=4),"top"==this.position){var r=$(document).scrollTop(),i=t-2,o=this.root.height();if(e&&o<e&&(o=e),i<o)return r<(h=i-o)?$(document).scrollTop(0):$(document).scrollTop(r-h),h}else{r=$(document).scrollTop();var s=t+n/2+2,a=$(window).height();o=this.root.height(),e&&o<e&&(o=e);var l=a-o;if(l<s){var h=s-l+n;return $(document).scrollTop(r+h),h}}return 0},K.prototype.beforeShow=function(){return!0},K.prototype.onShown=function(){},K.prototype.onHidden=function(){},K.prototype.render=function(){return this.isShown=!1,this.isClosed=!1,this.cntHeader&&this.container.addContainer(this.cntHeader),this.cntBody&&this.container.addContainer(this.cntBody),this.cntRoot},K.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnCloseHeader&&this.btnCloseHeader.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntRoot&&this.cntRoot.unmount()},K.prototype.buildTitle=function(t){if(null==t)return"";if(this.tagTitle||(this.tagTitle="h3"),this.titleStyle){var e=Y.style(this.titleStyle);if(e)return"<"+this.tagTitle+' style="'+e+'">'+Y.WUtil.toText(t)+"</"+this.tagTitle+">"}return"<"+this.tagTitle+">"+Y.WUtil.toText(t)+"</"+this.tagTitle+">"},K.DEF_HEADER_STYLE={p:5,a:"center"},K);function K(t,e,n,r,i){void 0===e&&(e="WWindow");var o=X.call(this,t||"*",e,i,"","",r)||this;return o.position=n,o.position||(o.position="bottom"),o.headerStyle=K.DEF_HEADER_STYLE,o.id&&"*"!=o.id&&$("#"+o.id).length&&$("#"+o.id).remove(),WuxDOM.onRender(function(t){o.mounted||o.mount(t.element)}),o}Y.WWindow=G}(WUX=WUX||{});
//# sourceMappingURL=wux.min.js.map
