var WUX,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||((n=n||Array.prototype.slice.call(e,0,r))[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},WuxDOM=function(){function h(){}return h.onRender=function(t){h.renderHandlers.push(t)},h.onUnmount=function(t){h.unmountHandlers.push(t)},h.getLastContext=function(){return h.lastCtx},h.register=function(t,e){var i;if(t)return t="string"==typeof t?0==t.indexOf("#")?t.substring(1):t:t.id,e?"string"==typeof e?((i=h.components[t])&&delete h.components[t],i):h.components[t]=e:h.components[t]},h.render=function(r,o,s,a){WUX.debug&&console.log("WuxDOM.render "+WUX.str(r)+" on "+WUX.str(o)+"..."),WUX.global.init(function(){o=o||h.lastCtx||document.getElementById("view-root"),s&&s(o);var t=h.mount(r,o);if(h.lastCtx=t,a&&a(o),0<h.renderHandlers.length){for(var e={component:r instanceof WUX.WComponent?r:null,element:t,target:t.firstChild,type:"render"},i=0,n=h.renderHandlers;i<n.length;i++)(0,n[i])(e);h.renderHandlers=[]}})},h.mount=function(t,e){if(e=e||h.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+"..."),null==t)console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> invalid component");else{var i,n="string"==typeof e?(n=document.getElementById(e))||document.querySelector(e):e;if(n)return h.lastCtx=n,t instanceof WUX.WComponent?(t.mount(n),h.register(n,t)):t instanceof Element?n.append(t):((i=document.createElement("template")).innerHTML=t,n.append(i.content.firstElementChild)),WUX.debug&&console.log("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" completed."),n;console.error("WuxDOM.mount "+WUX.str(t)+" on "+WUX.str(e)+" -> context unavailable")}},h.unmount=function(t){var e;if(t=t||h.lastCtx||document.getElementById("view-root"),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+"..."),e="string"==typeof t?(e=document.getElementById(t))||document.querySelector(t):t){var i=h.register(e,"delete");if(i&&i.unmount(),e.remove(),WUX.debug&&console.log("WuxDOM.unmount "+WUX.str(t)+" completed."),0<h.unmountHandlers.length){for(var n={component:i,element:e,target:e.firstChild,type:"unmount"},r=0,o=h.unmountHandlers;r<o.length;r++)(0,o[r])(n);h.unmountHandlers=[]}return e}console.error("WuxDOM.unmount "+WUX.str(t)+" -> node unavailable")},h.replace=function(t,e){var i,n;if(e||(e=t,t=void 0),t?"string"==typeof t?(n=WUX.getComponent(t))||(i=n.getContext(),n.unmount()):t instanceof WUX.WComponent?(i=t.getContext(),t.unmount()):(i=t.parentElement)&&(i.innerHTML=""):i=h.unmount(),i=i||document.getElementById("#view-root"))return h.mount(e,i);console.error("WuxDOM.replace "+WUX.str(i)+" -> node unavailable")},h.create=function(t,e,i,n,r,o){if(e=e||"div",i){var s=document.getElementById(i);if(s)return s}var a="string"==typeof t?(a=document.getElementById(t))||document.querySelector(t):t;if(!a)return console.error("WuxDOM.create "+e+" with id="+i+" on "+WUX.str(t)+" -> node unavailable"),null;s=document.createElement(e);return i&&s.setAttribute("id",i),n&&s.setAttribute("class",n),r&&s.setAttribute("style",r),o&&("string"==typeof o?s.innerHTML=o:s.append(o)),a.append(s),s},h.components={},h.renderHandlers=[],h.unmountHandlers=[],h}(),__extends=(!function(d){d.debug=!1,d.registry=[],d.version="1.0.0";Object.defineProperty(c.prototype,"visible",{get:function(){return this.internal?this.internal.visible:this._visible},set:function(t){this._visible=t,this.internal&&(this.internal.visible=t),this.root instanceof HTMLElement&&(this._visible?this.root.style.display="block":this.root.style.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.root&&(this._enabled?this.root.removeAttribute("disabled"):this.root.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"style",{get:function(){return this.internal?this.internal.style:this._style},set:function(t){this._style=d.css(this._baseStyle,t),this.internal&&(this.internal.style=t),this.root&&this.root.setAttribute("style",this._style)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"classStyle",{get:function(){return this.internal?this.internal.classStyle:this._classStyle},set:function(t){this.internal&&(this.internal.classStyle=t);var e=!1,i=!1;t&&1<t.length&&"!"==t.charAt(0)?(t=t.substring(1),e=!0):t&&1<t.length&&"?"==t.charAt(0)&&(t=t.substring(1),i=!0),this._classStyle=e?d.removeClass(this._classStyle,t):i?d.toggleClass(this._classStyle,t):d.cls(this._baseClass,t),this.root&&(e?g(this.root,t):i?b(this.root,t):this.root.setAttribute("class",this._classStyle))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"attributes",{get:function(){return this.internal?this.internal.attributes:this._attributes},set:function(t){this._attributes=t,this.internal&&(this.internal.attributes=t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"tooltip",{get:function(){return this.internal?this.internal.tooltip:this._tooltip},set:function(t){this._tooltip=t,this.internal&&(this.internal.tooltip=t),this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),c.prototype.css=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return this;var i=s.apply(void 0,t),i=(i&&(this.classStyle=i),o.apply(void 0,t));return i&&(this.style=i),this},c.prototype.focus=function(){return this.internal&&this.internal.focus(),this.root instanceof HTMLElement&&this.root.focus(),this},c.prototype.blur=function(){return this.internal&&this.internal.blur(),this.root instanceof HTMLElement&&this.root.blur(),this},c.prototype.forceUpdate=function(t){return this.update(this.props,this.state,!1,!1,!0,t),this},c.prototype.getContext=function(){return this.context},c.prototype.getRoot=function(){if(!this.root&&this.internal)return this.internal.getRoot();if(this.root)return this.root;if(this.id){var t=document.getElementById(this.id);if(t)return t}return this.context},c.prototype.getState=function(){return this.state},c.prototype.setState=function(t,e,i){return this.debug&&console.log("["+p(this)+"] setState",t),this.update(this.props,t,!1,!0,this.forceOnChange||e,i),this},c.prototype.getProps=function(){return this.props},c.prototype.setProps=function(t,e,i){return this.debug&&console.log("["+p(this)+"] setProps",t),this.update(t,this.state,!0,!1,this.forceOnChange||e,i),this},c.prototype.on=function(t,e){if(!t)return this;for(var i="",n=0,r=t.split(" ");n<r.length;n++){var o=r[n];this.handlers[o]||(this.handlers[o]=[]),this.handlers[o].push(e),"_"!=o.charAt(0)&&"mount"!=o&&"unmount"!=o&&"statechange"!=o&&"propschange"!=o&&(i+=" "+o,this.root&&this.root.addEventListener(o,e))}return i&&this.internal&&this.internal.on(i.substring(1),e),this},c.prototype.off=function(t){var e="";if(t)for(var i=0,n=t.split(" ");i<n.length;i++){var r=n[i];if("_"!=r.charAt(0)&&"mount"!=r&&"unmount"!=r&&"statechange"!=r&&"propschange"!=r){if(e+=" "+r,this.root)for(var o=0,s=this.handlers[r];o<s.length;o++){var a=s[o];this.root.removeEventListener(r,a)}delete this.handlers[r]}}else this.handlers={};return e&&this.internal&&this.internal.off(e.substring(1)),this},c.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this.debug&&console.log("["+p(this)+"] trigger",t,e),!t)return this;var n=e&&0<e.length?e[0]:void 0;if("_"==t.charAt(0)||"mount"==t||"unmount"==t||"statechange"==t||"propschange"==t){if(void 0!==n&&("statechange"==t?this.state!=e[0]&&(this.state=e[0],this.debug&&console.log("["+p(this)+"] trigger set state",this.state)):"propschange"==t&&this.props!=e[0]&&(this.props=e[0],this.debug&&console.log("["+p(this)+"] trigger set props",this.props))),!this.handlers||!this.handlers[t])return this;for(var r=this.createEvent(t,n),o=0,s=this.handlers[t];o<s.length;o++)(0,s[o])(r)}else this.root&&(this.debug&&console.log("["+p(this)+"] trigger "+t+" on root="+p(this.root)),this.root.dispatchEvent(new Event(t,n)));return this.internal&&(this.debug&&console.log("["+p(this)+"] trigger "+t+" on internal="+p(this.internal)),(n=this.internal).trigger.apply(n,__spreadArray([t],e,!1))),this},c.prototype.unmount=function(){var t;return this.debug&&console.log("["+p(this)+"] unmount ctx="+p(this.context)+" root="+p(this.root),this.state,this.props),this.componentWillUnmount(),this.internal&&this.internal.unmount(),this.internal=void 0,this.root&&this.root.remove(),this.root=void 0,this.$r=void 0,this.id&&0<=(t=d.registry.indexOf(this.id))&&d.registry.splice(t,1),this.mounted=!1,WuxDOM.register(this.id,"delete"),this.trigger("unmount"),this},c.prototype.mount=function(t){this.debug&&console.log("["+p(this)+"] mount ctx="+p(t)+" root="+p(this.root),this.state,this.props),this.id||this.root&&(this.id=this.root.id),t&&(this.context=t),this.context||this.root&&(this.context=this.root.parentElement,this.context||(this.context=this.root));try{this.mounted&&this.unmount(),this.mounted=!1,this.context||(u=document.getElementById(this.id))&&(this.context=u),this.debug&&console.log("["+p(this)+"] componentWillMount ctx="+p(t)+" root="+p(this.root)),this.componentWillMount(),this.context&&(this.debug&&console.log("["+p(this)+"] render ctx="+p(t)+" root="+p(this.root)),(e=this.render())?e instanceof c?(this.debug&&console.log("["+p(this)+"] render -> "+p(e)),(this.internal=e).parent||(e.parent=this),e.mount(this.context),this.root||(this.id?(u=document.getElementById(this.id),this.root=u||this.internal.getRoot()):this.root=this.context)):e instanceof Element?(this.context.append(e),this.root||(this.root=e)):((i=document.createElement("template")).innerHTML=e,this.context.append(i.content.firstElementChild),(n=this.context.lastChild)instanceof Element&&(this.root=n),this.root||(this.root=this.id?document.getElementById(this.id):this.context)):(this.internal&&this.internal.mount(this.context),this.root||(this.root=this.id?document.getElementById(this.id):this.context))),this._visible||(this.internal?this.internal.visible=!1:this.root instanceof HTMLElement&&(this.root.style.display="none")),this._enabled||(this.internal?this.internal.enabled=!1:this.root.setAttribute("disabled","")),this.debug&&console.log("["+p(this)+"] componentDidMount ctx="+p(t)+" root="+p(this.root));var e,i,n,r,o=window.jQuery||null;if(o&&(this.$r=o(this.root)),this.componentDidMount(),this.root)for(var s in this.handlers)if(s&&"_"!=s.charAt(0)&&"mount"!=s&&"unmount"!=s&&"statechange"!=s&&"propschange"!=s)for(var a=0,h=this.handlers[s];a<h.length;a++){var l=h[a];this.root.addEventListener(s,l)}WuxDOM.register(this.root,this),this.mounted=!0,!this.id||this.internal&&this.internal.id==this.id||(0<=d.registry.indexOf(this.id)?(r=d.getComponent(this.id))&&r.cuid!=this.cuid&&console.error("["+p(this)+"] id already used by "+p(r)):d.registry.push(this.id)),this.trigger("mount")}catch(t){var u=p(this)+" "+p(this.context);console.error("["+p(this)+"] mount error "+u,t),this.componentDidCatch(t,u)}return this},c.prototype.componentWillUnmount=function(){},c.prototype.componentWillMount=function(){},c.prototype.render=function(){return this.buildRoot(this.rootTag)},c.prototype.componentDidMount=function(){},c.prototype.componentDidCatch=function(t,e){},c.prototype.shouldComponentUpdate=function(t,e){return"object"==typeof t||"object"==typeof e||(this.props!=t||this.state!=e)},c.prototype.componentWillUpdate=function(t,e){},c.prototype.componentDidUpdate=function(t,e){},c.prototype.updateProps=function(t){this.props=t},c.prototype.updateState=function(t){this.state=t},c.prototype.update=function(t,e,i,n,r,o){void 0===r&&(r=!1),this.debug&&console.log("["+p(this)+"] update",t,e,"propsChange="+i+",stateChange="+n+",force="+r),t=void 0===t?this.props:t;var s=this.props,a=this.state;if(this.dontTrigger=!1,this.mounted){if(r||this.shouldComponentUpdate(t,e)){try{this.debug&&console.log("["+p(this)+"] componentWillUpdate",t,e),this.componentWillUpdate(t,e),i&&(this.debug&&console.log("["+p(this)+"] updateProps",t),this.updateProps(t)),n&&(this.debug&&console.log("["+p(this)+"] updateState",e),this.updateState(e)),r&&this.mount(),this.debug&&console.log("["+p(this)+"] componentDidUpdate",s,a),this.componentDidUpdate(s,a),i&&!this.dontTrigger&&this.trigger("propschange"),n&&!this.dontTrigger&&this.trigger("statechange")}catch(t){return this.componentDidCatch(t,p(this)+"|"+p(this.context)),!1}o&&o()}}else i&&(this.debug&&console.log("["+p(this)+"] updateProps",t),this.updateProps(t),this.dontTrigger||this.trigger("propschange")),n&&(this.debug&&console.log("["+p(this)+"] updateState",e),this.updateState(e),this.dontTrigger||this.trigger("statechange"));return!0},c.prototype.createEvent=function(t,e){var i=this.root&&this.root.firstChild;return{component:this,element:this.root,target:i,type:t,data:e}},c.prototype.shouldBuildRoot=function(){if(this.internal)return!1;if(this.root)return!1;if(this.context){var t=this.context.id;if(!t&&t==this.id)return!1}return!0},c.prototype.buildRoot=function(t,e,i,n,r,o,s){if(this.debug&&console.log("["+p(this)+"] buildRoot",t,e,i,n,r,o,s),this.shouldBuildRoot())return this.debug&&console.log("["+p(this)+"] shouldBuildRoot() -> true"),this.build(t,e,i,n,r,o,s);this.debug&&console.log("["+p(this)+"] shouldBuildRoot() -> false")},c.prototype.build=function(t,e,i,n,r,o,s){void 0===n&&(n=this._classStyle),void 0===r&&(r=this._style),void 0===o&&(o=this._attributes);var a="<"+(t=t||"div"),s=((s=void 0===s?this.id:s)&&(a+=' id="'+s+'"'),n&&(a+=' class="'+n+'"'),r&&(a+=' style="'+r+'"'),d.attributes(o)),n=(s&&(a+=" "+s),d.attributes(i)),r=(n&&(a+=" "+n),a+=">",h(null==e?this.make():e));return a+=r[1],"input"==t?r[0]+a+r[2]:r[0]+(a+="</"+t+">")+r[2]},c.prototype.make=function(){return""},c.prototype.subId=function(t,e){var i;return t instanceof c?!(i=t.id)||!this.id||0!=i.indexOf(this.id+"-")?i:i.substring(this.id.length+1):(this.id&&"*"!=this.id||(this.id="w"+this.cuid),t&&"*"!=t||(t=(this.subSeq++).toString()),e||0==e?this.id+"-"+t+"-"+e:this.id+"-"+t)},c.prototype.ripId=function(t){return t&&this.id&&0==t.indexOf(this.id)&&t.length>this.id.length+1?t.substring(this.id.length+1):t},c.prototype.transferTo=function(t,e,i){return this.debug&&console.log("["+p(this)+"] transferTo "+p(t)),!!t&&(t.setState(this.getState(),e,i),!0)};var a=c;function c(t,e,i,n,r,o){this.mounted=!1,this.debug=d.debug,this.forceOnChange=!1,this.rootTag="div",this.subSeq=0,this.dontTrigger=!1,this._visible=!0,this._enabled=!0,this.handlers={},this.cuid=Math.floor(1e9*Math.random()),t instanceof Element?(this.root=t,this.root&&(this.mounted=!0),this.debug&&console.log("["+p(this)+"] new wrapper root="+p(this.root))):("string"==typeof t&&(this.id="*"==t?"w"+this.cuid:t),this.name=e||"WComponent",this._classStyle=n,(t=d.cls(r))&&(this._classStyle=this._classStyle?this._classStyle+" "+t:t),this._style=d.style(r),this._attributes=d.attributes(o),this.debug&&console.log("["+p(this)+"] new"),this.debug&&console.log("["+p(this)+"] updateProps",i),this.updateProps(i))}function n(t){if(t)return t instanceof Element||t instanceof a?t.id:"string"==typeof t&&t.indexOf("<")<0?0==t.indexOf("#")?t.substring(1):t:"object"!=typeof t||t.id?"":""+t.id}function h(t){if(!t)return["","",""];if(" "==t)return["","&nbsp;",""];var e=" "==t.charAt(0)?"&nbsp;":"",i=1<t.length&&" "==t.charAt(t.length-1)?"&nbsp;":"",n=t.trim().split("<>");return!n||n.length<2?[e,t.trim(),i]:(e+=n[0],2==n.length?[e,n[1],""]:(i+=n[2],[e,n[1],i]))}function p(t){var e,i;return t instanceof a?(i=(i=t.name)||"WComponent",(e=t.id)?i+"("+e+")":i):t instanceof Element?"Element#"+t.id:"object"==typeof t?JSON.stringify(t):t+""}function l(t){var e="";return t?"string"==typeof t?t.indexOf(":")<=0?"":";"!=t.charAt(t.length-1)?t+";":t:(t.s&&(e+=o(t.s)),t.fs&&(e+="font-style:"+t.fs+";"),t.fw&&(e+="font-weight:"+t.fw+";"),t.tt&&(e+="text-transform:"+t.tt+";"),t.tr&&(e+="transform:"+t.tr+";"),t.fl&&(e+="float:"+t.fl+";"),t.cl&&(e+="clear:"+t.cl+";"),t.a&&(e+="text-align:"+t.a+";"),t.c&&(e+="color:"+t.c+";"),t.v&&(e+="vertical-align:"+t.v+";"),t.d&&(e+="display:"+t.d+";"),t.z&&(e+="z-index:"+t.z+";"),t.lh&&(e+="line-height:"+t.lh+";"),t.ps&&(e+="position:"+t.ps+";"),t.o&&(e+="overflow:"+t.o+";"),t.ox&&(e+="overflow-x:"+t.ox+";"),t.oy&&(e+="overflow-y:"+t.oy+";"),null!=t.op&&(e+="opacity:"+t.op+";"),null!=t.ol&&(e+="outline:"+t.ol+";"),t.cr&&(e+="cursor:"+t.cr+";"),t.cn&&(e+="content:"+t.cn+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-webkit"+t.k+";":"-webkit-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-moz"+t.k+";":"-moz-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-o"+t.k+";":"-o-"+t.k+";"),t.k&&0<t.k.indexOf(":")&&(e+="-"==t.k.charAt(0)?"-ms"+t.k+";":"-ms-"+t.k+";"),t.bs&&(e+="box-shadow:"+t.bs+";"),t.bz&&(e+="box-sizing:"+t.bz+";"),t.b&&(e+=0<t.b.indexOf(":")?o("border"+t.b):t.b.match(/^(|none|inherit|initial|unset)$/)||0<t.b.indexOf(" ")?"border:"+t.b+";":"border:1px solid "+t.b+";"),t.bc&&(e+="border-collapse:"+t.bc+";"),null!=t.br&&(e+="number"==typeof t.br?"border-radius:"+t.br+"px;":"border-radius:"+t.br+";"),null!=t.bsp&&(e+="number"==typeof t.bsp?"border-spacing:"+t.bsp+"px;":"border-spacing:"+t.bsp+";"),null!=t.m&&(e+="number"==typeof t.m?"margin:"+t.m+"px;":0<t.m.indexOf(":")?o("margin"+t.m):"margin:"+t.m+";"),null!=t.mt&&(e+="number"==typeof t.mt?"margin-top:"+t.mt+"px;":"margin-top:"+t.mt+";"),null!=t.mr&&(e+="number"==typeof t.mr?"margin-right:"+t.mr+"px;":"margin-right:"+t.mr+";"),null!=t.mb&&(e+="number"==typeof t.mb?"margin-bottom:"+t.mb+"px;":"margin-bottom:"+t.mb+";"),null!=t.ml&&(e+="number"==typeof t.ml?"margin-left:"+t.ml+"px;":"margin-left:"+t.ml+";"),null!=t.p&&(e+="number"==typeof t.p?"padding:"+t.p+"px;":0<t.p.indexOf(":")?o("padding"+t.p):"padding:"+t.p+";"),null!=t.pt&&(e+="number"==typeof t.pt?"padding-top:"+t.pt+"px;":"padding-top:"+t.pt+";"),null!=t.pr&&(e+="number"==typeof t.pr?"padding-right:"+t.pr+"px;":"padding-right:"+t.pr+";"),null!=t.pb&&(e+="number"==typeof t.pb?"padding-bottom:"+t.pb+"px;":"padding-bottom:"+t.pb+";"),null!=t.pl&&(e+="number"==typeof t.pl?"padding-left:"+t.pl+"px;":"padding-left:"+t.pl+";"),null!=t.f&&(e+="number"==typeof t.f?"font-size:"+t.f+"px;":0<t.f.indexOf(":")?o("font"+t.f):"font-size:"+t.f+";"),t.bg&&(e+=0<t.bg.indexOf(":")?o("background"+t.bg):0<=t.bg.indexOf("url")?"background:"+t.bg+";":"background-color:"+t.bg+";"),t.bgi&&(e+="background-image:"+t.bgi+";"),t.bgp&&(e+="background-position:"+t.bgp+";"),t.bgr&&(e+="background-repeat:"+t.bgr+";"),t.text&&(e+=0<t.text.indexOf(":")?o("text"+t.text):"text-decoration:"+t.text+";"),null!=t.l&&(e+="number"==typeof t.l?"left:"+t.l+"px;":"left:"+t.l+";"),null!=t.r&&(e+="number"==typeof t.r?"right:"+t.r+"px;":"right:"+t.r+";"),null!=t.t&&(e+="number"==typeof t.t?"top:"+t.t+"px;":"top:"+t.t+";"),null!=t.bt&&(e+="number"==typeof t.bt?"bottom:"+t.bt+"px;":"bottom:"+t.bt+";"),t.w&&(e+="number"==typeof t.w?"width:"+t.w+"px;":"width:"+t.w+";"),t.h&&(e+="number"==typeof t.h?"height:"+t.h+"px;":"height:"+t.h+";"),t.minw&&(e+="number"==typeof t.minw?"min-width:"+t.minw+"px;":"min-width:"+t.minw+";"),t.maxw&&(e+="number"==typeof t.maxw?"max-width:"+t.maxw+"px;":"max-width:"+t.maxw+";"),t.minh&&(e+="number"==typeof t.minh?"min-height:"+t.minh+"px;":"min-height:"+t.minh+";"),t.maxh&&(e+="number"==typeof t.maxh?"max-height:"+t.maxh+"px;":"max-height:"+t.maxh+";"),t.ws&&(e+="white-space:"+t.ws+";"),e):e}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||0==t.length)return"";for(var i="",n={},r=!0,o=0;o<t.length;o++){var s=t[o];s&&("string"!=typeof s?(n=__assign(__assign({},n),s),r=!1):(r||(i+=l(n),n={},r=!0),0<s.indexOf(":")&&(i+=s,";"!=s.charAt(s.length-1)&&(i+=";"))))}return r||(i+=l(n)),i}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";for(var i="",n=0;n<t.length;n++){var r=t[n];r&&(!(r="string"==typeof r?r:r.n)||0<r.indexOf(":")||(i+=r+" "))}return i.trim()}function i(t,e){if(!t)return e;if(!e)return t;for(var i=0,n=t.split(" ");i<n.length;i++)if(n[i]==e)return t;return t+" "+e}function r(t,e){if(!t||!e)return t;for(var i="",n=0,r=t.split(" ");n<r.length;n++){var o=r[n];o!=e&&(i+=o+" ")}return i.trim()}function u(t,e){if(!t)return e;if(!e)return t;for(var i=!1,n="",r=0,o=t.split(" ");r<o.length;r++){var s=o[r];s==e?i=!0:n+=s+" "}return i?n.trim():n.trim()+" "+e}function f(t,e){t&&t.setAttribute("class",i(t.getAttribute("class"),e))}function g(t,e){t&&t.getAttribute("class")&&t.setAttribute("class",r(t.getAttribute("class"),e))}function b(t,e){t&&t.setAttribute("class",u(t.getAttribute("class"),e))}function m(){}d.WComponent=a,d.getId=n,d.firstSub=function(t,e){if(!(t=n(t)))return"";var i=t.indexOf("-");return i<0?t:e?t.substring(i+1):t.substring(0,i)},d.lastSub=function(t){if(!(t=n(t)))return"";var e=t.lastIndexOf("-");return e<0?t:0<e&&"-"==t.charAt(e-1)?t.substring(e):t.substring(e+1)},d.getComponent=function(t){if(t)return WuxDOM.components[t]},d.getRootComponent=function t(e){return e&&(e.parent?t(e.parent):e)},d.setProps=function(t,e){if(t){t=WuxDOM.components[t];if(t)return t.setProps(e),t}},d.getProps=function(t,e){return!t||!(t=WuxDOM.components[t])||null==(t=t.getProps())?e:t},d.setState=function(t,e){if(t){t=WuxDOM.components[t];if(t)return t.setState(e),t}},d.getState=function(t,e){return!t||!(t=WuxDOM.components[t])||null==(t=t.getState())?e:t},d.newInstance=function(t){if(!t)return null;var e=t.lastIndexOf(".");if(0<e){var i=t.substring(0,e);if(window[i]){var n,r=t.substring(e+1);for(n in window[i])if(n==r)return new window[i][n];return null}}return(e=window[t])&&e.prototype?Object.create(e.prototype):null},d.same=function(t,e){return"string"==typeof t&&"string"==typeof e?t==e:"string"!=typeof t&&"string"!=typeof e&&(t=n(t),e=n(e),t&&e&&t==e)},d.match=function(t,e){return e?null==t?"string"==typeof e?""==e:!e.id:"object"==typeof t?"string"==typeof e?e==t.id:e.id==t.id:"string"==typeof e?e==t:e.id==t:!t},d.divide=h,d.str=p,d.getTagName=function(t){if(!t)return"";var e;if(t instanceof a){if(e=t.rootTag)return e.toLowerCase();var i=t.getRoot();return i?"":d.getTagName(i)}return t instanceof Element?t.tagName.toLowerCase():"<"==(i=""+t).charAt(0)?0<(t=(t=i.indexOf(" "))<0?i.indexOf(">"):t)?"/"==(e=i.substring(1,t).toLowerCase()).charAt(e.length-1)?e.substring(0,e.length-1):e:"":"#"==i.charAt(0)?d.getTagName(document.getElementById(i.substring(1))):d.getTagName(document.getElementById(i))},d.style=l,d.toggleAttr=function(t,e,i,n){return t&&e&&(n=n||"",i?t.setAttribute(e,n):t.removeAttribute(e)),t},d.addStyle=function(t,e,i,n){return e&&i?t?n&&0<=t.indexOf(e+":")?o(t):o(t)+e+":"+i+";":e+":"+i+";":o(t)},d.css=o,d.cls=s,d.attributes=function(t){if(!t)return"";if("string"==typeof t)return t;if("object"!=typeof t)return"";var e,i="";for(e in t)i+=e+'="'+t[e]+'" ';return i.trim()},d.buildCss=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return"";var i=s.apply(void 0,t),n=o.apply(void 0,t),r="";return i&&(r+=' class="'+i+'"'),n&&(r+=' style="'+n+'"'),r},d.addClass=i,d.removeClass=r,d.toggleClass=u,d.addClassOf=f,d.removeClassOf=g,d.toggleClassOf=b,d.setCss=function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t&&n&&n.length&&(t instanceof a?t.css.apply(t,n):t instanceof Element&&(e=o.apply(void 0,n),(i=s.apply(void 0,n))&&f(t,i),e&&t.setAttribute("style",l(e)))),t},d.buildIcon=function(t,e,i,n,r,o){if(!t)return"";e=e||"",i=i||"";var s=d.CSS.ICON?' style="'+d.CSS.ICON+'"':"",o=o?' title="'+o+'"':"";return r=r?" "+r:"",0<t.indexOf(".")?e+'<img src="'+t+'"'+o+s+">"+i:!n||n<2?e+'<i class="fa '+t+r+'"'+o+s+"></i>"+i:e+'<i class="fa '+t+" fa-"+(n=5<n?5:n)+"x"+r+'"'+o+s+"></i>"+i},d.build=function(t,e,i,n,r,o){t=t||"div","string"==typeof i?0<i.indexOf(":")?a=i:s=i:i&&(i.n&&(s=i.n),a=d.style(i)),o&&(s?s+=" "+o:s=o);var s,a,i="<"+t;r&&(i+=' id="'+r+'"'),s&&(i+=' class="'+s+'"'),a&&(i+=' style="'+a+'"');(o=d.attributes(n))&&(i+=" "+o),i+=">",r=h(e);return i+=r[1],"input"==t?r[0]+i+r[2]:r[0]+(i+="</"+t+">")+r[2]},m.toArray=function(t){if(null==(t=t instanceof a?t.getState():t))return[];if(Array.isArray(t))return t;var e=[];return e.push(t),e},m.toArrayNumber=function(t,e){if(null==(t=t instanceof a?t.getState():t))return[];var i=[];if(Array.isArray(t))for(var n=0,r=t;n<r.length;n++){var o=r[n],s=m.toNumber(o);e&&!s||i.push(s)}else{s=m.toNumber(t);if(e&&!s)return i;i.push(s)}return i},m.toArrayString=function(t,e){if(null==(t=t instanceof a?t.getState():t))return[];var i=[];if(Array.isArray(t))for(var n=0,r=t;n<r.length;n++){var o=r[n],s=m.toString(o);e&&!s||i.push(s)}else{s=m.toString(t);if(e&&!s)return i;i.push(m.toString(t))}return i},m.splitNumbers=function(t,e){if(!t)return[];for(var i=[],n=0,r=m.toString(t).split(e);n<r.length;n++){var o=r[n];i.push(m.toNumber(o))}return i},m.toObject=function(t,e){return null!=(t=t instanceof a?t.getState():t)&&"object"==typeof t?t:e},m.toString=function(t,e){return void 0===e&&(e=""),null==(t=t instanceof a?t.getState():t)?e:"string"==typeof t?t:t instanceof Date?d.formatDate(t):"object"==typeof t&&null!=t.id?m.toString(t.id,e):Array.isArray(t)&&t.length?m.toString(t[0],e):""+t},m.toText=function(t,e){return m.toString(t,e=void 0===e?"":e).replace("<","&lt;").replace(">","&gt;")},m.toNumber=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if("number"==typeof t)return t;if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return m.toNumber(t.id,e);if(Array.isArray(t)&&t.length)return m.toNumber(t[0],e);t=(""+t).trim(),t=((t=(t=0<=t.indexOf(".")&&0<=t.indexOf(",")?t.replace(".",""):t).replace(",",".")).indexOf(".")>=e?parseFloat:parseInt)(t);return isNaN(t)?e:t},m.toInt=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if("number"==typeof t)return Math.floor(t);if(t instanceof Date)return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();if("object"==typeof t&&null!=t.id)return m.toInt(t.id,e);if(Array.isArray(t)&&t.length)return m.toInt(t[0],e);t=(""+t).replace(",","."),t=parseInt(t);return isNaN(t)?e:t},m.toIntTime=function(t,e){if(void 0===e&&(e=0),null==(t=t instanceof a?t.getState():t))return e;if(t instanceof Date)return 100*t.getHours()+t.getMinutes();if(Array.isArray(t)&&t.length)return m.toIntTime(t[0],e);t=(""+t).replace(":","").replace(".","").replace(",",""),t=parseInt(t);return isNaN(t)?e:t},m.isNumeric=function(t){return!isNaN(t)},m.checkEmail=function(t){if(!t)return"";t=m.toString(t);if(!t)return"";if(t.length<5)return"";var e=t.indexOf("@");return e<=0||t.lastIndexOf(".")<e?"":t.trim().toLowerCase()},m.starts=function(t,e){return!(!t||null==e)&&0==m.toString(t).indexOf(e)},m.ends=function(t,e){if(!t||null==e)return!1;var t=m.toString(t),i=t.lastIndexOf(e);return!(i<0)&&i==t.length-e.length},m.isEmpty=function(t){if(!t)return!0;if(Array.isArray(t)&&!t.length)return!0;if("object"!=typeof t)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},m.toBoolean=function(t,e){return void 0===e&&(e=!1),null==(t=t instanceof a?t.getState():t)?e:"boolean"==typeof t?t:"string"==typeof t&&t.length?0<="1YyTtSs".indexOf(t.charAt(0)):!!e},m.toDate=function(t,e){if(null==(t=t instanceof a?t.getState():t))return e;if(t instanceof Date)return t;if("number"==typeof t)return t<10000101?e:new Date(t/1e4,t%1e4/100-1,t%1e4%100);if("string"!=typeof t)return e;if(t.length<8)return e;var i=t.indexOf(",");return 3<(t=0<=i?t.substring(i+1):t).indexOf("-")?new Date(t.trim()):this.isNumeric(t)?(i=parseInt(t))<10000101?e:new Date(i/1e4,i%1e4/100-1,i%1e4%100):new Date(t.trim().replace(/(\d{1,2}).(\d{1,2}).(\d{4})/,"$3-$2-$1"))},m.getWeek=function(t){var t=t instanceof Date?new Date(t.getTime()):m.toDate(t),e=((t=t||new Date).setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7),new Date(t.getFullYear(),0,4));return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},m.getParam=function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return t&&t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):""},m.size=function(t){if(!t)return 0;if(Array.isArray(t))return t.length;if("object"!=typeof t)return 0;var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},m.get=function(t,e){return null==t||null==e?t:"object"==typeof t?0<(i=e.indexOf("."))?m.get(t[e.substring(0,i)],e.substring(i+1)):t[e]:null;var i},m.is=function(t,e,i){var n=m.get(e,i);if("undefined"==t)return null==n;if("null"==t)return null==n;if(null==n)return"empty"==t;if("notnull"==t)return!0;switch(t){case"array":return Array.isArray(n);case"array0":return Array.isArray(n)&&0==n.length;case"arraynot0":return Array.isArray(n)&&0<n.length;case"date":return n instanceof Date;case"empty":return m.isEmpty(n);case"nan":return isNaN(n);case"value":return n instanceof Date?!0:"object"!=typeof n&&"function"!=typeof n;default:return typeof n==t}},m.setValue=function(t,e,i){return null!=t&&"object"==typeof t&&(t[e]=i),t},m.getValue=function(t,e,i){if(!t||!e)return i;if(Array.isArray(t)&&t.length)return"-1"==e?m.getLast(t,i):m.isNumeric(e)?m.getItem(t,parseInt(e),i):m.getValue(t[0],e,i);if("object"==typeof t){if(null!=t[e])return t[e];var n=e.indexOf(".");if(0<n){var r=e.substring(0,n);if(null!=t[r])return m.getValue(t[r],e.substring(n+1),i)}}return i},m.getItem=function(t,e,i){return e<0||!(Array.isArray(t)&&t.length>e&&null!=(n=t[e]))?i:n;var n},m.getFirst=function(t,e){return!(Array.isArray(t)&&0<t.length&&null!=(t=t[0]))?e:t},m.getLast=function(t,e){return!(Array.isArray(t)&&0<t.length&&null!=(t=t[t.length-1]))?e:t},m.getNumber=function(t,e,i){return m.toNumber(m.getValue(t,e,i))},m.getInt=function(t,e,i){return m.toInt(m.getValue(t,e,i))},m.getString=function(t,e,i,n){t=m.getValue(t,e);return null==t?i:n?"?"==n?"number"==typeof t?d.formatNum(t):m.toString(t):"c"==n?d.formatCurr(t):"c5"==n?d.formatCurr5(t):"n"==n?d.formatNum(t):"n2"==n?d.formatNum2(t):"m"==n?d.formatMonth(t):"d"==n?d.formatDate(t):"dt"==n?d.formatDateTime(t):"t"==n?d.formatTime(t):m.toString(t):m.toString(t)},m.getText=function(t,e,i){return m.toText(m.getValue(t,e,i))},m.getBoolean=function(t,e,i){return m.toBoolean(m.getValue(t,e,i))},m.getDate=function(t,e,i){return m.toDate(m.getValue(t,e,i))},m.getArray=function(t,e){return m.toArray(m.getValue(t,e))},m.getArrayNumber=function(t,e,i){return m.toArrayNumber(m.getValue(t,e),i)},m.getArrayString=function(t,e,i){return m.toArrayString(m.getValue(t,e),i)},m.getObject=function(t,e,i){t=m.toObject(m.getValue(t,e));return!t&&i?{}:t},m.sort=function(t,e,i){if(void 0===e&&(e=!0),!t)return[];t=m.toArray(t);if(!i)return n=t.sort(),e?n:n.reverse();var n=t.sort(function(t,e){t=m.getValue(t,i),e=m.getValue(e,i);return t<e?-1:e<t?1:0});return e?n:n.reverse()},m.find=function(t,e,i){if(!t||!e)return null;for(var n=0,r=m.toArray(t);n<r.length;n++){var o=r[n],s=m.getValue(o,e);if(s instanceof Date&&i instanceof Date&&s.getTime()==i.getTime())return o;if(s==i)return o}return null},m.indexOf=function(t,e,i){if(!t||!e)return-1;for(var n=m.toArray(t),r=0;r<n.length;r++){var o=m.getValue(n[r],e);if(o instanceof Date&&i instanceof Date&&o.getTime()==i.getTime())return r;if(o==i)return r}return-1},m.isSameDate=function(t,e){return this.toNumber(t)==this.toNumber(e)},m.indexOfDate=function(t,e){if(!t||!e)return-1;for(var i=m.toNumber(e),n=0;n<t.length;n++)if(t[n]&&m.toNumber(t[n])==i)return n;return-1},m.round2=function(t){if(null==t)return 0;t=m.toNumber(t);return Math.round(100*t)/100},m.floor2=function(t){if(null==t)return 0;t=m.toNumber(t);return Math.floor(100*t)/100},m.ceil2=function(t){if(null==t)return 0;t=m.toNumber(t);return Math.ceil(100*t)/100},m.compare2=function(t,e){if(!t&&!e)return 0;t=Math.round(100*m.toNumber(t)),e=Math.round(100*m.toNumber(e));return t==e?0:e<t?1:-1},m.compare5=function(t,e){if(!t&&!e)return 0;t=Math.round(1e4*m.toNumber(t)),e=Math.round(1e4*m.toNumber(e));return t==e?0:e<t?1:-1},m.getCurrDate=function(t,e,i,n,r){var o=new Date;return o.setHours(0,0,0,0),t&&o.setDate(o.getDate()+t),e&&o.setMonth(o.getMonth()+e),i&&o.setFullYear(o.getFullYear()+i),n&&o.setDate(1),r&&(o.setMonth(o.getMonth()+1),o.setDate(0)),o},m.calcDate=function(t,e,i,n,r,o){return(t=t?new Date(t.getTime()):new Date).setHours(0,0,0,0),e&&t.setDate(t.getDate()+e),i&&t.setMonth(t.getMonth()+i),n&&t.setFullYear(t.getFullYear()+n),r&&t.setDate(1),o&&(t.setMonth(t.getMonth()+1),t.setDate(0)),t},m.timestamp=function(t){var t=t?m.toDate(t):new Date,e=""+(t=t||new Date).getFullYear(),i=t.getMonth()+1,i=i<10?"0"+i:""+i,n=t.getDate(),n=n<10?"0"+n:""+n,r=t.getHours(),r=r<10?"0"+r:""+r,o=t.getMinutes(),o=o<10?"0"+o:""+o,t=t.getSeconds();return e+i+n+r+o+(t<10?"0"+t:""+t)},m.nvl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(!r)return r}return t[0]}},m.eqValues=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!t&&!e)return!0;if(!t||!e)return!1;for(var r=0,o=i;r<o.length;r++){var s=o[r];if(t[s]!=e[s])return!1}return!0},m.col=function(t,e,i){var n=[];if(!t||!t.length)return n;for(var r=0,o=t;r<o.length;r++){var s=o[r];n.push(m.getItem(s,e,i))}return n},m.getSortedKeys=function(t){if(!t)return[];var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i.sort()},m.diffMinutes=function(t,e){t=m.toDate(t),e=m.toDate(e),t=t||new Date,e=e||new Date;return(t.getTime()-e.getTime())/6e4},m.diffHours=function(t,e){t=m.toDate(t),e=m.toDate(e),t=t||new Date,e=e||new Date;return(t.getTime()-e.getTime())/36e5},m.diffDays=function(t,e){t=m.toDate(t),e=m.toDate(e),t=t||new Date,e=e||new Date,t=t.getTime()-e.getTime(),e=t/864e5;return 12<t%864e5/6e4&&e++,e},m.rplObj=function(t,e,i,n){if(!t||!e||!i)return null;var r=t[e];if(!r)return null;var n=m.find(n,i,r);return n?t[e]=n:((n={})[i]=r,t[e]=n),t[e]},m.rplVal=function(t,e,i){if(!t||!e||!i)return null;var n=t[e];return n?(t[e]=n[i],t[e]):null},m.map=function(t,e,i,n,r,o){if(e=e||{},!t)return e;if(!i||!i.length)return e;n&&n.length||(n=i);for(var s=0;s<i.length;s++){var a=i[s],h=n[s];if(a&&h){var l=m.get(t,a);if(null==l&&o&&o.length>s&&(l=o[s]),r&&r.length>s)switch(r[s]){case"s":l=m.toString(l);break;case"n":l=m.toNumber(l);break;case"b":l=m.toBoolean(l);break;case"!":l=!m.toBoolean(l);break;case"d":l=m.toDate(l);break;case"a":l=m.toArray(l)}var u,a=h.indexOf(".");0<a?((u=(u=e[h.substring(0,a)])||{})[h.substring(a+1)]=l,e[h.substring(0,a)]=u):e[h]=l}}return e},d.WUtil=m}(WUX=WUX||{}),!function(l){var o={},s={},t=(l.global={locale:"it",init:function(t){l.debug&&console.log("[WUX] global.init..."),l.init0?l.initApp?l.init0(function(){return l.initApp(t)}):l.init0(t):l.initApp?l.initApp(t):t&&t()},setData:function(t,e,i){if(void 0===i&&(i=!1),o[t=t||"global"]=e,!i&&s[t])for(var n=0,r=s[t];n<r.length;n++)(0,r[n])(e)},getData:function(t,e){t=o[t=t||"global"];return null==t?e:t},onDataChanged:function(t,e){s[t=t||"global"]||(s[t]=[]),s[t].push(e)}},e.FORM="padding-top:16px;",e.FORM_GROUP="form-group",e.LBL_CLASS="active",e.SEL_WRAPPER="select-wrapper",e.FORM_CTRL="form-control",e.FORM_CHECK="form-check form-check-inline",e.CHECK_STYLE="padding-top:1rem;",e.LEVER_STYLE="",e.ICON="margin-right:8px;",e.SEL_ROW="primary-bg-a2",e.PRIMARY={bg:"#b8d4f1"},e.SECONDARY={bg:"#d1d7dc"},e.SUCCESS={bg:"#b8ddd0"},e.DANGER={bg:"#f4c7ce"},e.WARNING={bg:"#e6d3b8"},e.INFO={bg:"#e2e2e2"},e.LIGHT={bg:"#f9f8fb"},e);function e(){}function i(){}l.CSS=t,i.OK="OK",i.CLOSE="Chiudi",i.CANCEL="Annulla",i.REQ_MARK=" *",l.RES=i,l.formatDate=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),!t)return"";if(!(t=l.WUtil.toDate(t)))return"";var n=(n=t.getMonth()+1)<10?"0"+n:""+n,r=t.getDate()<10?"0"+t.getDate():""+t.getDate();return e?l.formatDay(t.getDay(),i)+", "+r+"/"+n+"/"+t.getFullYear():r+"/"+n+"/"+t.getFullYear()},l.isoDate=function(t){if(!t)return"";if(!(t=l.WUtil.toDate(t)))return"";var e=(e=t.getMonth()+1)<10?"0"+e:""+e,i=t.getDate()<10?"0"+t.getDate():""+t.getDate();return t.getFullYear()+"-"+e+"-"+i},l.formatDateTime=function(t,e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),!t)return"";if(!(t=l.WUtil.toDate(t)))return"";var r=(r=t.getMonth()+1)<10?"0"+r:""+r,o=t.getDate()<10?"0"+t.getDate():""+t.getDate(),s=t.getHours()<10?"0"+t.getHours():""+t.getHours(),a=t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes();return e?(e=t.getSeconds()<10?"0"+t.getSeconds():""+t.getSeconds(),i?l.formatDay(t.getDay(),n)+", "+o+"/"+r+"/"+t.getFullYear()+" "+s+":"+a+":"+e:o+"/"+r+"/"+t.getFullYear()+" "+s+":"+a+":"+e):i?l.formatDay(t.getDay(),n)+", "+o+"/"+r+"/"+t.getFullYear()+" "+s+":"+a:o+"/"+r+"/"+t.getFullYear()+" "+s+":"+a},l.formatTime=function t(e,i){return void 0===i&&(i=!1),null==e?"":"number"==typeof e?i?(e<1e4&&(e*=100),r=e%1e4%100,Math.floor(e/1e4)+":"+((n=Math.floor(e%1e4/100))<10?"0"+n:""+n)+":"+(r<10?"0"+r:""+r)):(9999<e&&(e=Math.floor(e/100)),Math.floor(e/100)+":"+((n=e%100)<10?"0"+n:""+n)):"string"==typeof e?(0<=(r=(r=(r=(e=0<=(r=(r=e.indexOf("T"))<0?e.indexOf(" "):r)?e.substring(r+1):e).indexOf("+"))<0?e.indexOf("-"):r)<0?e.indexOf("Z"):r)&&(e=e.substring(0,r)),t(parseInt(e.replace(":","").replace(".","")))):e instanceof Date?(n=e.getHours()<10?"0"+e.getHours():""+e.getHours(),r=e.getMinutes()<10?"0"+e.getMinutes():""+e.getMinutes(),i?n+":"+r+":"+(e.getSeconds()<10?"0"+e.getSeconds():""+e.getSeconds()):n+":"+r):"";var n,r},l.formatNum2=function(t,e,i,n){if(""===t||null==t)return"";var t=l.WUtil.toNumber(t),r=(""+Math.round(100*t)/100).replace(".",",");return null!=e&&0!=t?(null!=n&&t<0?n:e).replace("$",r):null!=i&&0==t?i.replace("$",r):r},l.formatNum=function(t,e,i,n){if(""===t||null==t)return"";var r=(""+(t=l.WUtil.toNumber(t))).replace(".",",");return null!=e&&0!=t?null!=n&&t<0?"l"==n?t.toLocaleString("it-IT"):n.replace("$",r):"l"==e?t.toLocaleString("it-IT"):e.replace("$",r):null!=i&&0==t?i.replace("$",r):r},l.formatCurr=function(t,e,i,n){if(""===t||null==t)return"";var t=l.WUtil.toNumber(t),r=(Math.round(100*t)/100).toLocaleString("it-IT"),o=r.indexOf(",");return o<0&&(r+=",00"),o==r.length-2&&(r+="0"),null!=e&&0!=t?(null!=n&&t<0?n:e).replace("$",r):null!=i&&0==t?i.replace("$",r):r},l.formatCurr5=function(t,e,i,n){if(""===t||null==t)return"";var t=l.WUtil.toNumber(t),r=(""+Math.round(1e5*t)/1e5).replace(".",",");if((s=r.indexOf(","))<0&&(r+=",00"),s==r.length-2&&(r+="0"),0<s){for(var o=r.substring(0,s),s=r.substring(s),a="",h=1;h<=o.length;h++)3<h&&(h-1)%3==0&&(a="."+a),a=o.charAt(o.length-h)+a;r=a+s}return null!=e&&0!=t?(null!=n&&t<0?n:e).replace("$",r):null!=i&&0==t?i.replace("$",r):r},l.formatBoolean=function(t){return null==t?"":t?"S":"N"},l.format=function(t){return null==t?"":"string"==typeof t?t:"boolean"==typeof t?l.formatBoolean(t):"number"==typeof t?0<=(""+t).indexOf(".")?l.formatCurr(t):l.formatNum(t):t instanceof Date?l.formatDate(t):t instanceof l.WComponent?l.format(t.getState()):""+t},l.formatDay=function(t,e){switch(t){case 0:return e?"Domenica":"Dom";case 1:return e?"Luned&igrave;":"Lun";case 2:return e?"Marted&igrave;":"Mar";case 3:return e?"Mercoled&igrave;":"Mer";case 4:return e?"Giove&igrave;":"Gio";case 5:return e?"Venerd&igrave;":"Ven";case 6:return e?"Sabato":"Sab"}return""},l.formatMonth=function(t,e,i){switch(100<t&&(i=Math.floor(t/100),t%=100),i=i?" "+i:"",t){case 1:return e?"Gennaio"+i:"Gen"+i;case 2:return e?"Febbraio"+i:"Feb"+i;case 3:return e?"Marzo"+i:"Mar"+i;case 4:return e?"Aprile"+i:"Apr"+i;case 5:return e?"Maggio"+i:"Mag"+i;case 6:return e?"Giugno"+i:"Giu"+i;case 7:return e?"Luglio"+i:"Lug"+i;case 8:return e?"Agosto"+i:"Ago"+i;case 9:return e?"Settembre"+i:"Set"+i;case 10:return e?"Ottobre"+i:"Ott"+i;case 11:return e?"Novembre"+i:"Nov"+i;case 12:return e?"Dicembre"+i:"Dic"+i}return""},l.saveFile=function(t,e,i){void 0===i&&(i="application/octet-stream");for(var n=atob(t),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);t=new Uint8Array(r),t=new Blob([t],{type:i}),(i=document.createElement("a")).href=URL.createObjectURL(t),i.download=e,i.click()},l.viewFile=function(t,e,i){void 0===i&&(i="application/octet-stream");for(var n=atob(t),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);var t=new Uint8Array(r),t=new Blob([t],{type:i}),s=URL.createObjectURL(t);(i=document.createElement("a")).href=s,i.target="_blank",i.rel="noopener noreferrer",i.title=e,i.click(),setTimeout(function(){URL.revokeObjectURL(s)},1e3)},l.getAction=function t(e,i,n){if(!e)return null;if("string"==typeof e){if(!(s=l.lastSub(e)))return null;var r=s.indexOf("_");if(r<=0)return null;var o=s.substring(0,r),s=s.substring(r+1).replace(/\$/g,"-");return n=n&&n.toLowerCase(),{name:o,ref:s,idx:l.WUtil.toNumber(s,-1),tag:n,comp:i}}r=e.target;if(!r)return null;if(!(o=r.tagName))return null;if(n&&n.toLowerCase()!=o.toLowerCase())return null;s=l.getId(r);if(s&&(e=t(s,i,o)))return e;e=r.parentElement;if(e){if(!(o=e.tagName))return null;if(n&&n.toLowerCase()!=o.toLowerCase())return null}return t(s=l.getId(e),i,o)},l.action=function(t,e,i,n,r,o){return"string"==typeof e&&(e=e.replace(/\-/g,"$")),i=i||"a",n=n?n.subId(t+"_"+e):t+"_"+e,0<i.indexOf("-")?'<i id="'+n+'" class="fa '+i+'" style="cursor:pointer;width:100%;"></i>':(r=r||"",o?0<o.indexOf(":")?"<"+i+' id="'+n+'" style="'+o+'">'+r+"</"+i+">":"<"+i+' id="'+n+'" class="'+o+'">'+r+"</"+i+">":"<"+i+' id="'+n+'" style="cursor:pointer;">'+r+"</"+i+">")}}(WUX=WUX||{}),this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}());!function(S){s=S.WComponent,__extends(t,s),t.prototype.render=function(){return this.isText=!1,"string"==typeof this.props&&(!this.props||this.props.indexOf("<")<0)?(this.isText=!0,this.buildRoot(this.rootTag,this.props)):this.props},t.prototype.componentDidMount=function(){this.root&&!this.isText&&(this.rootTag=this.root.tagName,this.id=this.root.getAttribute("id"),this._classStyle=this.root.getAttribute("class"),this._style=this.root.getAttribute("style"))};var s,o=t;function t(t,e,i,n,r,o){i=s.call(this,i,"Wrapp",t,n,r,o)||this;return e&&(i.rootTag=e),i}S.Wrapp=o;a=S.WComponent,__extends(h,a),h.prototype.addRow=function(t,e){null==t&&(t="row");var i=[],e=S.style(e);return e&&(t+="^"+e),i.push(t),this.grid.push(i),this},h.prototype.addCol=function(t,e){t=t||"col-12",isNaN(parseInt(t))||(t="col-"+t),this.grid.length||this.addRow();var i=this.grid[this.grid.length-1],e=S.style(e);return e&&(t+="^"+e),i.push(t),this},h.prototype.head=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e&&(t=this.ashe).push.apply(t,e),this},h.prototype.tail=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e&&(t=this.asta).push.apply(t,e),this},h.prototype.before=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t)return this;for(var i=0,n=t;i<n.length;i++){var r=n[i];r&&("string"==typeof r||r instanceof Element?this.cbef.push(new o(r)):this.cbef.push(r))}return this},h.prototype.after=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t)return this;for(var i=0,n=t;i<n.length;i++){var r=n[i];r&&("string"==typeof r||r instanceof Element?this.caft.push(new o(r)):this.caft.push(r))}return this},h.prototype.add=function(t){if(!t)return this;if("string"==typeof t)return this.add(new o(t)),this;if(t instanceof Element)return this.add(new o(t)),this;if(t.parent||(t.parent=this),this.mounted)return t.mount(this.root),this;var e,i=this.grid.length;return this._end?this.cagr.push(t):i?(e=this.grid[i=i-1].length-1,this.comp.push(t),this.sr_c.push(this.subId(i+"_"+e))):this.cbgr.push(t),this},h.prototype.addGroup=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){var n=this.addContainer(t);if(!e||!e.length)return this;for(var r=0,o=e;r<o.length;r++)(s=o[r])&&n.add(s);return this}if(!e||!e.length)return this;for(var s,a=0,h=e;a<h.length;a++)(s=h[a])&&this.add(s);return this},h.prototype.addLine=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=new h;if(n.addRow(),e){var r="1";"string"!=typeof t&&(r=(r=t.n)||"1");for(var o=0,s=e;o<s.length;o++){var a=s[o];a&&n.addCol(r,t).add(a)}}return this.add(n),this},h.prototype.addStack=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=new h;if(e){var r="12";"string"!=typeof t&&(r=(r=t.n)||"12");for(var o=0,s=e;o<s.length;o++){var a=s[o];a&&n.addRow().addCol(r,t).add(a)}}return this.add(n),this},h.prototype.addContainer=function(t,e,i,n,r,o){var s;return"string"==typeof t?(s=new h(t,e,i,n,r,o),this.add(s)):t instanceof h?(t.parent=this).add(t):(s=new h,t&&(s.classStyle=S.cls(t.classStyle,t.style),s.style=S.style(t.style),s.attributes=t.attributes),this.add(s)),s},h.prototype.addDiv=function(t,e,i,n){var r;if("number"==typeof t){if(t<1)return this;r=S.build("div",e,{h:t,n:i})}else r=S.build("div",e,t,i,n);return this.add(r)},h.prototype.end=function(){return this.parent instanceof h?this.parent.end():(this._end=!0,this)},h.prototype.componentWillMount=function(){for(var t=0,e=this.cbef;t<e.length;t++)e[t].mount(this.context)},h.prototype.render=function(){for(var t="",e=0,i=this.ashe;e<i.length;e++)t+=i[e];var n=this.grid.length;if(n){this.cbgr.length&&(t+='<div id="'+this.subId("bg")+'"></div>');for(var r=0;r<n;r++){var o=this.grid[r],s=o.length;if(s){t+="<div "+this.cs(o[0])+' id="'+this.subId(r+"_0")+'">';for(var a=1;a<s;a++)t+='<div id="'+this.subId(r+"_"+a)+'" '+this.cs(o[a])+"></div>";t+="</div>"}}}for(var h=0,l=this.asta;h<l.length;h++)t+=l[h];return this.buildRoot(this.rootTag,t)},h.prototype.componentDidMount=function(){var t=document.getElementById(this.subId("bg"));if(t)for(var e=0,i=this.cbgr;e<i.length;e++)(s=i[e]).mount(t);else for(var n=0,r=this.cbgr;n<r.length;n++)(s=r[n]).mount(this.root);for(var o=0;o<this.comp.length;o++){var s=this.comp[o];(l=document.getElementById(this.sr_c[o]))&&s.mount(l)}for(var a=0,h=this.cagr;a<h.length;a++)(s=h[a]).mount(this.root);for(var l,u=0,d=this.caft;u<d.length;u++)(l=d[u]).mount(this.context)},h.prototype.componentWillUnmount=function(){for(var t=0,e=this.caft;t<e.length;t++)e[t].unmount();for(var i=0,n=this.cagr;i<n.length;i++)n[i].unmount();for(var r=0,o=this.comp;r<o.length;r++)o[r].unmount();for(var s=0,a=this.cbgr;s<a.length;s++)a[s].unmount();for(var h=0,l=this.cbef;h<l.length;h++)l[h].unmount()},h.prototype.cs=function(t){if(!t)return"";var e=t.indexOf("^");return e<0?'class="'+t+'"':'class="'+t.substring(0,e)+'" style="'+t.substring(e+1)+'"'},h.prototype.getElement=function(t,e){if(!this.grid||!this.grid.length)return null;if(t<0&&(t=this.grid.length+t)<0&&(t=0),this.grid.length<=t)return null;if(null==e)return document.getElementById(this.subId(t+"_0"));var i=this.grid[t];return!i||i.length<2?null:(e<0&&(e=i.length-1+e)<0&&(e=0),e++,document.getElementById(this.subId(t+"_"+e)))};var a,c=h;function h(t,e,i,n,r,o){t=a.call(this,t||"*","WContainer",o,e,S.style(i),n)||this;return t.cbef=[],t.ashe=[],t.cbgr=[],t.comp=[],t.sr_c=[],t.grid=[],t._end=!1,t.cagr=[],t.asta=[],t.caft=[],t.rootTag=r?"span":"div",t}S.WContainer=c;l=S.WComponent,__extends(i,l),Object.defineProperty(i.prototype,"pages",{get:function(){return this.components?this.components.length:0},enumerable:!1,configurable:!0}),i.prototype.add=function(t){return t&&(t instanceof S.WDialog?t.addToPages(this):this.components.push(t)),this},i.prototype.addContainer=function(t,e,i,n,r,o){t=new c(t,e,i,n,r,o);return this.add(t),t},i.prototype.before=function(t){return this.cbef=t,this},i.prototype.after=function(t){return this.caft=t,this},i.prototype.first=function(){return this.setState(0),this},i.prototype.last=function(){return this.setState(this.components.length-1),this},i.prototype.back=function(){return this.setState(this.sp),this},i.prototype.next=function(){var t=this.components.length;if(!t)return!1;var e=(e=this.state)||0;return!(t<=++e)&&(this.setState(e),!0)},i.prototype.prev=function(){if(!this.components.length)return!1;var t=(t=this.state)||0;return!(--t<0)&&(this.setState(t),!0)},i.prototype.show=function(t,e,i,n){void 0===n&&(n=0);var r=this.components.length;if(!r)return null;if(r<=(t=(t=(t=t||0)<0?r+t:t)<0?0:t))return null;var o=this.components[t];return o?(e&&e(o),this.setState(t),i&&setTimeout(function(){return i(o)},n),o):null},i.prototype.curr=function(){var t=this.components.length,e=this.state;return 0<=e&&e<t?this.components[e]:null},i.prototype.render=function(){var t=this.components.length,e=(this.state||(this.state=0),this.state<0&&(this.state=t+this.state),this.state<0&&(this.state=0),this.sp=this.state,"<div");e+=' id="'+this.id+'"',this._classStyle&&(e+=' class="'+this._classStyle+'"'),this._style&&(e+=' style="'+this._style+'"'),this._attributes&&(e+=" "+this._attributes),e+=">",this.cbef&&(e+='<div id="'+this.id+'-b""></div>');for(var i=0;i<t;i++)i==this.state?e+='<div id="'+this.id+"-"+i+'" style="display:block;"></div>':e+='<div id="'+this.id+"-"+i+'" style="display:none;"></div>';return this.caft&&(e+='<div id="'+this.id+'-a""></div>'),e+="</div>"},i.prototype.updateState=function(t){this.sp=this.state,this.state=t;var e=this.components.length;if(this.state||(this.state=0),this.state<0&&(this.state=e+this.state),this.state<0&&(this.state=0),this.mounted)for(var i=0;i<e;i++){var n=document.getElementById(this.id+"-"+i);n&&(n.style.display=i==this.state?"block":"none")}},i.prototype.componentDidMount=function(){this.cbef&&(t=document.getElementById(this.id+"-b"))&&this.cbef.mount(t);for(var t,e=this.components.length,i=0;i<e;i++){var n=this.components[i],r=document.getElementById(this.id+"-"+i);r&&n.mount(r)}this.caft&&(t=document.getElementById(this.id+"-a"))&&this.caft.mount(t)},i.prototype.componentWillUnmount=function(){this.cbef&&this.cbef.unmount();for(var t=0,e=this.components;t<e.length;t++){var i=e[t];i&&i.unmount()}this.caft&&this.caft.unmount()};var l,e=i;function i(t,e,i,n,r){t=l.call(this,t||"*","WPages",r,e,i,n)||this;return t.sp=0,t.components=[],t}S.WPages=e;u=S.WComponent,__extends(n,u),Object.defineProperty(n.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"href",{get:function(){return this._href},set:function(t){this._href=t,this.root&&(t?this.root.setAttribute("href",t):this.root.removeAttribute("href"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.root&&(t?this.root.setAttribute("target",t):this.root.removeAttribute("target"))},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t="",e=(this._href&&(t+='href="'+this._href+'"'),this._target&&(t&&(t+=" "),t+='target="'+this._target+'"'),"");return this.state?e+=S.buildIcon(this.icon,""," ")+this.state:e+=S.buildIcon(this.icon),this.build(this.rootTag,e,t)},n.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},n.prototype.componentWillUpdate=function(t,e){var i="";i+=e?S.buildIcon(this.icon,""," ")+e:S.buildIcon(this.icon),this.root.innerHTML=i};var u,e=n;function n(t,e,i,n,r,o,s,a){t=u.call(this,t||"*","WLink",i,n,r,o)||this;return t.updateState(e),t.rootTag="a",t._href=s,t._target=a,t}S.WLink=e;d=S.WComponent,__extends(r,d),Object.defineProperty(r.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),r.prototype.updateState=function(t){d.prototype.updateState.call(this,t=t||""),this.root&&(this.root.innerHTML=S.buildIcon(this.props,""," ")+t)},r.prototype.for=function(t){return this.forId=S.getId(t),this},r.prototype.render=function(){var t=this.state||"";return this.forId?this.buildRoot("label",S.buildIcon(this.props,""," ")+t,'for="'+this.forId+'"',this._classStyle):this.buildRoot(this.rootTag,S.buildIcon(this.props,""," ")+t,null,this._classStyle)},r.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)};var d,p=r;function r(t,e,i,n,r,o){t=d.call(this,t||"*","WLabel",i,n,r,o)||this;return t.rootTag="span",t.updateState(e),t}S.WLabel=p;f=S.WComponent,__extends(b,f),Object.defineProperty(b.prototype,"readonly",{get:function(){return this._ro},set:function(t){this._ro=t,this.mounted&&(t?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"autofocus",{get:function(){return this._af},set:function(t){this._af=t,this.mounted&&(t?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),b.prototype.onEnter=function(t){return t&&(this.handlers._enter=[t]),this},b.prototype.updateState=function(t){t=S.WUtil.toString(t),f.prototype.updateState.call(this,t=t||""),this.root&&(this.root.value=t)},b.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state},b.prototype.render=function(){var t,e="";return this.label&&(e=this.id?'<label for="'+this.id+'">':"<label>",e=0<(t=this.label.lastIndexOf("<br"))?e+this.label.substring(0,t).replace("<","&lt;").replace(">","&gt;")+"</label><br>":e+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),"static"==this.props?e+this.build("span",this.state):(t='name="'+this.id+'"',t+=this.props?' type="'+this.props+'"':' type="text"',this.size&&(t+=' size="'+this.size+'"'),this.state&&(t+=' value="'+this.state+'"'),this.placeHolder&&(t+=' placeholder="'+this.placeHolder+'"'),this._ro&&(t+=" readonly"),this._af&&(t+=" autofocus"),e+this.build(this.rootTag,"",t))},b.prototype.componentDidMount=function(){var n=this,t=document.getElementById(this.id);t&&t.addEventListener("keydown",function(t){if("Enter"===t.key&&(t.preventDefault(),n.handlers._enter))for(var e=0,i=n.handlers._enter;e<i.length;e++)(0,i[e])(t)})};var f,g=b;function b(t,e,i,n,r,o){t=f.call(this,t||"*","WInput",e,n,r,o)||this;return t.rootTag="input",t.size=i,t}S.WInput=g;m=S.WComponent,__extends(v,m),Object.defineProperty(v.prototype,"readonly",{get:function(){return this._ro},set:function(t){this._ro=t,this.mounted&&(t?this.root.setAttribute("readonly",""):this.root.removeAttribute("readonly"))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"autofocus",{get:function(){return this._af},set:function(t){this._af=t,this.mounted&&(t?this.root.setAttribute("autofocus",""):this.root.removeAttribute("autofocus"))},enumerable:!1,configurable:!0}),v.prototype.updateState=function(t){m.prototype.updateState.call(this,t=t||""),this.root&&(this.root.value=t)},v.prototype.getState=function(){return this.root&&(this.state=this.root.value),this.state},v.prototype.render=function(){return this.props||(this.props=1),this._style?this._style.indexOf("width")<0&&(this._style+=";width:100%"):this._style="width:100%",this._attributes?this._style.indexOf("rows=")<0&&(this._attributes+=' rows="'+this.props+'"'):this._attributes='rows="'+this.props+'"',this._ro&&(this._attributes?this._attributes+=" readonly":this._attributes="readonly"),this._af&&(this._attributes?this._attributes+=" autofocus":this._attributes="autofocus"),S.build("textarea","",this._style,this._attributes,this.id,this._classStyle)},v.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&this.root.setAttribute("value",this.state)};var m,y=v;function v(t,e,i,n,r){t=m.call(this,t||"*","WTextArea",e,i,n,r)||this;return t.rootTag="textarea",e||(t.props=5),t}S.WTextArea=y;_=S.WComponent,__extends(w,_),Object.defineProperty(w.prototype,"icon",{get:function(){return this.props},set:function(t){this.update(t,this.state,!0,!1,!1)},enumerable:!1,configurable:!0}),w.prototype.setText=function(t,e){null!=e&&(this.props=e),this.setState(t)},w.prototype.render=function(){var t=this.type?'type="'+this.type+'"':"",e="";return this.state?e+=S.buildIcon(this.props,""," ")+this.state:e+=S.buildIcon(this.props),this.build(this.rootTag,e,t)},w.prototype.componentDidMount=function(){this._tooltip&&this.root.setAttribute("title",this._tooltip)},w.prototype.componentWillUpdate=function(t,e){var i="";null==t&&(t=this.props),i+=e?S.buildIcon(t,""," ")+e:S.buildIcon(t),this.root.innerHTML=i};var _,e=w;function w(t,e,i,n,r,o,s){t=_.call(this,t||"*","WButton",i,n,r,o)||this;return t.updateState(e),t.rootTag="button",t.type=s||"button",t}S.WButton=e;C=S.WComponent,__extends(O,C),Object.defineProperty(O.prototype,"checked",{get:function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:void 0,this.props},set:function(t){this.setProps(t)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tooltip",{set:function(t){this._tooltip=t;t=document.getElementById(this.id+"-l");t?t.setAttribute("title",this._tooltip):this.root&&this.root.setAttribute("title",this._tooltip)},enumerable:!1,configurable:!0}),O.prototype.getState=function(){return this.root&&(this.props=!!this.root.checked),this.state=this.props?this.value:void 0,this.state},O.prototype.updateProps=function(t){C.prototype.updateProps.call(this,t),null==this.props&&(this.props=!1),this.state=this.props?this.value:void 0,this.root&&(this.root.checked=this.props)},O.prototype.updateState=function(t){C.prototype.updateState.call(this,t),"boolean"==typeof this.state?(this.props=this.state,this.state=this.props?this.value:void 0):("true"==this.state&&(this.state="1"),this.props=this.state&&this.state==this.value),this.root&&(this.root.checked=this.props)},O.prototype.render=function(){var t='name="'+this.id+'" type="checkbox"',e=(t+=this.props?' checked="checked"':"",this.text?"&nbsp;"+this.text:""),i=(this.label?this._tooltip&&(t+=' title="'+this._tooltip+'"'):this.label="",'<label id="'+this.id+'-l" for="'+this.id+'"'),n=(this._tooltip&&(i+=' title="'+this._tooltip+'"'),i+=">"+this.label,""),r="";return(this.divClass||this.divStyle)&&(n+="<div ",this.divClass&&(n+=' class="'+this.divClass+'"'),this.divStyle&&(n+=' style="'+this.divStyle+'"'),n+=">"),this.lever?n=n+'<div class="toggles">'+i:r+=i,n&&(this.lever&&(r+='<span class="lever"'+(this.leverStyle?' style="'+this.leverStyle+'"':"")+"></span></label></div>"),r+="</div>"),n+this.build(this.rootTag,e,t)+r},O.prototype.componentDidMount=function(){var e=this;this.id&&(this.root=document.getElementById(this.id)),this.root&&this.root.addEventListener("change",function(t){e.props=!!e.root.checked,e.state=e.props?e.value:void 0})};var C,x=O;function O(t,e,i,n,r,o,s){t=C.call(this,t||"*","WCheck",n,r,o,s)||this;return t.rootTag="input",t.value=i||"1",n&&t.updateState(i),t.text=e,t}S.WCheck=x;D=S.WComponent,__extends(I,D),Object.defineProperty(I.prototype,"enabled",{get:function(){return this._enabled},set:function(t){if(this._enabled=t,this.mounted)for(var e=0;e<this.options.length;e++){var i=document.getElementById(this.id+"-"+e);i&&(t?i.removeAttribute("disabled"):i.setAttribute("disabled",""))}},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tooltip",{set:function(t){if(this._tooltip=t,this.mounted&&(this.internal&&(this.internal.tooltip=t),this.options&&this.options.length))for(var e=0;e<this.options.length;e++){var i=document.getElementById(this.id+"-"+e);i&&i.setAttribute("title",this._tooltip)}},enumerable:!1,configurable:!0}),I.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},I.prototype.getProps=function(){if(!this.options||!this.options.length)return null;for(var t=0;t<this.options.length;t++){var e=this.id+"-"+t,i=document.getElementById(e);if(i&&i.checked){i=document.getElementById(e+"-l");if(i)return i.innerText}}return S.WUtil.toString(this.state)},I.prototype.setOptions=function(t,e){if(this.options=t,!this.mounted)return this;var i=this.getState(),n=this.buildOptions();return this.root.innerHTML=n,e?this.setState(i):t&&t.length&&this.setState(t[0]),this.componentDidMount(),this},I.prototype.updateState=function(t){D.prototype.updateState.call(this,t),this.state||this.options&&this.options.length&&(this.state=this.options[0]),"object"==typeof this.state&&"id"in this.state&&(this.state=this.state.id)},I.prototype.render=function(){var t=this.buildOptions();return S.build("div",t,this._style,this._attributes,this.id,this._classStyle)},I.prototype.componentDidMount=function(){var n=this;if(this.options&&this.options.length)for(var r=this,t=0;t<this.options.length;t++)!function(t){var e=document.getElementById(r.id+"-"+t);if(!e)return;r._tooltip&&e.setAttribute("title",r._tooltip);var i=r.options[t];e.addEventListener("change",function(t){n.setState(i)})}(t)},I.prototype.componentDidUpdate=function(t,e){var i,n=-1;if(this.state){for(var r=0;r<this.options.length;r++)if(S.match(this.state,this.options[r])){n=r;break}}else n=0;0<=n&&((i=document.getElementById(this.id+"-"+n))&&(i.checked=!0))},I.prototype.buildOptions=function(){var t="",e=(this.label&&(t=(t+=this.id?'<label for="'+this.id+'">':"<label>")+this.label.replace("<","&lt;").replace(">","&gt;")+"</label> "),""),i=(null==this._enabled||this._enabled||(e=" disabled"),this.options||(this.options=[]),this.options.length);void 0===this.state&&i&&(this.state=this.options[0]);for(var n=0;n<i;n++){t+="<div",this.classDiv&&(t+=' class="'+this.classDiv+'"'),this.styleDiv&&(t+=' style="'+this.styleDiv+'"'),t+=">";var r=this.options[n],o=this.id+"-"+n;"string"==typeof r?(S.match(this.state,r)?t+='<input type="radio" value="'+r+'" name="'+this.id+'" id="'+o+'" checked'+e+">":t+='<input type="radio" value="'+r+'" name="'+this.id+'" id="'+o+'"'+e+">",t+='<label id="'+o+'-l" for="'+o+'">'+r+"</label>"):(S.match(this.state,r)?t+='<input type="radio" value="'+r.id+'" name="'+this.id+'" id="'+o+'" checked'+e+">":t+='<input type="radio" value="'+r.id+'" name="'+this.id+'" id="'+o+'"'+e+">",t+='<label id="'+o+'-l" for="'+o+'">'+r.text+"</label>"),t+="</div>"}return t};var D,M=I;function I(t,e,i,n,r,o){t=D.call(this,t||"*","WRadio",o,i,n,r)||this;return t.options=e,t.classDiv="form-check form-check-inline",t}S.WRadio=M;W=S.WComponent,__extends(A,W),A.prototype.getProps=function(){if(!this.root)return this.props;this.props=[];var t,e=this.root.options;return e&&e.length&&(0<=(t=S.WUtil.toNumber(this.root.selectedIndex,-1))&&e.length>t&&this.props.push(e[t].text)),this.props},A.prototype.findOption=function(t,e){if(void 0===e&&(e=null),!this.options)return e;t=t||"";for(var i=0,n=this.options;i<n.length;i++){var r=n[i];if("string"==typeof r){if(r==t)return r}else if(r.text==t)return r.id}return e},A.prototype.select=function(t){return this.root&&this.options&&this.setState(this.options.length>t?this.options[t]:null),this},A.prototype.addOption=function(t,e){if(!t)return this;if(this.options||(this.options=[]),this.options.push(t),!this.mounted)return this;var i=this.buildOptions();return this.root.innerHTML=i,e&&this.updateState(t),this},A.prototype.remOption=function(t){if(!t||!this.options)return this;for(var e=-1,i=0;i<this.options.length;i++){var n=this.options[i];if(n)if("string"==typeof t){if("string"==typeof n){if(n==t){e=i;break}}else if(n.id==t){e=i;break}}else if("string"==typeof n){if(n==t.id){e=i;break}}else if(n.id==t.id){e=i;break}}if(0<=e){if(this.options.splice(e,1),!this.mounted)return this;var r=this.buildOptions();this.root.innerHTML=r}return this},A.prototype.setOptions=function(t,e){if(this.options=t,!this.mounted)return this;var i=this.root.value,n=this.buildOptions();return this.root.innerHTML=n,e?this.root.value=i:t&&t.length&&("string"==typeof t[0]?this.trigger("statechange",t[0]):this.trigger("statechange",S.WUtil.getString(t[0],"id"))),this},A.prototype.updateState=function(t){W.prototype.updateState.call(this,t),this.root&&(null==this.state?this.root.value="":"string"==typeof this.state||"number"==typeof this.state?this.root.value=""+this.state:this.root.value=this.state.id)},A.prototype.render=function(){var t=this.buildOptions(),e='name="'+this.id+'"',i=(this.multiple&&(e+=' multiple="multiple"'),"");return null==this._enabled||this._enabled||(i=" disabled"),this.buildRoot("select",t,e+=i)},A.prototype.componentDidMount=function(){var t=this;this._tooltip&&this.root.setAttribute("title",this._tooltip),this.state&&(this.root.value=this.state),this.root.addEventListener("change",function(){t.trigger("statechange",t.root.value)})},A.prototype.buildOptions=function(){for(var t="",e=(this.options||(this.options=[]),""),i=0,n=this.options;i<n.length;i++){var r=n[i];"string"==typeof r?t+="<option>"+r+"</option>":(r.group&&(e!=r.group&&(e&&(t+="</optgroup>"),t+='<optgroup label="'+(e=r.group)+'">'),e=r.group),t+='<option value="'+r.id+'">'+r.text+"</option>")}return e&&(t+="</optgroup>"),t};var W,E=A;function A(t,e,i,n,r,o){t=W.call(this,t||"*","WSelect",null,n,r,o)||this;return t.rootTag="select",t.options=e,t.multiple=i,t}S.WSelect=E;T=S.WComponent,__extends(k,T),k.prototype.onSelectionChanged=function(t){this.handlers._selectionchanged||(this.handlers._selectionchanged=[]),this.handlers._selectionchanged.push(t)},k.prototype.onDoubleClick=function(t){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(t)},k.prototype.onRowPrepared=function(t){this.handlers._rowprepared||(this.handlers._rowprepared=[]),this.handlers._rowprepared.push(t)},k.prototype.clearSelection=function(){if(this.selectedRow=-1,!this.mounted)return this;var t=document.getElementById(this.id+"-b");if(t&&this.selClass)for(var e=t.childNodes,i=0;i<t.childElementCount;i++)S.removeClassOf(e[i],this.selClass);if(!this.handlers._selectionchanged)return this;for(var n=0,r=this.handlers._selectionchanged;n<r.length;n++)(0,r[n])({element:this.root,selectedRowsData:[]});return this},k.prototype.select=function(t){if(this.selectedRow=(t=t||[]).length?t[0]:-1,!this.mounted)return this;var e=document.getElementById(this.id+"-b");if(e&&this.selClass)for(var i=e.childNodes,n=0;n<e.childElementCount;n++)0<=t.indexOf(n)?S.addClassOf(i[n],this.selClass):S.removeClassOf(i[n],this.selClass);if(!this.handlers._selectionchanged)return this;for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o];this.state&&this.state.length>a&&r.push(this.state[a])}for(var h=0,l=this.handlers._selectionchanged;h<l.length;h++)(0,l[h])({element:this.root,selectedRowsData:r});return this},k.prototype.selectAll=function(t){if(!this.mounted)return this;if(t&&0<=this.selectedRow)return this.clearSelection();this.selectedRow=-1,this.state&&this.state.length&&(this.selectedRow=0);var e=document.getElementById(this.id+"-b");if(e&&this.selClass)for(var i=e.childNodes,n=0;n<e.childElementCount;n++)S.addClassOf(i[n],this.selClass);if(!this.handlers._selectionchanged)return this;for(var r=0,o=this.handlers._selectionchanged;r<o.length;r++)(0,o[r])({element:this.root,selectedRowsData:this.state});return this},k.prototype.getSelectedRows=function(){return!this.mounted||this.selectedRow<0?[]:[this.selectedRow]},k.prototype.getSelectedRowsData=function(){return!this.mounted||this.selectedRow<0||!this.state||!this.state.length||this.state.length<=this.selectedRow?[]:[this.state[this.selectedRow]]},k.prototype.render=function(){if(this.sortable&&this.sortable.length){this.soId=[],this.sortBy=[];for(var t=0;t<this.sortable.length;t++)this.sortBy.push(0)}var e="table",i=(this._classStyle&&(e=0<=this._classStyle.indexOf("table ")?this._classStyle:e+" "+this._classStyle),this.style?' style="'+this.style+'"':""),n="",r=(this.div&&(n+='<div id="'+this.id+'-c" class="'+this.div+'">'),this.selectionMode);if(r&&"none"!=r&&e.indexOf("table-hover")<0&&(e+=" table-hover"),n+='<table id="'+this.id+'" class="'+e+'"'+i+">",this.header&&this.header.length){var o=!1;if("string"==typeof this.headStyle?0<this.headStyle.indexOf("text-align")&&(o=!0):this.headStyle&&this.headStyle.a&&(o=!0),!this.hideHeader){n+=o?'<thead id="'+this.id+'-h"><tr>':'<thead id="'+this.id+'-h"><tr'+S.buildCss(this.headStyle)+">";for(var s=-1,a=0,h=this.header;a<h.length;a++){var l=h[a],u=void 0,u=0==++s?this.col0Style||this.colStyle:s==this.header.length-1?this.colLStyle||this.colStyle:o?this.headStyle:this.colStyle,d=this.widths&&this.widths.length>s?this.widths[s]:0,c={};d&&(c.w=this.widthsPerc?d+"%":d),"w"==this.getType(s)&&(c.a="center"),this.sortable&&0<=this.sortable.indexOf(s)?(d=this.subId("sort_"+s),this.soId.push(d),n+="<th"+S.buildCss(u,c)+'><a style="cursor:pointer;text-decoration:none !important;" id="'+d+'">'+l+' &nbsp;<i class="fa fa-unsorted"></i></a></th>'):n+="<th"+S.buildCss(u,c)+">"+l+"</th>"}n+="</tr></thead>"}}return n=n+('<tbody id="'+this.id+'-b"></tbody>')+"</table>",this.div&&(n+="</div>"),n},k.prototype.componentDidMount=function(){var h=this;if(this.buildBody(),this.soId)for(var t=0,e=this.soId;t<e.length;t++)!function(t){var a=document.getElementById(t);a&&a.addEventListener("click",function(t){var t=S.lastSub(S.getId(t.currentTarget)),e=t.indexOf("_");if(!(e<=0)){t=S.WUtil.toNumber(t.substring(e+1),-1);if(0<=t&&h.header&&h.header.length>t){h.reqSort=t;var e=h.handlers._sort,i=!(e&&e.length)&&h.keys&&h.keys.length>t,n=h.header[t],r=h.sortBy[t];if(r?1==r?(h.sortBy[t]=-1,n&&(a.innerHTML=n+' &nbsp;<i class="fa fa-sort-desc"></i>'),i&&h.setState(S.WUtil.sort(h.state,!1,h.keys[t]))):-1==r&&(h.sortBy[t]=0,n&&(a.innerHTML=n+' &nbsp;<i class="fa fa-unsorted"></i>')):(h.sortBy[t]=1,n&&(a.innerHTML=n+' &nbsp;<i class="fa fa-sort-asc"></i>'),i&&h.setState(S.WUtil.sort(h.state,!0,h.keys[t]))),e)for(var o=0,s=e;o<s.length;o++)(0,s[o])(h.createEvent("_sort",h.sortBy));h.reqSort=-1,h.prvSort=t}}})}(e[t]);var i=document.getElementById(this.id+"-b");i&&(i.addEventListener("click",function(t){!h.selectionMode||"none"==h.selectionMode||!(t=t.target)||!(t=t.closest("tr"))||(t=S.WUtil.toNumber(S.lastSub(t),-1))<0||h.select([t])}),i.addEventListener("dblclick",function(t){if(h.handlers._doubleclick){t=t.target;if(t){var e=t.closest("tr");if(e){var i=S.WUtil.toNumber(S.lastSub(e),-1);if(!(i<0))for(var n=h.state&&h.state.length>i?h.state[i]:null,r=0,o=h.handlers._doubleclick;r<o.length;r++)(0,o[r])({element:h.root,rowElement:e,data:n,rowIndex:i})}}}}))},k.prototype.componentDidUpdate=function(t,e){this.buildBody(),this.updSort()},k.prototype.updSort=function(){var t,e;-1!=this.prvSort&&this.reqSort!=this.prvSort&&this.sortBy[this.prvSort]&&(t=this.subId("sort_"+this.prvSort),(t=document.getElementById(t))&&((e=this.header[this.prvSort])&&(t.innerHTML=e+' &nbsp;<i class="fa fa-unsorted"></i>'),this.sortBy[this.prvSort]=0))},k.prototype.getType=function(t){return!this.types||this.types.length<=t?"":this.types[t]},k.prototype.buildBody=function(){var t=document.getElementById(this.id+"-b");if(t)if(this.state&&this.state.length)if(this.keys&&this.keys.length){this.page<1&&(this.page=1),this.plen<1&&(this.plen=10);for(var e=(this.page-1)*this.plen,i=e+this.plen,n=this.selectionMode&&"none"!=this.selectionMode?' style="cursor:pointer;"':"",r="",o=this.state?this.state.length:0,s=this.rows=0;s<o;s++)if(!this.paging||!(s<e||i<=s)){this.rows++;for(var a=this.state[s],h="",h=s==this.state.length-1&&this.footerStyle?"<tr"+S.buildCss(this.footerStyle)+' id="'+this.id+"-"+s+'"'+n+">":"<tr"+S.buildCss(this.rowStyle)+' id="'+this.id+"-"+s+'"'+n+">",l=-1,u=0,d=this.keys;u<d.length;u++){var c=a[d[u]],p="";switch(null==c&&(c=""),l++,m=this.getType(l)){case"w":p="text-center";break;case"c":case"c5":case"i":case"n":p="text-right";break;case"b":c=c?"&check;":"";break;default:"number"==typeof(c="boolean"==typeof(c=c instanceof Date?c.toLocaleDateString():c)?c?"&check;":"":c)&&(p="text-right")}var f=void 0,g=("string"==typeof(f=0==l?this.col0Style||this.colStyle:l==this.header.length-1&&this.colLStyle||this.colStyle)?0<f.indexOf("text-align")&&(p=""):f&&f.a&&(p=""),this.widths&&this.widths.length>l?this.widths[l]:0);h+="<td"+S.buildCss(f,p,{w:g})+">"+c+"</td>"}if(this.header&&this.header.length>this.keys.length)for(var b=0;b<this.header.length-this.keys.length;b++)h+="<td"+S.buildCss(this.colStyle)+"></td>";if(h+="</tr>",this.handlers._rowprepared){(m=document.createElement("template")).innerHTML=h;for(var m,y={element:this.root,rowElement:m.content.firstElementChild,data:a,rowIndex:s},v=0,_=this.handlers._rowprepared;v<_.length;v++)(0,_[v])(y);h=m.innerHTML}r+=h}t.innerHTML=r}else t.innerHTML="";else t.innerHTML=""},k.prototype.onSort=function(t){this.handlers._sort||(this.handlers._sort=[]),this.handlers._sort.push(t)};var T,e=k;function k(t,e,i,n,r,o,s){var a=T.call(this,t||"*","WTable",s,n,r,o)||this;if(a.reqSort=-1,a.prvSort=-1,a.selectedRow=-1,a.paging=!1,a.plen=10,a.page=1,a.rows=0,a.rootTag="table",a.header=e,i&&i.length)a.keys=i;else if(a.keys=[],a.header)for(var h=0;h<a.header.length;h++)a.keys.push(h);return a.widths=[],a.selClass=S.CSS.SEL_ROW,a}S.WTable=e;R=S.WComponent,__extends(L,R),Object.defineProperty(L.prototype,"enabled",{get:function(){return this.internal?this.internal.enabled:this._enabled},set:function(t){this._enabled=t,this.internal&&(this.internal.enabled=t),this.fieldset&&(this._enabled?this.fieldset.removeAttribute("disabled"):this.fieldset.setAttribute("disabled",""))},enumerable:!1,configurable:!0}),L.prototype.init=function(){return this.rows=[],this.roww=[],this.currRow=null,this.footer=[],this.captions=[],this.addRow(),this},L.prototype.onEnter=function(t){return t&&(this.handlers._enter=[t]),this},L.prototype.focus=function(){if(!this.mounted)return this;var t=this.first(!0);return t&&(t.component?t.component.focus():t.element instanceof HTMLElement&&t.element.focus()),this},L.prototype.first=function(t){if(!this.rows)return null;for(var e=0,i=this.rows;e<i.length;e++)for(var n=0,r=i[e];n<r.length;n++){var o=r[n];if(!t)return o;if((null==o.enabled||o.enabled)&&(null==o.readonly||!o.readonly))return o}return null},L.prototype.focusOn=function(t){if(!this.mounted)return this;t=this.getField(t);return t&&(t.component?t.component.focus():t.element instanceof HTMLElement&&t.element.focus()),this},L.prototype.getField=function(t){if(t)for(var e=0==t.indexOf(this.id+"-")?t:this.subId(t),i=0;i<this.rows.length;i++)for(var n=this.rows[i],r=0;r<n.length;r++){var o=n[r];if(o.id==e)return o}},L.prototype.getComponent=function(t,e){var i=this.getField(t);if(!i)return console.error("["+S.str(this)+"] Field "+t+" not found."),e;i=i.component;return i||(console.error("["+S.str(this)+"] Field "+t+" has no components."),e)},L.prototype.onField=function(t,e,i){t=this.getComponent(t);return t&&t.on(e,i),this},L.prototype.findOption=function(t,e,i){void 0===i&&(i=null),e=e||"";t=this.getComponent(t);return t&&t instanceof E?t.findOption(e,i):i},L.prototype.setOptionValue=function(t,e,i){return this.setValue(t,this.findOption(t,e,i=void 0===i?null:i)),this},L.prototype.addRow=function(t,e,i,n,r){return void 0===r&&(r="row"),this.currRow&&!this.currRow.length?this.roww[this.roww.length-1]={classStyle:t,style:e,id:i,attributes:S.attributes(n),type:r}:(this.currRow=[],this.rows.push(this.currRow),this.roww.push({classStyle:t,style:e,id:i,attributes:S.attributes(n),type:r})),this},L.prototype._add=function(t,e,i,n,r){var o=this,r=r||{};return i instanceof g?(i.readonly=!!r.readonly,i.autofocus=!!r.autofocus,i.onEnter(function(t){if(o.handlers._enter)for(var e=0,i=o.handlers._enter;e<i.length;e++)(0,i[e])(t)})):i instanceof y?(i.readonly=!!r.readonly,i.autofocus=!!r.autofocus):i.enabled=!r.readonly,r.attributes&&(i.attributes=r.attributes),r.tooltip&&(i.tooltip=r.tooltip),r.style&&(i.style=S.style(r.style)),r.id=t,r.label=e,r.component=i,r.type=n,this.currRow.push(r),this},L.prototype.addTextField=function(t,e,i){var t=this.subId(t),n=new g(t,"text",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"text",i)},L.prototype.addNumberField=function(t,e,i,n,r){var t=this.subId(t),o=new g(t,"number",0,S.CSS.FORM_CTRL),i='min="'+i+'" max="'+n+'"';return(r=r||{}).attributes?r.attributes+=" "+i:r.attributes=i,this._add(t,e,o,"number",r)},L.prototype.addPasswordField=function(t,e,i){var t=this.subId(t),n=new g(t,"password",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"password",i)},L.prototype.addDateField=function(t,e,i){var t=this.subId(t),n=new g(t,"date",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"date",i)},L.prototype.addMonthField=function(t,e,i){var t=this.subId(t),n=new g(t,"month",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"month",i)},L.prototype.addTimeField=function(t,e,i){var t=this.subId(t),n=new g(t,"time",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"time",i)},L.prototype.addEmailField=function(t,e,i){var t=this.subId(t),n=new g(t,"email",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"email",i)},L.prototype.addNoteField=function(t,e,i,n){i=i||3;t=this.subId(t),i=new y(t,i,S.CSS.FORM_CTRL);return this._add(t,e,i,"note",n)},L.prototype.addFileField=function(t,e,i){var t=this.subId(t),n=new g(t,"file",0,S.CSS.FORM_CTRL);return this._add(t,e,n,"file",i)},L.prototype.addOptionsField=function(t,e,i,n){t=this.subId(t),i=new E(t,i,!1,S.CSS.FORM_CTRL);return this._add(t,e,i,"select",n)},L.prototype.addRadioField=function(t,e,i,n){t=this.subId(t),i=new M(t,i,S.CSS.FORM_CTRL,S.CSS.CHECK_STYLE);return this._add(t,e,i,"select",n)},L.prototype.addBooleanField=function(t,e,i,n){var t=this.subId(t),r=new x(t,"");return r.divClass=S.CSS.FORM_CHECK,r.divStyle=S.CSS.CHECK_STYLE,r.classStyle=S.CSS.FORM_CTRL,r.label=i,this._add(t,e,r,"boolean",n)},L.prototype.addToggleField=function(t,e,i,n){var t=this.subId(t),r=new x(t,"");return r.lever=!0,r.divClass=S.CSS.FORM_CHECK,r.divStyle=S.CSS.CHECK_STYLE,r.classStyle=S.CSS.FORM_CTRL,r.leverStyle=S.CSS.LEVER_STYLE,r.label=i,this._add(t,e,r,"boolean",n)},L.prototype.addBlankField=function(t,e,i,n){e=new c("",e,i);return n&&e.add(n),this._add("",t,e,"blank",{})},L.prototype.addCaption=function(t,e,i,n,r){t=new p("",t=t||"",e,i,n);return this._add("","",t,"caption",r)},L.prototype.addHiddenField=function(t,e){var t=this.subId(t),e=S.WUtil.toString(e),i=new g(t,"hidden");return i.setState(e),this.currRow.push({id:t,component:i,value:e,type:"hidden"}),this},L.prototype.addInternalField=function(t,e){return void 0===e&&(e=null),this.currRow.push({id:this.subId(t),value:e,type:"internal"}),this},L.prototype.addComponent=function(t,e,i,n){return i?t?(t=this.subId(t),i.id=t,this._add(t,e,i,"component",n)):(i.id="",this._add("",e,i,"component",n)):this},L.prototype.addToFooter=function(t){return(t||this.footer)&&this.footer.push(t),this},L.prototype.componentDidMount=function(){this.fieldset=document.createElement("fieldset"),this._enabled||this.fieldset.setAttribute("disabled",""),this.root.appendChild(this.fieldset),this.main=new c(this.id+"__c",this.mainClass,this.mainStyle);for(var t=0;t<this.rows.length;t++){for(var e=this.roww[t],i=(this.main.addRow(S.cls(e.type,e.classStyle,e.style),S.style(e.style)),this.rows[t]),n=0,r=0;r<i.length;r++)(d=i[r]).component&&"hidden"!=d.type&&(n+=d.span&&0<d.span?d.span:1);for(var o,s,a,h=!!S.CSS.FORM_GROUP,r=0;r<i.length;r++)(d=i[r]).component&&("hidden"==d.type?d.component.mount(this.fieldset):(1==(a=(a=Math.floor(12/n))<1?1:a)&&n<11&&(0==r||r==n-1)&&(a=2),d.span&&0<d.span&&(a*=d.span),d.colClass?S.WUtil.starts(d.colClass,"col-")?this.main.addCol(d.colClass,d.colStyle):this.main.addCol(a+" "+d.colClass,d.colStyle):this.main.addCol(""+a,d.colStyle),"caption"!=d.type&&d.component.setState(d.value),d.label&&!d.labelComp&&(a=d.required?S.RES.REQ_MARK:"",o=S.CSS.LBL_CLASS,s="",d.labelCss?d.labelCss.indexOf(":")?s=d.labelCss:o=d.labelCss:d.classStyle&&(o=d.classStyle),a=new p(d.id+"-l",d.label+a,"",o,s),d.labelComp=a.for(d.id)),h?"select"==d.type?this.main.addGroup({classStyle:S.CSS.SEL_WRAPPER},d.labelComp,d.component):this.main.addGroup({classStyle:S.CSS.FORM_GROUP},d.labelComp,d.component):(this.main.add(d.labelComp),this.main.add(d.component))))}if(this.main.mount(this.fieldset),this.footer&&this.footer.length){this.foot=new c(this.subId("__foot"),this.footerClass,this.footerStyle);for(var l=0,u=this.footer;l<u.length;l++){var d=u[l];this.foot.addRow().addCol("12").add(d)}this.foot.mount(this.root)}},L.prototype.componentWillUnmount=function(){this.main&&this.main.unmount(),this.foot&&this.foot.unmount();for(var t=0,e=this.rows;t<e.length;t++)for(var i=0,n=e[t];i<n.length;i++){var r=n[i],o=r.component;o&&"hidden"==r.type&&o.unmount()}},L.prototype.clear=function(){for(var t=0;t<this.rows.length;t++)for(var e=this.rows[t],i=0;i<e.length;i++){var n=e[i];"caption"!=n.type&&(n.component&&n.component.setState(null),n.value=null)}return this},L.prototype.setValue=function(t,e,i){void 0===i&&(i=!0);var n=this.getField(t);return n&&("date"==n.type&&(e=S.isoDate(e)),"time"==n.type&&(e=S.formatTime(e,!1)),n.component&&n.component.setState(e),n.value=e,i&&(this.state||(this.state={}),this.state[t]=e)),this},L.prototype.setValueOf=function(t,e,i,n){void 0===n&&(n=!0);var r=this.getField(t);if(!r)return this;var o=i?i.indexOf("."):-1;return null!=e&&0<o&&(e=e[i.substring(0,o)],i=i.substring(o+1)),null!=e&&"object"==typeof e&&null!=i&&(e=e[i]),"date"==r.type&&(e=S.isoDate(e)),"time"==r.type&&(e=S.formatTime(e,!1)),r.component&&r.component.setState(e),r.value=e,n&&(this.state||(this.state={}),this.state[t]=e),this},L.prototype.getValue=function(t){t="string"==typeof t?this.getField(t):t;return t?t.component?t.component.getState():t.value:null},L.prototype.getFile=function(t,e,i){t=this.getField(t);if(!t||!t.id)return null;t=document.getElementById(t.id);if(!t||!t.files)return null;if("function"==typeof e&&(i=e,e=0),(e=e<0?t.files.length+e:e)<0||e>=t.files.length)return null;var n=t.files[e];return n?(i&&((t=new FileReader).onload=function(t){t&&t.target&&(!(t=t.target.result)||!(t=t.split(","))||t.length<2||i(n,t[1]))},t.readAsDataURL(n)),n):null},L.prototype.setOptions=function(t,e,i){t=this.getField(t);if(!t)return this;t=t.component;return(t instanceof S.WSelect||t instanceof S.WRadio)&&t.setOptions(e,i),this},L.prototype.setSpan=function(t,e){t=this.getField(t);return t&&(t.span=e),this},L.prototype.setEnabled=function(t,e){t=this.getField(t);return t&&(t.enabled=e,t.component&&(t.component.enabled=e)),this},L.prototype.setReadOnly=function(t,e){t=this.getField(t);if(!t)return this;t.readonly=e;t=t.component;return(t instanceof S.WInput||t instanceof S.WTextArea)&&(t.readonly=e),this},L.prototype.getValues=function(){for(var t={},e=0,i=this.rows;e<i.length;e++)for(var n=0,r=i[e];n<r.length;n++){var o=r[n],s=this.ripId(o.id);s&&(t[s]=o.component?o.component.getState():o.value)}return t},L.prototype.getState=function(){return this.state=this.getValues(),this.state},L.prototype.updateState=function(t){R.prototype.updateState.call(this,t),!t||S.WUtil.isEmpty(t)?this.clear():this.updateView()},L.prototype.updateView=function(){if(this.state)for(var t in this.state)this.setValue(t,this.state[t],!1);else this.clear()},L.prototype.setMandatory=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.rows)return this;for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n],o=0==o.indexOf(this.id+"-")?o:this.subId(o);i.push(o)}for(var s=0;s<this.rows.length;s++)for(var a=this.rows[s],h=0;h<a.length;h++){var l=a[h];0<=i.indexOf(l.id)?l.required=!0:l.required=!1}return this},L.prototype.checkMandatory=function(t,e,i){for(var n=(n=this.getState())||{},r="",o="",s=!1,a=0;a<this.rows.length;a++)for(var h=this.rows[a],l=0;l<h.length;l++){var u=h[l],d=this.ripId(u.id),c=n[d];u.required&&(null==c||""==c?(r+=t?","+u.label:","+d,o=o||d):s=!0)}return i&&s?"":(o&&e&&this.focusOn(o),r&&r.substring(1))};var R,e=L;function L(t,e,i){t=R.call(this,t||"*","WForm")||this;return t.rootTag="form",t._attributes=i?'role="form" name="'+t.id+'" action="'+i+'"':'role="form" name="'+t.id+'" action="javascript:void(0);"',t.title=e,S.CSS.FORM&&(0<S.CSS.FORM.indexOf(":")?t.style=S.CSS.FORM:t.classStyle=S.CSS.FORM),t.init(),t}S.WForm=e}(WUX=WUX||{}),function(l){function n(t){var e=window.jQuery||null;if(!e)return console.error("[WUX] jQuery is not available"),null;e=e(t);return e.length?e:(console.error("[WUX] !jQuery("+t+").length==true"),null)}l.BS_VER=5,l.BS_DLG_X="",l.JQ=n,l.setJQCss=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t||!e||!e.length)return t;if(t instanceof l.WComponent)t.css.apply(t,e);else if(t instanceof jQuery){if(!t.length)return t;var n=l.css.apply(void 0,e),r=l.cls.apply(void 0,e);r&&t.addClass(r),n&&t.attr("style",n)}return t};h=l.WComponent,__extends(e,h),e.prototype.addToPages=function(t,e,i,n,r,o){if(void 0===e&&(e=!0),void 0===i&&(i=!0),!(this.wp=t))return this;if(this.isShown=!1,this.contClass||(this.contClass="modal-content"),this.cntRoot=new l.WContainer(this.id),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),e&&this.cntHeader&&(this.cntHeader.style=l.css(this.cntHeader.style,n=null==n?"margin-bottom:2rem;":n),this.cntContent.addContainer(this.cntHeader)),this.cntBody&&this.cntContent.addContainer(this.cntBody),i){null==o&&(o="margin:0.25rem;");for(var s=0,a=this.buttons;s<a.length;s++){var h=a[s];h.style=l.css(h.style,o),this.footer.add(h)}this.cntFooter&&(r&&(this.cntFooter.style=l.css(this.cntFooter.style,r)),this.cntContent.addContainer(this.cntFooter))}return t.add(this.cntRoot),this.pg=t.pages-1,this},e.prototype.makeUp=function(t,e,i){return this.title=t,this.body.addRow().addCol("12").add(e),i&&(this.hh=i),this},e.prototype.onShownModal=function(t){return this.sh=t,this},e.prototype.onHiddenModal=function(t){return this.hh=t,this},Object.defineProperty(e.prototype,"header",{get:function(){return this.cntHeader||(this.cntHeader=new l.WContainer("","modal-header"),this.cntHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.cntBody||(this.cntBody=new l.WContainer("",l.cls("modal-body",this.bodyClass),"",this._attributes),this.cntBody)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this.cntFooter||(this.cntFooter=new l.WContainer("","modal-footer"),this.cntFooter)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e=this,i=(this._title=t,document.getElementById(this.subId("title")));i?i.innerText=t:(l.BS_DLG_X?"string"==typeof l.BS_DLG_X?this.btnClose=new l.WButton(this.subId("bhc"),l.BS_DLG_X,"","close"):this.btnClose=new l.WButton(this.subId("bhc"),l.BS_DLG_X.title,l.BS_DLG_X.icon,l.BS_DLG_X.classStyle,l.BS_DLG_X.style,l.BS_DLG_X.attributes):4<l.BS_VER?this.btnClose=new l.WButton(this.subId("bhc"),"","","btn-close","",'aria-label="'+l.RES.CLOSE+'"'):this.btnClose=new l.WButton(this.subId("bhc"),'<span aria-hidden="true">&times;</span>',"","close"),this.btnClose.on("click",function(t){e.close()}),this.header.add(this.buildTitle()).add(this.btnClose))},enumerable:!1,configurable:!0}),e.prototype.onClickOk=function(){return!0},e.prototype.onClickCancel=function(){return!0},e.prototype.buildBtnOK=function(){return new l.WButton(this.subId("bfo"),l.RES.OK,"","btn btn-primary button-sm","","")},e.prototype.buildBtnCancel=function(){return this.txtCancel?new l.WButton(this.subId("bfc"),this.txtCancel,"","btn btn-secondary button-sm","",""):new l.WButton(this.subId("bfc"),l.RES.CANCEL,"","btn btn-secondary button-sm","","")},e.prototype.fireOk=function(){this.onClickOk()&&this.doOk()},e.prototype.fireCancel=function(){this.onClickCancel()&&this.doCancel()},e.prototype.doOk=function(){if(this.ok=!0,this.cancel=!1,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.doCancel=function(){if(this.ok=!1,this.cancel=!0,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.buttonOk=function(){var e=this;if(this.btnOK)return this.btnOK;this.btnOK=this.buildBtnOK(),this.btnOK.on("click",function(t){e.fireOk()}),this.buttons.push(this.btnOK)},e.prototype.buttonCancel=function(){var e=this;if(this.btnCancel)return this.btnCancel;this.btnCancel=this.buildBtnCancel(),this.btnCancel.on("click",function(t){e.fireCancel()}),this.buttons.push(this.btnCancel)},e.prototype.updButtons=function(t,e){return this.btnOK&&(t?(this.btnOK.setText(t),this.btnOK.visible=!0):""==t?this.btnOK.visible=!1:(this.btnOK.setText(l.RES.OK),this.btnOK.visible=!0)),this.btnCancel&&(e?(this.btnCancel.setText(e),this.btnCancel.visible=!0):""==e?this.btnCancel.visible=!1:(this.btnCancel.setText(l.RES.CANCEL),this.btnCancel.visible=!0)),this},e.prototype.show=function(t,e){if(this.beforeShow()){if(this.ok=!1,this.cancel=!1,this.parent=t,this.ph=e,this.wp)return this.wp.show(this.pg),void this._s();this.mounted||WuxDOM.mount(this),this.$r&&(this.$r.modal({backdrop:"static",keyboard:!1,show:!1}),this.$r.modal("show"))}},e.prototype.hide=function(){if(this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.close=function(){if(this.ok=!1,this.cancel=!1,this.wp)return this.wp.back(),void this._h();this.$r&&this.$r.modal("hide")},e.prototype.beforeShow=function(){return!0},e.prototype.onShown=function(){},e.prototype.onHidden=function(){},e.prototype.render=function(){this._classStyle||(this._classStyle="modal fade"),this.mainClass||(this.mainClass=this.fullscreen?"modal-dialog modal-fullscreen":"modal-dialog modal-lg"),this.contClass||(this.contClass="modal-content"),this.isShown=!1,this.cntRoot=new l.WContainer(this.id,this._classStyle,"",'role="dialog" tabindex="-1" aria-hidden="true"'),this.cntMain=this.cntRoot.addContainer("",this.mainClass,this._style),this.cntContent=this.cntMain.addContainer("",this.contClass,this.contStyle),this.cntHeader&&this.cntContent.addContainer(this.cntHeader),this.cntBody&&this.cntContent.addContainer(this.cntBody);for(var t=0,e=this.buttons;t<e.length;t++){var i=e[t];this.footer.add(i)}return this.cntFooter&&this.cntContent.addContainer(this.cntFooter),this.cntRoot},e.prototype.componentDidMount=function(){var e=this;this.$r&&(this.$r.on("shown.bs.modal",function(t){e._s(t)}),this.$r.on("hidden.bs.modal",function(t){e._h(t)}))},e.prototype._s=function(t){t=t||{type:"shown"},this.isShown=!0,this.onShown(),this.sh&&this.sh(t)},e.prototype._h=function(t){t=t||{type:"hidden"},this.isShown=!1,this.onHidden(),this.hh&&this.hh(t),this.ph&&(this.ph(t),this.ph=null)},e.prototype.componentWillUnmount=function(){this.isShown=!1,this.btnClose&&this.btnClose.unmount(),this.btnCancel&&this.btnCancel.unmount(),this.cntFooter&&this.cntFooter.unmount(),this.cntBody&&this.cntBody.unmount(),this.cntHeader&&this.cntHeader.unmount(),this.cntContent&&this.cntContent.unmount(),this.cntMain&&this.cntMain.unmount(),this.cntRoot&&this.cntRoot.unmount()},e.prototype.buildTitle=function(){this.tagTitle||(this.tagTitle="h3");var t=this.wp?"":'  class="modal-title"';return"<"+this.tagTitle+t+' id="'+this.subId("title")+'">'+l.WUtil.toText(this._title)+"</"+this.tagTitle+">"};var h,t=e;function e(t,e,i,n,r,o,s){void 0===i&&(i=!0),void 0===n&&(n=!0);var a=h.call(this,t,e=void 0===e?"WDialog":e,void 0,r,o,s)||this;return a.pg=0,a.buttons=[],a.tagTitle="h5",n&&(i||(a.txtCancel=l.RES.CLOSE),a.buttonCancel()),i&&a.buttonOk(),a.ok=!1,a.cancel=!1,a.isShown=!1,a.id&&"*"!=a.id&&(t=document.getElementById(a.id))&&t.remove(),WuxDOM.onRender(function(t){a.mounted||a.wp||a.mount(t.element)}),a}l.WDialog=t;o=l.WComponent,__extends(i,o),i.prototype.addTab=function(t,e,i,n){i=new l.WContainer("","panel-body",i,n);return i.name=l.buildIcon(e,""," ")+t,this.tabs.push(i),i},Object.defineProperty(i.prototype,"count",{get:function(){return this.tabs?this.tabs.length:0},enumerable:!1,configurable:!0}),i.prototype.isEnabled=function(t){t<0&&(t=this.tabs.length+t);t=document.getElementById(this.id+"-p"+t);if(!t)return!1;t=t.getAttribute("class");return!t||t.indexOf("disabled")<0},i.prototype.setEnabled=function(t,e){t<0&&(t=this.tabs.length+t);t=document.getElementById(this.id+"-p"+t);if(!t)return this;var i=t.getAttribute("class");if(!i)return this;if(e){if(i.indexOf("disabled")<0)return this;i=i.replace("disabled","").trim(),t.removeAttribute("tabindex"),t.removeAttribute("aria-disabled")}else{if(0<=i.indexOf("disabled"))return this;i+=" disabled",t.setAttribute("tabindex","-1"),t.setAttribute("aria-disabled","true")}return t.setAttribute("class",i),this},i.prototype.render=function(){this.state||(this.state=0);var t="<div";this._classStyle?t+=' class="tabs-container '+this._classStyle+'"':t+=' class="tabs-container"',t+=' id="'+this.id+'"',this._style&&(t+=' style="'+this._style+'"'),this._attributes&&(t+=" "+this._attributes),t+=">",this.ulClass||(this.ulClass="nav nav-tabs"),t+='<ul class="'+this.ulClass+'" role="tablist">';for(var e=0;e<this.tabs.length;e++){var i=this.tabs[e];e==this.state?t+='<li class="nav-item" role="presentation"><'+this._t+' class="nav-link active" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+e+'" role="tab" id="'+this.id+"-p"+e+'"> '+i.name+"</"+this._t+"></li>":t+='<li class="nav-item" role="presentation"><'+this._t+' class="nav-link" '+this._a+'="tab" '+this._r+'="#'+this.id+"-"+e+'" role="tab" id="'+this.id+"-p"+e+'">'+i.name+"</"+this._t+"></li>"}t+="</ul>";var n=l.css(this.contStyle);t+='<div class="tab-content"'+(n=n&&' style="'+n+'"')+">",this.tpClass||(this.tpClass="tab-pane");for(e=0;e<this.tabs.length;e++)e==this.state?t+='<div id="'+this.id+"-"+e+'" class="'+this.tpClass+' show active" role="tabpanel"></div>':t+='<div id="'+this.id+"-"+e+'" class="'+this.tpClass+'" role="tabpanel"></div>';return t+="</div></div>"},i.prototype.componentDidUpdate=function(t,e){var i=n(".nav-tabs "+this._t+"["+this._r+'="#'+this.id+"-"+this.state+'"]');i&&i.tab("show")},i.prototype.componentDidMount=function(){var i=this;if(this.tabs.length){for(var t=0;t<this.tabs.length;t++){var e=this.tabs[t],n=document.getElementById(this.id+"-"+t);n&&e.mount(n)}this.$r.find(this._t+"["+this._a+'="tab"]').on("shown.bs.tab",function(t){var t=t.target,e="";!(e=t instanceof Element?t.getAttribute(i._r):e)||0<=(t=e.lastIndexOf("-"))&&i.setState(parseInt(e.substring(t+1)))})}},i.prototype.componentWillUnmount=function(){for(var t=0,e=this.tabs;t<e.length;t++){var i=e[t];i&&i.unmount()}};var o,t=i;function i(t,e,i,n,r){t=o.call(this,t||"*","WTab",r,e,i,n)||this;return t.tabs=[],4<l.BS_VER?(t._t="button",t._a="data-bs-toggle",t._r="data-bs-target"):(t._t="a",t._a="data-toggle",t._r="href"),t}l.WTab=t;r=l.WComponent,__extends(s,r),s.prototype.onDoubleClick=function(t){this.handlers._doubleclick||(this.handlers._doubleclick=[]),this.handlers._doubleclick.push(t)},s.prototype.updateState=function(t){this.state=t,this.state||(this.state=new Date);var t=this.state.getDate(),e=this.state.getMonth(),i=this.state.getFullYear();this.ls=1e4*i+100*(e+1)+t+""},s.prototype.render=function(){this.state||(this.state=new Date);for(var t='<table id="'+this.subId("t")+'" class="'+this.ct+'"><thead><tr>',e=0;e<7;e++){var i=6==e?0:e+1;t+='<th id="'+this.subId(i+"")+'" style="'+this.sw+'">'+l.formatDay(i,!1)+"</th>"}var t=(t+='</tr></thead><tbody id="'+this.subId("b")+'">')+this.body()+"</tbody></table>",n=this.state.getMonth(),n=100*this.state.getFullYear()+n+1,r='<a id="'+this.subId("p")+'" title="'+this.pm+'"><i class="fa fa-arrow-circle-left"></i></a>',o='<a id="'+this.subId("n")+'" title="'+this.nm+'"><i class="fa fa-arrow-circle-right"></i></a>',r='<div class="row"><div class="col-2" style="'+this.sp+'">'+r+'</div><div id="'+this.subId("m")+'" class="col-8" style="'+this.sm+'">'+l.formatMonth(n,!0,!0)+'</div><div class="col-2" style="'+this.sn+'">'+o+"</div></div>";return this.cd?r+='<div class="row"><div class="'+this.cd+'">'+t+"</div></div>":r+='<div class="row"><div class="col-12">'+t+"</div></div>",this.buildRoot(this.rootTag,r)},s.prototype.add=function(t){this.state||(this.state=new Date);var e=this.state.getDate(),i=this.state.getMonth(),n=this.state.getFullYear(),i=i+t,t=new Date(n,i,e),e=t.getMonth(),n=(e!=i&&(e=(t=new Date(n,i+1,0)).getMonth()),t.getFullYear());return this.setState(t),this.eb&&(this.eb.innerHTML=this.body()),this.em&&(this.em.innerText=l.formatMonth(100*n+e+1,!0,!0)),t},s.prototype.mark=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return this;for(var i=0,n=t;i<n.length;i++){var r=n[i],r=l.WUtil.toDate(r);r&&(r=this.str(r),this.am.push(r),r!=this.ls&&(r=document.getElementById(this.subId(r)))&&r.setAttribute("style",this.sk))}return this},s.prototype.unmark=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t||!t.length)return this;for(var i=0,n=t;i<n.length;i++){var r=n[i],r=l.WUtil.toDate(r);r&&(r=this.str(r),this.unm(this.am.indexOf(r)))}return this},s.prototype.title=function(t,e){t=l.WUtil.toDate(t);if(!t)return this;t=this.str(t),this.mt[t]=e,t=document.getElementById(this.subId(t));return t&&t.setAttribute("title",e),this},s.prototype.unm=function(t,e){var i;void 0===e&&(e=!0),t<0||(i=this.am[t])&&(e&&this.am.splice(t,1),(e=document.getElementById(this.subId(i)))&&(this.str(this.state)==i?e.setAttribute("style",this.ss):e.setAttribute("style",this.sd)))},s.prototype.clear=function(){if(this.am&&this.am.length){for(var t=0;t<this.am.length;t++)this.unm(t,!1);this.am=[]}if(this.mt){for(var e in this.mt){e=document.getElementById(this.subId(e));e&&e.setAttribute("title",null)}this.mt={}}return this},s.prototype.prev=function(){return this.add(-1)},s.prototype.next=function(){return this.add(1)},s.prototype.ele=function(t){return t?document.getElementById(this.subId(this.str(t))):null},s.prototype.str=function(t){return t?1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()+"":null},s.prototype.from=function(){this.state||(this.state=new Date);var t=this.state.getMonth();return 1e4*this.state.getFullYear()+100*(t+1)+1+""},s.prototype.to=function(){this.state||(this.state=new Date);var t=this.state.getMonth(),e=this.state.getFullYear();return 1e4*e+100*(t+1)+new Date(e,t+1,0).getDate()+""},s.prototype.body=function(){this.state||(this.state=new Date);var t="",e=this.state.getDate(),i=this.state.getMonth(),n=this.state.getFullYear();this.ls=1e4*n+100*(i+1)+e+"";var r=new Date(n,i,1).getDay();0==r&&(r=7);for(var o=new Date(n,i+1,0).getDate(),s=1,a=1;a<=6;a++){this.tr?t+='<tr style="'+this.tr+'">':t+="<tr>";for(var h,l,u,d=1;d<=7;d++)1==a&&d<r||o<s?t+='<td style="'+this.se+'"></td>':(l=(h=1e4*n+100*(i+1)+s+"")==this.td?this.st:"",u=(u=this.mt[h])?' title="'+u+'"':"",h==this.ls?t+='<td id="'+this.subId(h)+'" style="'+this.ss+l+'"'+u+">"+s+"</td>":0<=this.am.indexOf(h)?t+='<td id="'+this.subId(h)+'" style="'+this.sk+l+'"'+u+">"+s+"</td>":t+='<td id="'+this.subId(h)+'" style="'+this.sd+l+'"'+u+">"+s+"</td>",s++);if(t+="</tr>",o<s)break}return t},s.prototype.componentDidMount=function(){var a=this;this.ep=document.getElementById(this.subId("p")),this.em=document.getElementById(this.subId("m")),this.en=document.getElementById(this.subId("n")),this.et=document.getElementById(this.subId("t")),this.eb=document.getElementById(this.subId("b")),this.ep&&this.ep.addEventListener("click",function(t){a.prev()}),this.en&&this.en.addEventListener("click",function(t){a.next()}),this.root.addEventListener("click",function(t){var e,i,n,r,o,s=l.lastSub(t.target);s&&8==s.length&&(e=parseInt(s),i=s==a.td?a.st:"",(n=a.ele(a.state))&&(o=(r=a.str(a.state))==a.td?a.st:"",0<=a.am.indexOf(r)?n.setAttribute("style",a.sk+o):n.setAttribute("style",a.sd+o)),t.target.style=a.ss+i,a.ls!=s&&a.setState(new Date(e/1e4,e%1e4/100-1,e%1e4%100)))}),this.root.addEventListener("dblclick",function(t){t=l.lastSub(t.target);t&&8==t.length&&a.trigger("_doubleclick",t)}),this.root.addEventListener("mouseover",function(t){var e=l.lastSub(t.target);e&&8==e.length&&(e=e==a.td?a.st:"",t.target.style=a.so+e)}),this.root.addEventListener("mouseout",function(t){var e,i=l.lastSub(t.target);i&&8==i.length&&(e=i==a.td?a.st:"",i==a.str(a.state)?t.target.style=a.ss+e:0<=a.am.indexOf(i)?t.target.style=a.sk+e:t.target.style=a.sd+e)})};var r,t=s;function s(t,e,i,n){t=r.call(this,t||"*","WCalendar",1,e,i,n)||this;return t.am=[],t.mt={},t.pm="Mese precedente",t.nm="Mese successivo",t.ct="table table-sm",t.cd="table-responsive",t.sp="padding:1rem;text-align:center;font-weight:bold;background-color:#eeeeee;",t.sm=t.sp,t.sn=t.sp,t.tr="height:3rem;",t.sw="text-align:center;",t.sd="text-align:center;vertical-align:middle;",t.so="text-align:center;vertical-align:middle;background-color:#f6f6f6;cursor:pointer;",t.ss="text-align:center;vertical-align:middle;background-color:#b8d4f1;",t.sk="text-align:center;vertical-align:middle;background-color:#ffeebc;",t.se="background-color:#f0f0f0;",t.st="font-weight:bold;",t.td=t.str(new Date),t}l.WCalendar=t;a=l.WComponent,__extends(u,a),u.prototype.size=function(t,e){return this._w=t,this._h=e,this._w<40&&(this._w=40),this._h<40&&(this._h=40),this._attributes='width="'+this._w+'" height="'+this._h+'"',this},Object.defineProperty(u.prototype,"width",{get:function(){return this._w},set:function(t){this._w=t,this._w<40&&(this._w=40),this._attributes='width="'+this._w+'" height="'+this._h+'"'},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._h},set:function(t){this._h=t,this._h<40&&(this._h=40),this._attributes='width="'+this._w+'" height="'+this._h+'"'},enumerable:!1,configurable:!0}),u.prototype.componentDidMount=function(){if(this.state){var t=this.state.series;if(t&&t.length){var e=t[0];if(e&&!(e.length<2)){var i=this.state.styles,n=this.root,r=n.getContext("2d");if(r){var o=this.state.labels,s=0,a=0,h=!1,l=(o&&o.length==e.length&&(l=4<(l=(l=o[0])?l.length:0)?Math.ceil(l/2):2,s=this.fontSize*l+4,a=2*this.fontSize+4,h=!0),n.width-this.offx-a),u=n.height-this.offy-s,d=l/(e.length-1),l=(l=Math.max.apply(Math,e))||4,c=(this.maxy&&this.maxy>l&&(l=this.maxy),[Math.round(l/4),Math.round(l/2),Math.round(3*l/4)]),p=u/l;r.beginPath(),r.lineWidth=1,r.strokeStyle=this.axis,r.moveTo(this.offx,this.offy),r.lineTo(this.offx,n.height-s),r.lineTo(n.width-a,n.height-s),r.stroke(),r.beginPath(),r.setLineDash([4,8]),r.lineWidth=1,r.strokeStyle=this.grid;for(var f=1;f<e.length;f++){var g=this.offx+f*d;r.moveTo(g,this.offy),r.lineTo(g,n.height-s)}r.moveTo(this.offx,this.offy),r.lineTo(n.width-a,this.offy);for(var b=0,m=c;b<m.length;b++){var y=m[b];r.moveTo(this.offx,n.height-s-y*p),r.lineTo(n.width-a,n.height-s-y*p)}r.stroke(),r.fillStyle=this.axis,r.font=this.fontSize+"px "+this.fontName,r.fillText("0",0,n.height-s);for(var v=0,_=c;v<_.length;v++){y=_[v];r.fillText(""+y,0,n.height-s-y*p)}if(r.fillText(""+l,0,this.offy),h)for(f=0;f<o.length;f++){g=this.offx+f*d;r.save(),r.translate(g-this.fontSize,n.height),r.rotate(-Math.PI/3),r.fillStyle=this.axis,r.fillText(o[f],0,0),r.restore()}u=this.props;if("bar"!=(u=(u=u||this.state.type)||"line")){r.setLineDash([]);for(var S=0;S<t.length;S++){if(!(x=t[S])||x.length<e.length)return;var w=this.line;i&&i.length>S&&(w=(w=i[S])||this.line),r.beginPath(),r.lineWidth=2,r.strokeStyle=w,r.moveTo(this.offx,n.height-s-x[0]*p);for(f=1;f<e.length;f++){var g=this.offx+f*d,C=n.height-s-x[f]*p;r.lineTo(g,C)}r.stroke()}}else{this.barw<4&&(this.barw=4);for(var x,S=0;S<t.length;S++){if(!(x=t[S])||x.length<e.length)return;for(var w=this.line,O=(i&&i.length>S&&(w=(w=i[S])||this.line),r.fillStyle=w,S*(this.barw+1)),f=0;f<e.length;f++){g=this.offx+f*d,C=n.height-s-x[f]*p;0==f?r.fillRect(g+O,C,this.barw,x[f]*p):t.length<3?r.fillRect(g+O-this.barw/2,C,this.barw,x[f]*p):r.fillRect(g+O-this.barw/2-(this.barw+1)*(t.length-2),C,this.barw,x[f]*p)}}}}}}}};var a,t=u;function u(t,e,i,n){t=a.call(this,t||"*","WChart",e,i,n)||this,t.rootTag="canvas",t.forceOnChange=!0,e=window.innerWidth;return t._w=750,t._h=370,(e<900||1920<e)&&(t._w=Math.round(750*e/1400),t._h=Math.round(370*t._w/750)),t._attributes='width="'+t._w+'" height="'+t._h+'"',t.fontSize=14,t.fontName="Arial",t.axis="#808080",t.grid="#a0a0a0",t.line="#e23222",t.offx=30,t.offy=30,t.barw=16,t}l.WChart=t}(WUX=WUX||{});