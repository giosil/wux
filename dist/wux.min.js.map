{"version":3,"sources":["../../dist/wux.min.js"],"names":["__spreadArrays","this","s","i","il","arguments","length","r","Array","k","a","j","jl","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","jQuery","Error","fn","wuxComponent","c","wc","data","WUX","WComponent","WuxDOM","onRender","handler","onRenderHandlers","push","onUnmount","onUnmountHandlers","render","component","node","before","after","debug","console","log","str","$","document","ready","global","init","lastCtx","context","mount","e","element","target","get","type","_i","_a","ctx","indexOf","append","error","unmount","wcomp","html","replace","o","undefined","getComponent","getContext","parent","registry","version","WInputType","defineProperty","internal","visible","_visible","set","root","show","hide","enumerable","configurable","enabled","_enabled","prop","style","_style","css","_baseStyle","attr","classStyle","_classStyle","remove","toggle","charAt","substring","removeClass","toggleClass","cls","_baseClass","addClass","attributes","_attributes","tooltip","_tooltip","items","apply","focus","blur","forceUpdate","callback","update","props","state","getRoot","id","$id","getState","setState","nextState","force","forceOnChange","getProps","setProps","nextProps","on","events","arrayEvents_1","split","event_1","handlers","off","arrayEvents_2","event_2","trigger","eventType","_b","extParams","ep0","event_3","createEvent","_c","_d","componentWillUnmount","idx","splice","mounted","componentWillMount","parse","$r","componentDidMount","event_4","wci","cuid","errorInfo","componentDidCatch","buildRoot","rootTag","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","prevProps","prevState","updateProps","updateState","propsChange","stateChange","dontTrigger","shouldBuildRoot","ctxId","tagName","inner","baseAttribs","build","ba","bca","divide","make","subId","cid","subSeq","toString","ripId","sid","transferTo","dest","name","Math","floor","random","cls_1","WUtil","toArrayComponent","isArray","hasComponents","toArray","toArrayNumber","nz","a_1","n","toNumber","toArrayString","ne","a_2","splitNumbers","aos_1","toObject","Date","formatDate","toText","getFullYear","getMonth","getDate","trim","parseFloat","parseInt","isNaN","toInt","toIntTime","getHours","getMinutes","isNumeric","checkEmail","lastIndexOf","toLowerCase","starts","ends","t","isEmpty","toBoolean","WCheck","toDate","sd","getWeek","getTime","setHours","setDate","getDay","w1","round","getParam","url","window","location","href","results","RegExp","exec","decodeURIComponent","size","setValue","v","getValue","getLast","getItem","sep","sub","getEntity","text","code","group","date","reference","value","getString","getNumber","toEntity","m","getBoolean","marked","notBefore","expires","icon","color","getFirst","toCode","toDesc","getInt","f","formatNum","formatCurr","formatCurr5","formatNum2","formatMonth","formatDateTime","formatTime","getText","getArray","getArrayNumber","getArrayString","getCode","getDesc","getObject","sort","array","r_1","reverse","x","y","find","y_1","w","isSameDate","indexOfDate","vi","round2","floor2","ceil2","ceil","compare2","compare5","getCurrDate","l","setMonth","setFullYear","calcDate","timestamp","dt","sy","nm","sm","nd","nh","sh","np","sp","ns","getSeconds","nvl","v_1","eqValues","o1","o2","keys","keys_1","cat","t1","t2","s1","s2","ss","sb","sa","col","tuples","tuples_1","getSortedKeys","map","key","diffMinutes","ah","al","dh","dl","diffHours","diffDays","getId","$e","st","et","wcdn","wcid","selector","JSON","stringify","styleObj","ws","kvs_1","akv","fs","fw","tt","tr","fl","cl","z","lh","ps","ox","oy","op","ol","cr","cn","bs","bz","match","bc","br","bsp","mt","mr","mb","ml","pt","pr","pb","pl","bg","bgi","bgp","bgr","bt","h","minw","maxw","minh","maxh","xi","extend","se","buildCss","firstSub","lastSub","getRootComponent","newInstance","same","e1","e2","id1","id2","getTagName","hashCode","charCodeAt","addStyle","ul","start","classes_1","classes_2","setCss","buildIcon","title","clsStyle","addWrapper","wrapper","begin","end","val","getContainer","$c","closest","openURL","history","newTab","params","qs","encodeURIComponent","open","assign","_data","_dccb","locale","main_class","con_class","box_class","box_header","box_title","box_tools","box_content","box_footer","chart_bg0","chart_bg1","chart_bg2","chart_bc0","chart_bc1","chart_bc2","chart_p0","chart_p1","chart_p2","area","area_title","section","section_title","window_top","window_bottom","setData","cb","getData","def","onDataChanged","showMessage","dlg","_showMessage","showInfo","_showInfo","showSuccess","_showSuccess","showWarning","_showWarning","showError","_showError","confirm","_confirm","getInput","_getInput","getPageTitle","getBreadcrump","getPageHeader","getPageFooter","getPageMenu","getViewRoot","sticky","stickyRefresh","withDay","formatDay","withSec","is","mm","neg","toLocaleString","s3","formatBoolean","format","checked","p_1","decodeMonth","norm","den","BTN","KEY","encrypt","String","fromCharCode","decrypt","WIcon","CSS","NORMAL","ERROR","WARNING","SUCCESS","INFO","COMPLETED","MARKED","BTN_MED","BTN_SMALL","STACK_BTNS","LINE_BTNS","FORM_CTRL","FORM_CTRL_SM","FIELD_REQUIRED","FIELD_CRITICAL","FIELD_INTERNAL","LABEL_NOTICE","LABEL_INFO","RES","OK","CLOSE","CANCEL","ERR_DATE","_super","WContainer","ctype","call","stateComp","setLayout","layoutManager","secStyle","legStyle","legend","fieldsetStyle","legendStyle","areaStyle","grid","row","components","addDiv","hcss","cls_att","add","addSpan","wcss","addGroup","ac","cnt","addContainer","ac_1","ac_2","constraints","addLayoutComponent","index","removed","removeLayoutComponent","removeAll","addRow","addCol","addASide","addBox","box","WBox","addText","rowTag","endRow","text_1","findBox","title_id","bid","addStack","rowStyle","rowClass","addLine","colStyle","colClass","conid","inline","container","fss","lgs","$fs","layoutContainer","rebuild","empty","addClassStyle","_this","WCardLayout","cmpId","mapConstraints","mapComponents","curId","currComp","eleId","ehide","_title","header","addTool","tool","WRENCH","cntls","tools","TOOL_COLLAPSE","collapse","TOOL_CLOSE","close","addCollapse","CHEVRON_UP","addClose","TIMES","addFilter","TOOL_FILTER","FILTER","_header","_addClassStyle","_footer","boxContent","hs","hs_1","click","content","collapsed","isCollapsed","CHEVRON_DOWN","children","slideToggle","setTimeout","resize","expand","hasClass","WDialog","onShownModal","onHiddenModal","cntHeader","btnCloseHeader","WButton","cntBody","cntFooter","tagTitle","buildTitle","onClickOk","onClickCancel","buildBtnOK","buildBtnCancel","txtCancel","SECONDARY","buttonOk","btnOK","ok","cancel","modal","buttons","buttonCancel","btnCancel","beforeShow","parentHandler","backdrop","keyboard","selection","table","warn","sr","getSelectedRows","getSelectedRowsData","onShown","onHidden","isShown","cntRoot","cntMain","cntContent","btn","footer","btnOk","btnClose","WLabel","for","forId","blink","blinks","highlight","effect","bind","WInput","onEnterPressed","label","addAttributes","placeHolder","_self","keypress","which","valueType","blurOnEnter","select","WTextArea","rows","_text","$label","change","getWrapper","setText","PRIMARY","WLink","_href","removeAttr","_target","WTab","addTab","tab","tabs","tabPane","WSelect","each","options","addOption","sel","buildOptions","remOption","setOptions","prevVal","pv","multiple","opt","WRadio","$item","_loop_1","this_1","WTable","onSelectionChanged","onDoubleClick","onRowPrepared","onCellClick","onCellHoverChanged","clearSelection","selectedRow","selectedRowsData","idxs","idxs_1","selectAll","getFilteredRowsData","refresh","getCellValue","getColHeader","tableClass","ts","ths","headStyle","col0Style","colLStyle","widths","widthsPerc","buildBody","selectionMode","$this","siblings","rowData","rowIndex","colIndex","tbody","footerStyle","rowElement","_e","align","types","templates","$td","_f","ac_3","boldNonZero","i_1","selClass","WFormPanel","roww","hiddens","internals","captions","dpids","nextMap","mapTooltips","mapLabelLinks","minValues","maxValues","currRow","first","row_1","readonly","focusOn","fieldId","getField","nextOnEnter","onChangeDate","addToFooter","footerSep","addTextField","Text","addNoteField","Note","addCurrencyField","addCurrency5Field","addIntegerField","addDecimalField","addDateField","minDate","maxDate","minValue","maxValue","addOptionsField","Select","addBooleanField","CheckBox","addBlankField","Blank","placeholder","addRadioField","comp","Radio","addPasswordField","Password","addEmailField","Email","addFtpField","Ftp","addCronField","Cron","addComponent","Component","addCaption","addInternalField","addHiddenField","Hidden","setTooltip","setLabelLinks","links","setReadOnly","$f","setEnabled","setVisible","setLabelCss","labelCss","$l","setLabelText","setSpanField","span","fid","onMount","onmount","onFocus","onfocus","onBlur","onblur","getStateOf","getPropsOf","next","nid","setMandatory","fids","sids","fids_1","required","checkMandatory","labels","atLeastOne","values","autoValidate","validate","getValues","inputClass","cols","cs","$fg","la","af","lc","ls","link","$sl","ir","nr","dr","CALENDAR","ie","iftp","ip","initial","footerClass","c0","$fr","$fc","fco","_loop_2","this_2","datepicker","language","todayBtn","keyboardNavigation","forceParse","calendarWeeks","autoclose","md","xd","dv","iv","mv","xv","_g","updateView","tid","isFocusable","stateChangeOnBlur","lastChanged","lastTs","isEmptyObject","clear","isBlank","isZero","res","elements","i_2","selectedIndex","updState","iid","formatted","selected","cv","msg","Number","test","Integer","action","WWindow","onShow","onHide","onClose","headerStyle","crs","cra","width","height","background","position","gap","isClosed","scroll","hmin","over","scrollTop","rt","offset","top","oh","ds","ep","eh","rb","wh","ot","scrollY","titleStyle","DEF_HEADER_STYLE"],"mappings":"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","file":"wux.min.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nif (typeof jQuery === 'undefined')\n    throw new Error('WUX requires jQuery');\n+function ($) {\n    $.fn.wuxComponent = function (c) {\n        var wc = this.data('wuxComponent');\n        if (wc)\n            return wc;\n        if (c instanceof WUX.WComponent) {\n            this.data('wuxComponent', c);\n            return c;\n        }\n        if (c == null)\n            c = true;\n        if (!c)\n            return undefined;\n        wc = new WUX.WComponent(this);\n        this.data('wuxComponent', wc);\n        return wc;\n    };\n}(jQuery);\nvar WuxDOM = (function () {\n    function WuxDOM() {\n    }\n    WuxDOM.onRender = function (handler) {\n        WuxDOM.onRenderHandlers.push(handler);\n    };\n    WuxDOM.onUnmount = function (handler) {\n        WuxDOM.onUnmountHandlers.push(handler);\n    };\n    WuxDOM.render = function (component, node, before, after) {\n        if (WUX.debug)\n            console.log('WuxDOM.render ' + WUX.str(component) + ' on ' + WUX.str(node) + '...');\n        $(document).ready(function () {\n            WUX.global.init(function () {\n                if (!node)\n                    node = WuxDOM.lastCtx ? WuxDOM.lastCtx : $('#view-root');\n                if (before)\n                    before(node);\n                var context = WuxDOM.mount(component, node);\n                WuxDOM.lastCtx = context;\n                if (after)\n                    after(node);\n                if (WuxDOM.onRenderHandlers.length > 0) {\n                    var c = component instanceof WUX.WComponent ? component : null;\n                    var e = { component: c, element: context, target: context.get(0), type: 'render' };\n                    for (var _i = 0, _a = WuxDOM.onRenderHandlers; _i < _a.length; _i++) {\n                        var handler = _a[_i];\n                        handler(e);\n                    }\n                    WuxDOM.onRenderHandlers = [];\n                }\n            });\n        });\n    };\n    WuxDOM.mount = function (e, node) {\n        if (!node)\n            node = WuxDOM.lastCtx ? WuxDOM.lastCtx : $('#view-root');\n        if (WUX.debug)\n            console.log('WuxDOM.mount ' + WUX.str(e) + ' on ' + WUX.str(node) + '...');\n        if (e == null) {\n            console.error('WuxDOM.mount ' + WUX.str(e) + ' on ' + WUX.str(node) + ' -> invalid component');\n            return;\n        }\n        var ctx = typeof node == 'string' ? (node.indexOf('#') < 0) ? $('#' + node) : $(node) : node;\n        if (!ctx.length) {\n            console.error('WuxDOM.mount ' + WUX.str(e) + ' on ' + WUX.str(node) + ' -> context unavailable');\n            return;\n        }\n        WuxDOM.lastCtx = ctx;\n        if (e instanceof WUX.WComponent) {\n            e.mount(ctx);\n            ctx.wuxComponent(e);\n        }\n        else {\n            ctx.append(e);\n        }\n        if (WUX.debug)\n            console.log('WuxDOM.mount ' + WUX.str(e) + ' on ' + WUX.str(node) + ' completed.');\n        return ctx;\n    };\n    ;\n    WuxDOM.unmount = function (node) {\n        if (!node)\n            node = WuxDOM.lastCtx ? WuxDOM.lastCtx : $('#view-root');\n        if (WUX.debug)\n            console.log('WuxDOM.unmount ' + WUX.str(node) + '...');\n        var ctx = typeof node == 'string' ? (node.indexOf('#') < 0) ? $('#' + node) : $(node) : node;\n        if (!ctx.length) {\n            console.error('WuxDOM.unmount ' + WUX.str(node) + ' -> node unavailable');\n            return;\n        }\n        var wcomp = ctx.wuxComponent(false);\n        if (wcomp)\n            wcomp.unmount();\n        ctx.html('');\n        if (WUX.debug)\n            console.log('WuxDOM.unmount ' + WUX.str(node) + ' completed.');\n        if (WuxDOM.onUnmountHandlers.length > 0) {\n            var e = { component: wcomp, element: ctx, target: ctx.get(0), type: 'unmount' };\n            for (var _i = 0, _a = WuxDOM.onUnmountHandlers; _i < _a.length; _i++) {\n                var handler = _a[_i];\n                handler(e);\n            }\n            WuxDOM.onUnmountHandlers = [];\n        }\n        return ctx;\n    };\n    WuxDOM.replace = function (o, e) {\n        var node;\n        if (!e) {\n            e = o;\n            o = undefined;\n        }\n        if (!o) {\n            node = WuxDOM.unmount();\n        }\n        else if (typeof o == 'string') {\n            var wcomp = WUX.getComponent(o);\n            if (!wcomp) {\n                node = wcomp.getContext();\n                wcomp.unmount();\n            }\n        }\n        else if (o instanceof WUX.WComponent) {\n            node = o.getContext();\n            o.unmount();\n        }\n        else {\n            node = o.parent();\n            if (node)\n                node.html('');\n        }\n        if (!node)\n            node = $('#view-root');\n        if (!node.length) {\n            console.error('WuxDOM.replace ' + WUX.str(node) + ' -> node unavailable');\n            return;\n        }\n        return WuxDOM.mount(e, node);\n    };\n    WuxDOM.onRenderHandlers = [];\n    WuxDOM.onUnmountHandlers = [];\n    return WuxDOM;\n}());\nvar WUX;\n(function (WUX) {\n    WUX.debug = false;\n    WUX.registry = [];\n    WUX.version = '1.0.0';\n    var WComponent = (function () {\n        function WComponent(id, name, props, classStyle, style, attributes) {\n            this.mounted = false;\n            this.debug = WUX.debug;\n            this.forceOnChange = false;\n            this.rootTag = 'div';\n            this.subSeq = 0;\n            this.dontTrigger = false;\n            this._visible = true;\n            this._enabled = true;\n            this.handlers = {};\n            this.cuid = Math.floor(Math.random() * 1000000000);\n            if (id instanceof jQuery) {\n                this.root = id;\n                if (this.root && this.root.length)\n                    this.mounted = true;\n                if (this.debug)\n                    console.log('[' + str(this) + '] new wrapper root=' + str(this.root));\n            }\n            else {\n                if (typeof id == 'string')\n                    this.id = id == '*' ? 'w' + this.cuid : id;\n                this.name = name ? name : 'WComponent';\n                this._classStyle = classStyle;\n                var cls_1 = WUX.cls(style);\n                if (cls_1)\n                    this._classStyle = this._classStyle ? this._classStyle + ' ' + cls_1 : cls_1;\n                this._style = WUX.style(style);\n                this._attributes = WUX.attributes(attributes);\n                if (this.debug)\n                    console.log('[' + str(this) + '] new');\n                if (this.debug)\n                    console.log('[' + str(this) + '] updateProps', props);\n                this.updateProps(props);\n            }\n        }\n        Object.defineProperty(WComponent.prototype, \"visible\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.visible;\n                return this._visible;\n            },\n            set: function (b) {\n                this._visible = b;\n                if (this.internal)\n                    this.internal.visible = b;\n                if (this.root && this.root.length) {\n                    if (this._visible)\n                        this.root.show();\n                    else\n                        this.root.hide();\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WComponent.prototype, \"enabled\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.enabled;\n                return this._enabled;\n            },\n            set: function (b) {\n                this._enabled = b;\n                if (this.internal)\n                    this.internal.enabled = b;\n                if (this.root && this.root.length)\n                    this.root.prop('disabled', !this._enabled);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WComponent.prototype, \"style\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.style;\n                return this._style;\n            },\n            set: function (s) {\n                this._style = WUX.css(this._baseStyle, s);\n                if (this.internal)\n                    this.internal.style = s;\n                if (this.root && this.root.length)\n                    this.root.attr('style', this._style);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WComponent.prototype, \"classStyle\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.classStyle;\n                return this._classStyle;\n            },\n            set: function (s) {\n                if (this.internal)\n                    this.internal.classStyle = s;\n                var remove = false;\n                var toggle = false;\n                if (s && s.length > 1 && s.charAt(0) == '!') {\n                    s = s.substring(1);\n                    remove = true;\n                }\n                else if (s && s.length > 1 && s.charAt(0) == '?') {\n                    s = s.substring(1);\n                    toggle = true;\n                }\n                if (remove) {\n                    this._classStyle = WUX.removeClass(this._classStyle, s);\n                }\n                else if (toggle) {\n                    this._classStyle = WUX.toggleClass(this._classStyle, s);\n                }\n                else {\n                    this._classStyle = WUX.cls(this._baseClass, s);\n                }\n                if (this.root && this.root.length) {\n                    if (remove) {\n                        this.root.removeClass(s);\n                    }\n                    else if (toggle) {\n                        this.root.toggleClass(s);\n                    }\n                    else {\n                        this.root.addClass(this._classStyle);\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WComponent.prototype, \"attributes\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.attributes;\n                return this._attributes;\n            },\n            set: function (s) {\n                this._attributes = s;\n                if (this.internal)\n                    this.internal.attributes = s;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WComponent.prototype, \"tooltip\", {\n            get: function () {\n                if (this.internal)\n                    return this.internal.tooltip;\n                return this._tooltip;\n            },\n            set: function (s) {\n                this._tooltip = s;\n                if (this.internal)\n                    this.internal.tooltip = s;\n                if (this.root && this.root.length)\n                    this.root.attr('title', this._tooltip);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WComponent.prototype.css = function () {\n            var items = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                items[_i] = arguments[_i];\n            }\n            if (!items || items.length == 0)\n                return this;\n            var c = cls.apply(void 0, items);\n            if (c)\n                this.classStyle = c;\n            var s = css.apply(void 0, items);\n            if (s)\n                this.style = s;\n            return this;\n        };\n        WComponent.prototype.focus = function () {\n            if (this.internal)\n                this.internal.focus();\n            if (this.root && this.root.length)\n                this.root.focus();\n            return this;\n        };\n        WComponent.prototype.blur = function () {\n            if (this.internal)\n                this.internal.blur();\n            if (this.root && this.root.length)\n                this.root.blur();\n            return this;\n        };\n        WComponent.prototype.forceUpdate = function (callback) {\n            this.update(this.props, this.state, false, false, true, callback);\n            return this;\n        };\n        WComponent.prototype.getContext = function () {\n            return this.context;\n        };\n        WComponent.prototype.getRoot = function () {\n            if (!this.root && this.internal)\n                return this.internal.getRoot();\n            if (!this.root) {\n                if (this.id) {\n                    var $id = $('#' + this.id);\n                    if ($id.length)\n                        return $id;\n                }\n                return this.context;\n            }\n            return this.root;\n        };\n        WComponent.prototype.getState = function () {\n            return this.state;\n        };\n        WComponent.prototype.setState = function (nextState, force, callback) {\n            if (this.debug)\n                console.log('[' + str(this) + '] setState', nextState);\n            this.update(this.props, nextState, false, true, this.forceOnChange || force, callback);\n            return this;\n        };\n        WComponent.prototype.getProps = function () {\n            return this.props;\n        };\n        WComponent.prototype.setProps = function (nextProps, force, callback) {\n            if (this.debug)\n                console.log('[' + str(this) + '] setProps', nextProps);\n            this.update(nextProps, this.state, true, false, this.forceOnChange || force, callback);\n            return this;\n        };\n        WComponent.prototype.on = function (events, handler) {\n            if (!events)\n                return this;\n            var arrayEvents = events.split(' ');\n            for (var _i = 0, arrayEvents_1 = arrayEvents; _i < arrayEvents_1.length; _i++) {\n                var event_1 = arrayEvents_1[_i];\n                if (!this.handlers[event_1])\n                    this.handlers[event_1] = [];\n                this.handlers[event_1].push(handler);\n            }\n            if (this.internal)\n                this.internal.on(events, handler);\n            if (this.root && this.root.length)\n                this.root.on(events, handler);\n            return this;\n        };\n        WComponent.prototype.off = function (events) {\n            if (!events) {\n                this.handlers = {};\n            }\n            else {\n                var arrayEvents = events.split(' ');\n                for (var _i = 0, arrayEvents_2 = arrayEvents; _i < arrayEvents_2.length; _i++) {\n                    var event_2 = arrayEvents_2[_i];\n                    delete this.handlers[event_2];\n                }\n            }\n            if (this.internal)\n                this.internal.off(events);\n            if (this.root && this.root.length)\n                this.root.off(events);\n            return this;\n        };\n        WComponent.prototype.trigger = function (eventType) {\n            var _a, _b;\n            var extParams = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                extParams[_i - 1] = arguments[_i];\n            }\n            if (this.debug)\n                console.log('[' + str(this) + '] trigger', eventType, extParams);\n            if (!eventType)\n                return;\n            var ep0 = extParams && extParams.length > 0 ? extParams[0] : undefined;\n            if (eventType.charAt(0) == '_' || eventType == 'mount' || eventType == 'unmount' || eventType == 'statechange' || eventType == 'propschange') {\n                if (ep0 !== undefined) {\n                    if (eventType == 'statechange') {\n                        if (this.state != extParams[0]) {\n                            this.state = extParams[0];\n                            if (this.debug)\n                                console.log('[' + str(this) + '] trigger set state', this.state);\n                        }\n                    }\n                    else if (eventType == 'propschange') {\n                        if (this.props != extParams[0]) {\n                            this.props = extParams[0];\n                            if (this.debug)\n                                console.log('[' + str(this) + '] trigger set props', this.props);\n                        }\n                    }\n                }\n                if (!this.handlers || !this.handlers[eventType])\n                    return this;\n                var event_3 = this.createEvent(eventType, ep0);\n                for (var _c = 0, _d = this.handlers[eventType]; _c < _d.length; _c++) {\n                    var handler = _d[_c];\n                    handler(event_3);\n                }\n            }\n            else if (this.root && this.root.length) {\n                if (this.debug)\n                    console.log('[' + str(this) + '] trigger ' + eventType + ' on root=' + str(this.root));\n                (_a = this.root).trigger.apply(_a, __spreadArrays([eventType], extParams));\n            }\n            if (this.internal) {\n                if (this.debug)\n                    console.log('[' + str(this) + '] trigger ' + eventType + ' on internal=' + str(this.internal));\n                (_b = this.internal).trigger.apply(_b, __spreadArrays([eventType], extParams));\n            }\n            return this;\n        };\n        WComponent.prototype.unmount = function () {\n            if (this.debug)\n                console.log('[' + str(this) + '] unmount ctx=' + str(this.context) + ' root=' + str(this.root), this.state, this.props);\n            this.componentWillUnmount();\n            if (this.internal)\n                this.internal.unmount();\n            this.internal = undefined;\n            if (this.root && this.root.length)\n                this.root.remove();\n            this.root = undefined;\n            if (this.id) {\n                var idx = WUX.registry.indexOf(this.id);\n                if (idx >= 0)\n                    WUX.registry.splice(idx, 1);\n            }\n            this.mounted = false;\n            this.trigger('unmount');\n            return this;\n        };\n        WComponent.prototype.mount = function (context) {\n            if (this.debug)\n                console.log('[' + str(this) + '] mount ctx=' + str(context) + ' root=' + str(this.root), this.state, this.props);\n            if (!this.id) {\n                if (this.root && this.root.length) {\n                    this.id = this.root.attr('id');\n                }\n            }\n            if (context && context.length) {\n                this.context = context;\n            }\n            if (!this.context) {\n                if (this.root && this.root.length) {\n                    this.context = this.root.parent();\n                    if (!this.context)\n                        this.context = this.root;\n                }\n            }\n            try {\n                if (this.mounted)\n                    this.unmount();\n                this.mounted = false;\n                if (!(this.context && this.context.length)) {\n                    var $id = $('#' + this.id);\n                    if ($id.length)\n                        this.context = $id;\n                }\n                if (this.debug)\n                    console.log('[' + str(this) + '] componentWillMount ctx=' + str(context) + ' root=' + str(this.root));\n                this.componentWillMount();\n                if (this.context && this.context.length) {\n                    if (this.debug)\n                        console.log('[' + str(this) + '] render ctx=' + str(context) + ' root=' + str(this.root));\n                    var r = this.render();\n                    if (r !== undefined && r !== null) {\n                        if (r instanceof WComponent) {\n                            if (this.debug)\n                                console.log('[' + str(this) + '] render -> ' + str(r));\n                            this.internal = r;\n                            if (!r.parent)\n                                r.parent = this;\n                            r.mount(this.context);\n                            if (!this.root) {\n                                if (this.id) {\n                                    var $id = $('#' + this.id);\n                                    this.root = $id.length ? $id : this.internal.getRoot();\n                                }\n                                else {\n                                    this.root = this.context;\n                                }\n                            }\n                        }\n                        else if (r instanceof jQuery) {\n                            this.context.append(r);\n                            if (!this.root)\n                                this.root = r;\n                        }\n                        else {\n                            var _a = parse(r), b = _a[0], $r = _a[1], a = _a[2];\n                            if (b)\n                                this.context.append(b);\n                            this.context.append($r);\n                            if (a)\n                                this.context.append(a);\n                            if (!this.root)\n                                this.root = this.id ? $('#' + this.id) : $r;\n                        }\n                    }\n                    else {\n                        if (this.internal)\n                            this.internal.mount(this.context);\n                        if (!this.root)\n                            this.root = this.id ? $('#' + this.id) : this.context;\n                    }\n                }\n                if (!this._visible) {\n                    if (this.internal) {\n                        this.internal.visible = false;\n                    }\n                    else {\n                        this.root.hide();\n                    }\n                }\n                if (!this._enabled) {\n                    if (this.internal) {\n                        this.internal.enabled = false;\n                    }\n                    else {\n                        this.root.prop('disabled', true);\n                    }\n                }\n                if (this.debug)\n                    console.log('[' + str(this) + '] componentDidMount ctx=' + str(context) + ' root=' + str(this.root));\n                this.componentDidMount();\n                if (this.root && this.root.length) {\n                    for (var event_4 in this.handlers) {\n                        if (!event_4 || event_4.charAt(0) == '_')\n                            continue;\n                        if (event_4 == 'mount' || event_4 == 'unmount' || event_4 == 'statechange' || event_4 == 'propschange')\n                            continue;\n                        for (var _i = 0, _b = this.handlers[event_4]; _i < _b.length; _i++) {\n                            var handler = _b[_i];\n                            this.root.on(event_4, handler);\n                        }\n                    }\n                }\n                this.root.wuxComponent(this);\n                this.mounted = true;\n                if (this.id) {\n                    if (!this.internal || this.internal.id != this.id) {\n                        var idx = WUX.registry.indexOf(this.id);\n                        if (idx >= 0) {\n                            var wci = WUX.getComponent(this.id);\n                            if (wci && wci.cuid != this.cuid) {\n                                console.error('[' + str(this) + '] id already used by ' + str(wci));\n                            }\n                        }\n                        else {\n                            WUX.registry.push(this.id);\n                        }\n                    }\n                }\n                this.trigger('mount');\n            }\n            catch (e) {\n                var errorInfo = str(this) + ' ' + str(this.context);\n                console.error('[' + str(this) + '] mount error ' + errorInfo, e);\n                this.componentDidCatch(e, errorInfo);\n            }\n            return this;\n        };\n        WComponent.prototype.componentWillUnmount = function () {\n        };\n        WComponent.prototype.componentWillMount = function () {\n        };\n        WComponent.prototype.render = function () {\n            return this.buildRoot(this.rootTag);\n        };\n        WComponent.prototype.componentDidMount = function () {\n        };\n        WComponent.prototype.componentDidCatch = function (error, errorInfo) {\n        };\n        WComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n            if (typeof nextProps == 'object' || typeof nextState == 'object')\n                return true;\n            return this.props != nextProps || this.state != nextState;\n        };\n        WComponent.prototype.componentWillUpdate = function (nextProps, nextState) {\n        };\n        WComponent.prototype.componentDidUpdate = function (prevProps, prevState) {\n        };\n        WComponent.prototype.updateProps = function (nextProps) {\n            this.props = nextProps;\n        };\n        WComponent.prototype.updateState = function (nextState) {\n            this.state = nextState;\n        };\n        WComponent.prototype.update = function (nextProps, nextState, propsChange, stateChange, force, callback) {\n            if (force === void 0) { force = false; }\n            if (this.debug)\n                console.log('[' + str(this) + '] update', nextProps, nextState, 'propsChange=' + propsChange + ',stateChange=' + stateChange + ',force=' + force);\n            nextProps = nextProps === undefined ? this.props : nextProps;\n            var prevProps = this.props;\n            var prevState = this.state;\n            this.dontTrigger = false;\n            if (this.mounted) {\n                if (force || this.shouldComponentUpdate(nextProps, nextState)) {\n                    try {\n                        if (this.debug)\n                            console.log('[' + str(this) + '] componentWillUpdate', nextProps, nextState);\n                        this.componentWillUpdate(nextProps, nextState);\n                        if (propsChange) {\n                            if (this.debug)\n                                console.log('[' + str(this) + '] updateProps', nextProps);\n                            this.updateProps(nextProps);\n                        }\n                        if (stateChange) {\n                            if (this.debug)\n                                console.log('[' + str(this) + '] updateState', nextState);\n                            this.updateState(nextState);\n                        }\n                        if (force)\n                            this.mount();\n                        if (this.debug)\n                            console.log('[' + str(this) + '] componentDidUpdate', prevProps, prevState);\n                        this.componentDidUpdate(prevProps, prevState);\n                        if (propsChange && !this.dontTrigger)\n                            this.trigger('propschange');\n                        if (stateChange && !this.dontTrigger)\n                            this.trigger('statechange');\n                    }\n                    catch (e) {\n                        this.componentDidCatch(e, str(this) + '|' + str(this.context));\n                        return false;\n                    }\n                    if (callback)\n                        callback();\n                }\n            }\n            else {\n                if (propsChange) {\n                    if (this.debug)\n                        console.log('[' + str(this) + '] updateProps', nextProps);\n                    this.updateProps(nextProps);\n                    if (!this.dontTrigger)\n                        this.trigger('propschange');\n                }\n                if (stateChange) {\n                    if (this.debug)\n                        console.log('[' + str(this) + '] updateState', nextState);\n                    this.updateState(nextState);\n                    if (!this.dontTrigger)\n                        this.trigger('statechange');\n                }\n            }\n            return true;\n        };\n        WComponent.prototype.createEvent = function (type, data) {\n            var target = this.root && this.root.length ? this.root.get(0) : this.root;\n            return { component: this, element: this.root, target: target, type: type, data: data };\n        };\n        WComponent.prototype.shouldBuildRoot = function () {\n            if (this.internal)\n                return false;\n            if (this.root && this.root.length)\n                return false;\n            if (this.context && this.context.length) {\n                var ctxId = this.context.attr('id');\n                if (!ctxId && ctxId == this.id)\n                    return false;\n            }\n            return true;\n        };\n        WComponent.prototype.buildRoot = function (tagName, inner, baseAttribs, classStyle, style, attributes, id) {\n            if (this.debug)\n                console.log('[' + str(this) + '] buildRoot', tagName, inner, baseAttribs, classStyle, style, attributes, id);\n            if (!this.shouldBuildRoot()) {\n                if (this.debug)\n                    console.log('[' + str(this) + '] shouldBuildRoot() -> false');\n                return undefined;\n            }\n            else {\n                if (this.debug)\n                    console.log('[' + str(this) + '] shouldBuildRoot() -> true');\n            }\n            return this.build(tagName, inner, baseAttribs, classStyle, style, attributes, id);\n        };\n        WComponent.prototype.build = function (tagName, inner, baseAttribs, classStyle, style, attributes, id) {\n            if (!tagName)\n                tagName = 'div';\n            if (classStyle === undefined)\n                classStyle = this._classStyle;\n            if (style === undefined)\n                style = this._style;\n            if (attributes === undefined)\n                attributes = this._attributes;\n            if (id === undefined)\n                id = this.id;\n            var r = '<' + tagName;\n            if (id)\n                r += ' id=\"' + id + '\"';\n            if (classStyle)\n                r += ' class=\"' + classStyle + '\"';\n            if (style)\n                r += ' style=\"' + style + '\"';\n            var a = WUX.attributes(attributes);\n            if (a)\n                r += ' ' + a;\n            var ba = WUX.attributes(baseAttribs);\n            if (ba)\n                r += ' ' + ba;\n            r += '>';\n            var bca = inner == null ? divide(this.make()) : divide(inner);\n            r += bca[1];\n            if (tagName == 'input')\n                return bca[0] + r + bca[2];\n            r += '</' + tagName + '>';\n            return bca[0] + r + bca[2];\n        };\n        WComponent.prototype.make = function () {\n            return '';\n        };\n        WComponent.prototype.subId = function (id, s) {\n            if (id instanceof WComponent) {\n                var cid = id.id;\n                if (!cid || !this.id)\n                    return cid;\n                if (cid.indexOf(this.id + '-') != 0)\n                    return cid;\n                return cid.substring(this.id.length + 1);\n            }\n            else {\n                if (!this.id || this.id == '*')\n                    this.id = 'w' + this.cuid;\n                if (!id || id == '*')\n                    id = (this.subSeq++).toString();\n                if (!s && s != 0)\n                    return this.id + '-' + id;\n                return this.id + '-' + id + '-' + s;\n            }\n        };\n        WComponent.prototype.ripId = function (sid) {\n            if (!sid || !this.id)\n                return sid;\n            if (sid.indexOf(this.id) == 0 && sid.length > this.id.length + 1) {\n                return sid.substring(this.id.length + 1);\n            }\n            return sid;\n        };\n        WComponent.prototype.transferTo = function (dest, force, callback) {\n            if (this.debug)\n                console.log('[' + str(this) + '] transferTo ' + str(dest));\n            if (dest) {\n                dest.setState(this.getState(), force, callback);\n                return true;\n            }\n            return false;\n        };\n        return WComponent;\n    }());\n    WUX.WComponent = WComponent;\n    var WInputType;\n    (function (WInputType) {\n        WInputType[\"Text\"] = \"text\";\n        WInputType[\"Number\"] = \"number\";\n        WInputType[\"Password\"] = \"password\";\n        WInputType[\"CheckBox\"] = \"checkbox\";\n        WInputType[\"Radio\"] = \"radio\";\n        WInputType[\"Date\"] = \"date\";\n        WInputType[\"DateTime\"] = \"datetime\";\n        WInputType[\"Time\"] = \"time\";\n        WInputType[\"File\"] = \"file\";\n        WInputType[\"Image\"] = \"image\";\n        WInputType[\"Color\"] = \"color\";\n        WInputType[\"Email\"] = \"email\";\n        WInputType[\"Url\"] = \"url\";\n        WInputType[\"Month\"] = \"month\";\n        WInputType[\"Week\"] = \"week\";\n        WInputType[\"Search\"] = \"search\";\n        WInputType[\"Hidden\"] = \"hidden\";\n        WInputType[\"Note\"] = \"note\";\n        WInputType[\"Select\"] = \"select\";\n        WInputType[\"Static\"] = \"static\";\n        WInputType[\"Component\"] = \"component\";\n        WInputType[\"Blank\"] = \"blank\";\n        WInputType[\"Link\"] = \"link\";\n        WInputType[\"Integer\"] = \"integer\";\n        WInputType[\"Cron\"] = \"crontab\";\n        WInputType[\"TreeSelect\"] = \"tree\";\n        WInputType[\"Ftp\"] = \"ftp\";\n    })(WInputType = WUX.WInputType || (WUX.WInputType = {}));\n    var WUtil = (function () {\n        function WUtil() {\n        }\n        WUtil.toArrayComponent = function (a) {\n            if (!a)\n                return [];\n            if (Array.isArray(a) && a.length) {\n                if (a[0] instanceof WComponent)\n                    return a;\n                return [];\n            }\n            var r = [];\n            if (a instanceof WComponent)\n                r.push(a);\n            return r;\n        };\n        WUtil.hasComponents = function (a) {\n            if (!a)\n                return false;\n            if (Array.isArray(a) && a.length) {\n                if (a[0] instanceof WComponent)\n                    return true;\n                return false;\n            }\n            if (a instanceof WComponent)\n                return true;\n            return false;\n        };\n        WUtil.toArray = function (a) {\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return [];\n            if (Array.isArray(a))\n                return a;\n            var r = [];\n            r.push(a);\n            return r;\n        };\n        WUtil.toArrayNumber = function (a, nz) {\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return [];\n            var r = [];\n            if (Array.isArray(a)) {\n                for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n                    var e = a_1[_i];\n                    var n = WUtil.toNumber(e);\n                    if (nz && !n)\n                        continue;\n                    r.push(n);\n                }\n            }\n            else {\n                var n = WUtil.toNumber(a);\n                if (nz && !n)\n                    return r;\n                r.push(n);\n            }\n            return r;\n        };\n        WUtil.toArrayString = function (a, ne) {\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return [];\n            var r = [];\n            if (Array.isArray(a)) {\n                for (var _i = 0, a_2 = a; _i < a_2.length; _i++) {\n                    var e = a_2[_i];\n                    var s = WUtil.toString(e);\n                    if (ne && !s)\n                        continue;\n                    r.push(s);\n                }\n            }\n            else {\n                var s = WUtil.toString(a);\n                if (ne && !s)\n                    return r;\n                r.push(WUtil.toString(a));\n            }\n            return r;\n        };\n        WUtil.splitNumbers = function (a, s) {\n            if (!a)\n                return [];\n            var sa = WUtil.toString(a);\n            var aos = sa.split(s);\n            var r = [];\n            for (var _i = 0, aos_1 = aos; _i < aos_1.length; _i++) {\n                var e = aos_1[_i];\n                r.push(WUtil.toNumber(e));\n            }\n            return r;\n        };\n        WUtil.toObject = function (a, d) {\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'object')\n                return a;\n            return d;\n        };\n        WUtil.toString = function (a, d) {\n            if (d === void 0) { d = ''; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'string')\n                return a;\n            if (a instanceof Date)\n                return WUX.formatDate(a);\n            if (typeof a == 'object' && a.id != undefined)\n                return WUtil.toString(a.id, d);\n            if (Array.isArray(a) && a.length)\n                return WUtil.toString(a[0], d);\n            return '' + a;\n        };\n        WUtil.toText = function (a, d) {\n            if (d === void 0) { d = ''; }\n            var r = WUtil.toString(a, d);\n            return r.replace('<', '&lt;').replace('>', '&gt;');\n        };\n        WUtil.toNumber = function (a, d) {\n            if (d === void 0) { d = 0; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'number')\n                return a;\n            if (a instanceof Date)\n                return a.getFullYear() * 10000 + (a.getMonth() + 1) * 100 + a.getDate();\n            if (typeof a == 'object' && a.id != undefined)\n                return WUtil.toNumber(a.id, d);\n            if (Array.isArray(a) && a.length)\n                return WUtil.toNumber(a[0], d);\n            var s = ('' + a).trim();\n            if (s.indexOf('.') >= 0 && s.indexOf(',') >= 0)\n                s = s.replace('.', '');\n            s = s.replace(',', '.');\n            var n = s.indexOf('.') >= d ? parseFloat(s) : parseInt(s);\n            return isNaN(n) ? d : n;\n        };\n        WUtil.toInt = function (a, d) {\n            if (d === void 0) { d = 0; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'number')\n                return Math.floor(a);\n            if (a instanceof Date)\n                return a.getFullYear() * 10000 + (a.getMonth() + 1) * 100 + a.getDate();\n            if (typeof a == 'object' && a.id != undefined)\n                return WUtil.toInt(a.id, d);\n            if (Array.isArray(a) && a.length)\n                return WUtil.toInt(a[0], d);\n            var s = ('' + a).replace(',', '.');\n            var n = parseInt(s);\n            return isNaN(n) ? d : n;\n        };\n        WUtil.toIntTime = function (a, d) {\n            if (d === void 0) { d = 0; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'number')\n                a;\n            if (a instanceof Date)\n                return a.getHours() * 100 + a.getMinutes();\n            if (Array.isArray(a) && a.length)\n                return WUtil.toIntTime(a[0], d);\n            var s = ('' + a).replace(':', '').replace('.', '').replace(',', '');\n            var n = parseInt(s);\n            return isNaN(n) ? d : n;\n        };\n        WUtil.isNumeric = function (a) {\n            return !isNaN(a);\n        };\n        WUtil.checkEmail = function (e) {\n            if (!e)\n                return '';\n            var s = WUtil.toString(e);\n            if (!s)\n                return '';\n            if (s.length < 5)\n                return '';\n            var a = s.indexOf('@');\n            if (a <= 0)\n                return '';\n            var d = s.lastIndexOf('.');\n            if (d < a)\n                return '';\n            return s.trim().toLowerCase();\n        };\n        WUtil.starts = function (a, s) {\n            if (!a || s == null)\n                return false;\n            return WUtil.toString(a).indexOf(s) == 0;\n        };\n        WUtil.ends = function (a, s) {\n            if (!a || s == null)\n                return false;\n            var t = WUtil.toString(a);\n            var i = t.lastIndexOf(s);\n            if (i < 0)\n                return false;\n            return i == t.length - s.length;\n        };\n        WUtil.isEmpty = function (a) {\n            if (!a)\n                return true;\n            if (Array.isArray(a) && !a.length)\n                return true;\n            if (typeof a == 'object') {\n                var r = 0;\n                for (var k in a)\n                    if (a.hasOwnProperty(k))\n                        return false;\n                return true;\n            }\n            return false;\n        };\n        WUtil.toBoolean = function (a, d) {\n            if (d === void 0) { d = false; }\n            if (a instanceof WUX.WCheck)\n                a = a.getProps();\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'boolean')\n                return a;\n            if (typeof a == 'string' && a.length)\n                return '1YyTtSs'.indexOf(a.charAt(0)) >= 0;\n            return !!d;\n        };\n        WUtil.toDate = function (a, d) {\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (a instanceof Date)\n                return a;\n            if (typeof a == 'number') {\n                if (a < 10000101)\n                    return d;\n                return new Date(a / 10000, ((a % 10000) / 100) - 1, (a % 10000) % 100);\n            }\n            if (typeof a == 'string') {\n                if (a.length < 8)\n                    return d;\n                var sd = a.indexOf(',');\n                if (sd >= 0)\n                    a = a.substring(sd + 1);\n                if (a.indexOf('-') > 3)\n                    return new Date(a.trim());\n                if (this.isNumeric(a)) {\n                    var n = parseInt(a);\n                    if (n < 10000101)\n                        return d;\n                    return new Date(n / 10000, ((n % 10000) / 100) - 1, (n % 10000) % 100);\n                }\n                return new Date(a.trim().replace(/(\\d{1,2}).(\\d{1,2}).(\\d{4})/, '$3-$2-$1'));\n            }\n            return d;\n        };\n        WUtil.getWeek = function (a) {\n            var d;\n            if (a instanceof Date) {\n                d = new Date(a.getTime());\n            }\n            else {\n                d = WUtil.toDate(a);\n            }\n            if (!d)\n                d = new Date();\n            d.setHours(0, 0, 0, 0);\n            d.setDate(d.getDate() + 3 - (d.getDay() + 6) % 7);\n            var w1 = new Date(d.getFullYear(), 0, 4);\n            return 1 + Math.round(((d.getTime() - w1.getTime()) / 86400000 - 3 + (w1.getDay() + 6) % 7) / 7);\n        };\n        WUtil.getParam = function (name, url) {\n            if (!url)\n                url = window.location.href;\n            name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'), results = regex.exec(url);\n            if (!results)\n                return '';\n            if (!results[2])\n                return '';\n            return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n        };\n        WUtil.size = function (a) {\n            if (!a)\n                return 0;\n            if (Array.isArray(a))\n                return a.length;\n            if (typeof a == 'object') {\n                var r = 0;\n                for (var k in a)\n                    if (a.hasOwnProperty(k))\n                        r++;\n                return r;\n            }\n            return 0;\n        };\n        WUtil.setValue = function (a, k, v) {\n            if (typeof a == 'object')\n                a[k] = v;\n            return a;\n        };\n        WUtil.getValue = function (a, k, d) {\n            if (!k)\n                return d;\n            if (Array.isArray(a) && a.length) {\n                if (k == '-1') {\n                    return WUtil.getLast(a, d);\n                }\n                else if (WUtil.isNumeric(k)) {\n                    return WUtil.getItem(a, WUtil.toInt(k), d);\n                }\n                else {\n                    return WUtil.getValue(a[0], k, d);\n                }\n            }\n            if (typeof a == 'object') {\n                var sep = k.indexOf('.');\n                if (a[k] == null && sep > 0) {\n                    var sub = k.substring(0, sep);\n                    if (a[sub] == null)\n                        return d;\n                    return WUtil.getValue(a[sub], k.substring(sep + 1), d);\n                }\n                return a[k] == null ? d : a[k];\n            }\n            return d;\n        };\n        WUtil.getItem = function (a, i, d) {\n            if (i < 0)\n                return d;\n            if (Array.isArray(a)) {\n                if (a.length > i) {\n                    var r = a[i];\n                    return r == null ? d : r;\n                }\n                return d;\n            }\n            return d;\n        };\n        WUtil.getEntity = function (a) {\n            var k = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                k[_i - 1] = arguments[_i];\n            }\n            if (!a)\n                return null;\n            var r;\n            if (Array.isArray(a)) {\n                var id = a[0];\n                if (!id)\n                    return null;\n                r = { id: id };\n                r.text = WUtil.toString(a[1]);\n                if (a[2] != null)\n                    r.code = a[2];\n                if (a[3] != null)\n                    r.group = a[3];\n                if (a[4] != null)\n                    r.type = a[4];\n                if (a[5] != null)\n                    r.date = WUtil.toDate(a[5]);\n                if (a[6] != null)\n                    r.reference = a[6];\n                if (a[7] != null)\n                    r.value = WUtil.toNumber(a[7]);\n                return r;\n            }\n            if (!k || !k.length)\n                return null;\n            if (k[0]) {\n                var id = WUtil.getValue(a, k[0]);\n                if (!id)\n                    return null;\n                r = { id: id };\n            }\n            if (!r)\n                return null;\n            if (k[1])\n                r.text = WUtil.getString(a, k[1]);\n            if (k[2])\n                r.code = WUtil.getValue(a, k[2]);\n            if (k[3])\n                r.group = WUtil.getValue(a, k[3]);\n            if (k[4])\n                r.type = WUtil.getValue(a, k[4]);\n            if (k[5])\n                r.date = WUtil.getDate(a, k[5]);\n            if (k[6])\n                r.reference = WUtil.getValue(a, k[6]);\n            if (k[7])\n                r.value = WUtil.getNumber(a, k[7]);\n            return r;\n        };\n        WUtil.toEntity = function (a, m) {\n            if (!a || !m || !m.id)\n                return null;\n            var r = {\n                id: WUtil.getValue(a, m.id)\n            };\n            if (m.text)\n                r.text = WUtil.getString(a, m.text);\n            if (m.code)\n                r.code = WUtil.getValue(a, m.code);\n            if (m.group)\n                r.group = WUtil.getValue(a, m.group);\n            if (m.type)\n                r.type = WUtil.getValue(a, m.type);\n            if (m.reference)\n                r.reference = WUtil.getValue(a, m.reference);\n            if (m.enabled)\n                r.enabled = WUtil.getBoolean(a, m.enabled);\n            if (m.marked)\n                r.marked = WUtil.getBoolean(a, m.marked);\n            if (m.date)\n                r.date = WUtil.getDate(a, m.date);\n            if (m.notBefore)\n                r.notBefore = WUtil.getDate(a, m.notBefore);\n            if (m.expires)\n                r.expires = WUtil.getDate(a, m.expires);\n            if (m.icon)\n                r.icon = WUtil.getString(a, m.icon);\n            if (m.color)\n                r.color = WUtil.getString(a, m.color);\n            if (m.value)\n                r.value = WUtil.getNumber(a, m.value);\n            return r;\n        };\n        WUtil.getFirst = function (a, d) {\n            if (Array.isArray(a)) {\n                if (a.length > 0) {\n                    var r = a[0];\n                    return r == null ? d : r;\n                }\n                return d;\n            }\n            return d;\n        };\n        WUtil.getLast = function (a, d) {\n            if (Array.isArray(a)) {\n                if (a.length > 0) {\n                    var r = a[a.length - 1];\n                    return r == null ? d : r;\n                }\n                return d;\n            }\n            return d;\n        };\n        WUtil.toCode = function (a, d) {\n            if (d === void 0) { d = ''; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'string')\n                return a;\n            if (typeof a == 'object' && a.code != undefined)\n                return a.code;\n            if (Array.isArray(a) && a.length) {\n                if (a.length > 1)\n                    return a[1];\n                return a[0];\n            }\n            return a;\n        };\n        WUtil.toDesc = function (a, d) {\n            if (d === void 0) { d = ''; }\n            if (a instanceof WComponent)\n                a = a.getState();\n            if (a == null)\n                return d;\n            if (typeof a == 'string')\n                return a;\n            if (typeof a == 'object' && a.text != undefined)\n                return WUtil.toString(a.text, d);\n            if (Array.isArray(a) && a.length) {\n                return WUtil.toString(a[a.length - 1], d);\n            }\n            return WUtil.toString(a, d);\n        };\n        WUtil.getNumber = function (a, k, d) {\n            return WUtil.toNumber(WUtil.getValue(a, k, d));\n        };\n        WUtil.getInt = function (a, k, d) {\n            return WUtil.toInt(WUtil.getValue(a, k, d));\n        };\n        WUtil.getString = function (a, k, d, f) {\n            var v = WUtil.getValue(a, k);\n            if (v == null)\n                return d;\n            if (!f)\n                return WUtil.toString(v);\n            if (f == '?') {\n                if (typeof v == 'number') {\n                    return WUX.formatNum(v);\n                }\n                else {\n                    return WUtil.toString(v);\n                }\n            }\n            if (f == 'c')\n                return WUX.formatCurr(v);\n            if (f == 'c5')\n                return WUX.formatCurr5(v);\n            if (f == 'n')\n                return WUX.formatNum(v);\n            if (f == 'n2')\n                return WUX.formatNum2(v);\n            if (f == 'm')\n                return WUX.formatMonth(v);\n            if (f == 'd')\n                return WUX.formatDate(v);\n            if (f == 'dt')\n                return WUX.formatDateTime(v);\n            if (f == 't')\n                return WUX.formatTime(v);\n            return WUtil.toString(v);\n        };\n        WUtil.getText = function (a, k, d) {\n            return WUtil.toText(WUtil.getValue(a, k, d));\n        };\n        WUtil.getBoolean = function (a, k, d) {\n            return WUtil.toBoolean(WUtil.getValue(a, k, d));\n        };\n        WUtil.getDate = function (a, k, d) {\n            return WUtil.toDate(WUtil.getValue(a, k, d));\n        };\n        WUtil.getArray = function (a, k) {\n            return WUtil.toArray(WUtil.getValue(a, k));\n        };\n        WUtil.getArrayNumber = function (a, k, nz) {\n            return WUtil.toArrayNumber(WUtil.getValue(a, k), nz);\n        };\n        WUtil.getArrayString = function (a, k, ne) {\n            return WUtil.toArrayString(WUtil.getValue(a, k), ne);\n        };\n        WUtil.getCode = function (a, k, d) {\n            return WUtil.toCode(WUtil.getValue(a, k, d));\n        };\n        WUtil.getDesc = function (a, k, d) {\n            return WUtil.toDesc(WUtil.getValue(a, k, d));\n        };\n        WUtil.getObject = function (a, k, n) {\n            var r = WUtil.toObject(WUtil.getValue(a, k));\n            if (!r && n)\n                return {};\n            return r;\n        };\n        WUtil.sort = function (a, t, k) {\n            if (t === void 0) { t = true; }\n            if (!a)\n                return [];\n            var array = WUtil.toArray(a);\n            if (!k) {\n                var r_1 = array.sort();\n                return t ? r_1 : r_1.reverse();\n            }\n            var r = array.sort(function (a, b) {\n                var x = WUtil.getValue(a, k);\n                var y = WUtil.getValue(b, k);\n                return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n            });\n            return t ? r : r.reverse();\n        };\n        WUtil.find = function (a, k, v) {\n            if (!a || !k)\n                return null;\n            var y = WUtil.toArray(a);\n            for (var _i = 0, y_1 = y; _i < y_1.length; _i++) {\n                var i = y_1[_i];\n                var w = WUtil.getValue(i, k);\n                if (w instanceof Date && v instanceof Date) {\n                    if (w.getTime() == v.getTime())\n                        return i;\n                }\n                if (w == v)\n                    return i;\n            }\n            return null;\n        };\n        WUtil.indexOf = function (a, k, v) {\n            if (!a || !k)\n                return -1;\n            var y = WUtil.toArray(a);\n            for (var i = 0; i < y.length; i++) {\n                var w = WUtil.getValue(y[i], k);\n                if (w instanceof Date && v instanceof Date) {\n                    if (w.getTime() == v.getTime())\n                        return i;\n                }\n                if (w == v)\n                    return i;\n            }\n            return -1;\n        };\n        WUtil.isSameDate = function (a, b) {\n            var na = this.toNumber(a);\n            var nb = this.toNumber(b);\n            if (na == nb)\n                return true;\n            return false;\n        };\n        WUtil.indexOfDate = function (a, v) {\n            if (!a || !v)\n                return -1;\n            var vi = WUtil.toNumber(v);\n            for (var i = 0; i < a.length; i++) {\n                if (!a[i])\n                    continue;\n                var ai = WUtil.toNumber(a[i]);\n                if (ai == vi)\n                    return i;\n            }\n            return -1;\n        };\n        WUtil.round2 = function (a) {\n            if (a == null)\n                return 0;\n            var n = WUtil.toNumber(a);\n            return (Math.round(n * 100) / 100);\n        };\n        WUtil.floor2 = function (a) {\n            if (a == null)\n                return 0;\n            var n = WUtil.toNumber(a);\n            return (Math.floor(n * 100) / 100);\n        };\n        WUtil.ceil2 = function (a) {\n            if (a == null)\n                return 0;\n            var n = WUtil.toNumber(a);\n            return (Math.ceil(n * 100) / 100);\n        };\n        WUtil.compare2 = function (a, b) {\n            if (!a && !b)\n                return 0;\n            var n = Math.round(WUtil.toNumber(a) * 100);\n            var m = Math.round(WUtil.toNumber(b) * 100);\n            if (n == m)\n                return 0;\n            return n > m ? 1 : -1;\n        };\n        WUtil.compare5 = function (a, b) {\n            if (!a && !b)\n                return 0;\n            var n = Math.round(WUtil.toNumber(a) * 10000);\n            var m = Math.round(WUtil.toNumber(b) * 10000);\n            if (n == m)\n                return 0;\n            return n > m ? 1 : -1;\n        };\n        WUtil.getCurrDate = function (d, m, y, f, l) {\n            var r = new Date();\n            r.setHours(0, 0, 0, 0);\n            if (d)\n                r.setDate(r.getDate() + d);\n            if (m)\n                r.setMonth(r.getMonth() + m);\n            if (y)\n                r.setFullYear(r.getFullYear() + y);\n            if (f)\n                r.setDate(1);\n            if (l) {\n                r.setMonth(r.getMonth() + 1);\n                r.setDate(0);\n            }\n            return r;\n        };\n        WUtil.calcDate = function (r, d, m, y, f, l) {\n            r = r ? new Date(r.getTime()) : new Date();\n            r.setHours(0, 0, 0, 0);\n            if (d)\n                r.setDate(r.getDate() + d);\n            if (m)\n                r.setMonth(r.getMonth() + m);\n            if (y)\n                r.setFullYear(r.getFullYear() + y);\n            if (f)\n                r.setDate(1);\n            if (l) {\n                r.setMonth(r.getMonth() + 1);\n                r.setDate(0);\n            }\n            return r;\n        };\n        WUtil.timestamp = function (dt) {\n            var d = dt ? WUtil.toDate(dt) : new Date();\n            if (!d)\n                d = new Date();\n            var sy = '' + d.getFullYear();\n            var nm = d.getMonth() + 1;\n            var sm = nm < 10 ? '0' + nm : '' + nm;\n            var nd = d.getDate();\n            var sd = nd < 10 ? '0' + nd : '' + nd;\n            var nh = d.getHours();\n            var sh = nh < 10 ? '0' + nh : '' + nh;\n            var np = d.getMinutes();\n            var sp = np < 10 ? '0' + np : '' + np;\n            var ns = d.getSeconds();\n            var ss = ns < 10 ? '0' + ns : '' + ns;\n            return sy + sm + sd + sh + sp + ss;\n        };\n        WUtil.nvl = function () {\n            var v = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                v[_i] = arguments[_i];\n            }\n            if (!v || !v)\n                return;\n            for (var _a = 0, v_1 = v; _a < v_1.length; _a++) {\n                var e = v_1[_a];\n                if (!e)\n                    return e;\n            }\n            return v[0];\n        };\n        WUtil.eqValues = function (o1, o2) {\n            var keys = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                keys[_i - 2] = arguments[_i];\n            }\n            if (!o1 && !o2)\n                return true;\n            if (!o1 || !o2)\n                return false;\n            for (var _a = 0, keys_1 = keys; _a < keys_1.length; _a++) {\n                var k = keys_1[_a];\n                if (o1[k] != o2[k])\n                    return false;\n            }\n            return true;\n        };\n        WUtil.cat = function (t1, t2, s, b, a) {\n            var s1 = WUtil.toString(t1);\n            var s2 = WUtil.toString(t2);\n            var ss = WUtil.toString(s);\n            var sb = WUtil.toString(b);\n            var sa = WUtil.toString(a);\n            var r = '';\n            if (s1) {\n                r += s1;\n                if (ss)\n                    r += ss;\n            }\n            if (s2) {\n                if (sb)\n                    r += sb;\n                r += s2;\n                if (sa)\n                    r += sa;\n            }\n            return r;\n        };\n        WUtil.col = function (tuples, i, d) {\n            var r = [];\n            if (!tuples || !tuples.length)\n                return r;\n            for (var _i = 0, tuples_1 = tuples; _i < tuples_1.length; _i++) {\n                var e = tuples_1[_i];\n                r.push(WUtil.getItem(e, i, d));\n            }\n            return r;\n        };\n        WUtil.getSortedKeys = function (map) {\n            if (!map)\n                return [];\n            var r = [];\n            for (var key in map) {\n                if (map.hasOwnProperty(key))\n                    r.push(key);\n            }\n            return r.sort();\n        };\n        WUtil.diffMinutes = function (ah, al) {\n            var dh = WUtil.toDate(ah);\n            var dl = WUtil.toDate(al);\n            if (!dh)\n                dh = new Date();\n            if (!dl)\n                dl = new Date();\n            return (dh.getTime() - dl.getTime()) / 60000;\n        };\n        WUtil.diffHours = function (ah, al) {\n            var dh = WUtil.toDate(ah);\n            var dl = WUtil.toDate(al);\n            if (!dh)\n                dh = new Date();\n            if (!dl)\n                dl = new Date();\n            return (dh.getTime() - dl.getTime()) / 3600000;\n        };\n        WUtil.diffDays = function (ah, al) {\n            var dh = WUtil.toDate(ah);\n            var dl = WUtil.toDate(al);\n            if (!dh)\n                dh = new Date();\n            if (!dl)\n                dl = new Date();\n            var dt = dh.getTime() - dl.getTime();\n            var dv = dt / (3600000 * 24);\n            var rt = dt % (3600000 * 24);\n            var rh = rt / 60000;\n            var r = dv;\n            if (rh > 12) {\n                r++;\n            }\n            return r;\n        };\n        return WUtil;\n    }());\n    WUX.WUtil = WUtil;\n    function getId(e) {\n        if (!e)\n            return;\n        if (e instanceof jQuery)\n            return e.attr('id');\n        if (e instanceof WComponent)\n            return e.id;\n        if (typeof e == 'string') {\n            if (e.indexOf('<') < 0)\n                return e.indexOf('#') == 0 ? e.substring(1) : e;\n        }\n        var $e = $(e);\n        var id = $e.attr('id');\n        if (!id) {\n            var t = $e.prop(\"tagName\");\n            if (t == 'i' || t == 'I')\n                id = $e.parent().attr('id');\n        }\n        return id;\n    }\n    WUX.getId = getId;\n    function firstSub(e, r) {\n        var id = getId(e);\n        if (!id)\n            return '';\n        var s = id.indexOf('-');\n        if (s < 0)\n            return id;\n        if (r)\n            return id.substring(s + 1);\n        return id.substring(0, s);\n    }\n    WUX.firstSub = firstSub;\n    function lastSub(e) {\n        var id = getId(e);\n        if (!id)\n            return '';\n        var s = id.lastIndexOf('-');\n        if (s < 0)\n            return id;\n        if (s > 0) {\n            var p = id.charAt(s - 1);\n            if (p == '-')\n                return id.substring(s);\n        }\n        return id.substring(s + 1);\n    }\n    WUX.lastSub = lastSub;\n    function getComponent(id) {\n        if (!id)\n            return;\n        var $id = $('#' + id);\n        if (!$id.length)\n            return;\n        return $id.wuxComponent(false);\n    }\n    WUX.getComponent = getComponent;\n    function getRootComponent(c) {\n        if (!c)\n            return c;\n        if (!c.parent)\n            return c;\n        return getRootComponent(c.parent);\n    }\n    WUX.getRootComponent = getRootComponent;\n    function setProps(id, p) {\n        if (!id)\n            return;\n        var $id = $('#' + id);\n        if (!$id.length)\n            return;\n        var c = $id.wuxComponent(false);\n        if (!c)\n            return;\n        c.setProps(p);\n        return c;\n    }\n    WUX.setProps = setProps;\n    function getProps(id, d) {\n        if (!id)\n            return d;\n        var $id = $('#' + id);\n        if (!$id.length)\n            return d;\n        var c = $id.wuxComponent(false);\n        if (!c)\n            return d;\n        var p = c.getProps();\n        if (p == null)\n            return d;\n        return p;\n    }\n    WUX.getProps = getProps;\n    function setState(id, s) {\n        if (!id)\n            return;\n        var $id = $('#' + id);\n        if (!$id.length)\n            return;\n        var c = $id.wuxComponent(false);\n        if (!c)\n            return;\n        c.setState(s);\n        return c;\n    }\n    WUX.setState = setState;\n    function getState(id, d) {\n        if (!id)\n            return d;\n        var $id = $('#' + id);\n        if (!$id.length)\n            return d;\n        var c = $id.wuxComponent(false);\n        if (!c)\n            return d;\n        var s = c.getState();\n        if (s == null)\n            return d;\n        return s;\n    }\n    WUX.getState = getState;\n    function newInstance(n) {\n        if (!n)\n            return null;\n        var s = n.lastIndexOf('.');\n        if (s > 0) {\n            var ns = n.substring(0, s);\n            if (window[ns]) {\n                var c = n.substring(s + 1);\n                for (var i in window[ns]) {\n                    if (i == c)\n                        return new window[ns][i];\n                }\n                return null;\n            }\n        }\n        var p = window[n];\n        return (p && p.prototype) ? Object.create(p.prototype) : null;\n    }\n    WUX.newInstance = newInstance;\n    function same(e1, e2) {\n        if (typeof e1 == 'string' && typeof e2 == 'string')\n            return e1 == e2;\n        if (typeof e1 == 'string' || typeof e2 == 'string')\n            return false;\n        var id1 = getId(e1);\n        var id2 = getId(e2);\n        return id1 && id2 && id1 == id2;\n    }\n    WUX.same = same;\n    function parse(s) {\n        if (!s)\n            return ['', $('<span></span>'), ''];\n        if (typeof s == 'string') {\n            if (s.charAt(0) != '<' || s.charAt(s.length - 1) != '>') {\n                var st = s.indexOf('<');\n                if (st < 0)\n                    return ['', $('<span>' + s.replace('>', '&gt;') + '</span>'), ''];\n                var et = s.lastIndexOf('>');\n                if (et < 0)\n                    return ['', $('<span>' + s.replace('<', '&lt;') + '</span>'), ''];\n                return [s.substring(0, st), $(s.substring(st, et + 1)), s.substring(et + 1)];\n            }\n            return ['', $(s), ''];\n        }\n        else if (s instanceof jQuery) {\n            return ['', s, ''];\n        }\n        return ['', $('<span>' + s + '</span>'), ''];\n    }\n    WUX.parse = parse;\n    function divide(s) {\n        if (!s)\n            return ['', '', ''];\n        if (s == ' ')\n            return ['', '&nbsp;', ''];\n        var b = s.charAt(0) == ' ' ? '&nbsp;' : '';\n        var a = s.length > 1 && s.charAt(s.length - 1) == ' ' ? '&nbsp;' : '';\n        var ss = s.trim().split('<>');\n        if (!ss || ss.length < 2)\n            return [b, s.trim(), a];\n        b += ss[0];\n        if (ss.length == 2)\n            return [b, ss[1], ''];\n        a += ss[2];\n        return [b, ss[1], a];\n    }\n    WUX.divide = divide;\n    function str(a) {\n        if (a instanceof WComponent) {\n            var wcdn = a.name;\n            var wcid = a.id;\n            if (!wcdn)\n                wcdn = 'WComponent';\n            if (!wcid)\n                return wcdn;\n            return wcdn + '(' + wcid + ')';\n        }\n        if (a instanceof jQuery) {\n            if (a.length) {\n                var id = a.attr(\"id\") ? ' id=' + a.attr(\"id\") : '';\n                return a.selector ? '$(\"' + a.selector + '\")' : '$(<' + a.prop(\"tagName\") + id + '>)';\n            }\n            else {\n                return '$(\"' + a.selector + '\").length=0';\n            }\n        }\n        if (typeof a == 'object')\n            return JSON.stringify(a);\n        return a + '';\n    }\n    WUX.str = str;\n    function getTagName(c) {\n        if (!c)\n            return '';\n        if (c instanceof WComponent) {\n            var r = c.rootTag;\n            if (r)\n                return r.toLowerCase();\n            var root = c.getRoot();\n            if (!root)\n                return WUX.getTagName(root);\n            return '';\n        }\n        else if (c instanceof jQuery) {\n            if (c.length) {\n                var r = c.prop(\"tagName\");\n                if (r)\n                    return ('' + r).toLowerCase();\n                return '';\n            }\n        }\n        else {\n            var s = '' + c;\n            if (s.charAt(0) == '<') {\n                var e = s.indexOf(' ');\n                if (e < 0)\n                    e = s.indexOf('>');\n                if (e > 0) {\n                    var r = s.substring(1, e).toLowerCase();\n                    if (r.charAt(r.length - 1) == '/')\n                        return r.substring(0, r.length - 1);\n                    return r;\n                }\n                return '';\n            }\n            else if (s.charAt(0) == '#') {\n                return WUX.getTagName($(s));\n            }\n            return WUX.getTagName($('#' + s));\n        }\n        return '';\n    }\n    WUX.getTagName = getTagName;\n    function match(i, o) {\n        if (!o)\n            return !i;\n        if (i == null)\n            return typeof o == 'string' ? o == '' : !o.id;\n        if (typeof i == 'object')\n            return typeof o == 'string' ? o == i.id : o.id == i.id;\n        return typeof o == 'string' ? o == i : o.id == i;\n    }\n    WUX.match = match;\n    function hashCode(a) {\n        if (!a)\n            return 0;\n        var s = '' + a;\n        var h = 0, l = s.length, i = 0;\n        if (l > 0)\n            while (i < l)\n                h = (h << 5) - h + s.charCodeAt(i++) | 0;\n        return h;\n    }\n    WUX.hashCode = hashCode;\n    function styleObj(ws) {\n        var s = style(ws);\n        var r = {};\n        if (!s)\n            return r;\n        var kvs = s.split(';');\n        for (var _i = 0, kvs_1 = kvs; _i < kvs_1.length; _i++) {\n            var kv = kvs_1[_i];\n            var akv = kv.split(':');\n            if (akv.length < 2)\n                continue;\n            r[akv[0].trim()] = akv[1].trim();\n        }\n        return r;\n    }\n    WUX.styleObj = styleObj;\n    function style(ws) {\n        var s = '';\n        if (!ws)\n            return s;\n        if (typeof ws == 'string') {\n            if (ws.indexOf(':') <= 0)\n                return '';\n            if (ws.charAt(ws.length - 1) != ';')\n                return ws + ';';\n            return ws;\n        }\n        if (ws.s)\n            s += css(ws.s);\n        if (ws.fs)\n            s += 'font-style:' + ws.fs + ';';\n        if (ws.fw)\n            s += 'font-weight:' + ws.fw + ';';\n        if (ws.tt)\n            s += 'text-transform:' + ws.tt + ';';\n        if (ws.tr)\n            s += 'transform:' + ws.tr + ';';\n        if (ws.fl)\n            s += 'float:' + ws.fl + ';';\n        if (ws.cl)\n            s += 'clear:' + ws.cl + ';';\n        if (ws.a)\n            s += 'text-align:' + ws.a + ';';\n        if (ws.c)\n            s += 'color:' + ws.c + ';';\n        if (ws.v)\n            s += 'vertical-align:' + ws.v + ';';\n        if (ws.d)\n            s += 'display:' + ws.d + ';';\n        if (ws.z)\n            s += 'z-index:' + ws.z + ';';\n        if (ws.lh)\n            s += 'line-height:' + ws.lh + ';';\n        if (ws.ps)\n            s += 'position:' + ws.ps + ';';\n        if (ws.o)\n            s += 'overflow:' + ws.o + ';';\n        if (ws.ox)\n            s += 'overflow-x:' + ws.ox + ';';\n        if (ws.oy)\n            s += 'overflow-y:' + ws.oy + ';';\n        if (ws.op != null)\n            s += 'opacity:' + ws.op + ';';\n        if (ws.ol != null)\n            s += 'outline:' + ws.ol + ';';\n        if (ws.cr)\n            s += 'cursor:' + ws.cr + ';';\n        if (ws.cn)\n            s += 'content:' + ws.cn + ';';\n        if (ws.k && ws.k.indexOf(':') > 0)\n            s += ws.k.charAt(0) == '-' ? '-webkit' + ws.k + ';' : '-webkit-' + ws.k + ';';\n        if (ws.k && ws.k.indexOf(':') > 0)\n            s += ws.k.charAt(0) == '-' ? '-moz' + ws.k + ';' : '-moz-' + ws.k + ';';\n        if (ws.k && ws.k.indexOf(':') > 0)\n            s += ws.k.charAt(0) == '-' ? '-o' + ws.k + ';' : '-o-' + ws.k + ';';\n        if (ws.k && ws.k.indexOf(':') > 0)\n            s += ws.k.charAt(0) == '-' ? '-ms' + ws.k + ';' : '-ms-' + ws.k + ';';\n        if (ws.bs)\n            s += 'box-shadow:' + ws.bs + ';';\n        if (ws.bz)\n            s += 'box-sizing:' + ws.bz + ';';\n        if (ws.b)\n            s += ws.b.indexOf(':') > 0 ? css('border' + ws.b) : ws.b.match(/^(|none|inherit|initial|unset)$/) ? 'border:' + ws.b + ';' : ws.b.indexOf(' ') > 0 ? 'border:' + ws.b + ';' : 'border:1px solid ' + ws.b + ';';\n        if (ws.bc)\n            s += 'border-collapse:' + ws.bc + ';';\n        if (ws.br != null)\n            s += typeof ws.br == 'number' ? 'border-radius:' + ws.br + 'px;' : 'border-radius:' + ws.br + ';';\n        if (ws.bsp != null)\n            s += typeof ws.bsp == 'number' ? 'border-spacing:' + ws.bsp + 'px;' : 'border-spacing:' + ws.bsp + ';';\n        if (ws.m != null)\n            s += typeof ws.m == 'number' ? 'margin:' + ws.m + 'px;' : ws.m.indexOf(':') > 0 ? css('margin' + ws.m) : 'margin:' + ws.m + ';';\n        if (ws.mt != null)\n            s += typeof ws.mt == 'number' ? 'margin-top:' + ws.mt + 'px;' : 'margin-top:' + ws.mt + ';';\n        if (ws.mr != null)\n            s += typeof ws.mr == 'number' ? 'margin-right:' + ws.mr + 'px;' : 'margin-right:' + ws.mr + ';';\n        if (ws.mb != null)\n            s += typeof ws.mb == 'number' ? 'margin-bottom:' + ws.mb + 'px;' : 'margin-bottom:' + ws.mb + ';';\n        if (ws.ml != null)\n            s += typeof ws.ml == 'number' ? 'margin-left:' + ws.ml + 'px;' : 'margin-left:' + ws.ml + ';';\n        if (ws.p != null)\n            s += typeof ws.p == 'number' ? 'padding:' + ws.p + 'px;' : ws.p.indexOf(':') > 0 ? css('padding' + ws.p) : 'padding:' + ws.p + ';';\n        if (ws.pt != null)\n            s += typeof ws.pt == 'number' ? 'padding-top:' + ws.pt + 'px;' : 'padding-top:' + ws.pt + ';';\n        if (ws.pr != null)\n            s += typeof ws.pr == 'number' ? 'padding-right:' + ws.pr + 'px;' : 'padding-right:' + ws.pr + ';';\n        if (ws.pb != null)\n            s += typeof ws.pb == 'number' ? 'padding-bottom:' + ws.pb + 'px;' : 'padding-bottom:' + ws.pb + ';';\n        if (ws.pl != null)\n            s += typeof ws.pl == 'number' ? 'padding-left:' + ws.pl + 'px;' : 'padding-left:' + ws.pl + ';';\n        if (ws.f != null)\n            s += typeof ws.f == 'number' ? 'font-size:' + ws.f + 'px;' : ws.f.indexOf(':') > 0 ? css('font' + ws.f) : 'font-size:' + ws.f + ';';\n        if (ws.bg)\n            s += ws.bg.indexOf(':') > 0 ? css('background' + ws.bg) : ws.bg.indexOf('url') >= 0 ? 'background:' + ws.bg + ';' : 'background-color:' + ws.bg + ';';\n        if (ws.bgi)\n            s += 'background-image:' + ws.bgi + ';';\n        if (ws.bgp)\n            s += 'background-position:' + ws.bgp + ';';\n        if (ws.bgr)\n            s += 'background-repeat:' + ws.bgr + ';';\n        if (ws.text)\n            s += ws.text.indexOf(':') > 0 ? css('text' + ws.text) : 'text-decoration:' + ws.text + ';';\n        if (ws.l != null)\n            s += typeof ws.l == 'number' ? 'left:' + ws.l + 'px;' : 'left:' + ws.l + ';';\n        if (ws.r != null)\n            s += typeof ws.r == 'number' ? 'right:' + ws.r + 'px;' : 'right:' + ws.r + ';';\n        if (ws.t != null)\n            s += typeof ws.t == 'number' ? 'top:' + ws.t + 'px;' : 'top:' + ws.t + ';';\n        if (ws.bt != null)\n            s += typeof ws.bt == 'number' ? 'bottom:' + ws.bt + 'px;' : 'bottom:' + ws.bt + ';';\n        if (ws.w)\n            s += typeof ws.w == 'number' ? 'width:' + ws.w + 'px;' : 'width:' + ws.w + ';';\n        if (ws.h)\n            s += typeof ws.h == 'number' ? 'height:' + ws.h + 'px;' : 'height:' + ws.h + ';';\n        if (ws.minw)\n            s += typeof ws.minw == 'number' ? 'min-width:' + ws.minw + 'px;' : 'min-width:' + ws.minw + ';';\n        if (ws.maxw)\n            s += typeof ws.maxw == 'number' ? 'max-width:' + ws.maxw + 'px;' : 'max-width:' + ws.maxw + ';';\n        if (ws.minh)\n            s += typeof ws.minh == 'number' ? 'min-height:' + ws.minh + 'px;' : 'min-height:' + ws.minh + ';';\n        if (ws.maxh)\n            s += typeof ws.maxh == 'number' ? 'max-height:' + ws.maxh + 'px;' : 'max-height:' + ws.maxh + ';';\n        return s;\n    }\n    WUX.style = style;\n    function addStyle(s, k, v, n) {\n        if (!k || !v)\n            return css(s);\n        if (!s)\n            return k + ':' + v + ';';\n        if (n) {\n            if (s.indexOf(k + ':') >= 0)\n                return css(s);\n            return css(s) + k + ':' + v + ';';\n        }\n        return css(s) + k + ':' + v + ';';\n    }\n    WUX.addStyle = addStyle;\n    function css() {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        if (!a || a.length == 0)\n            return '';\n        var s = '';\n        var x = {};\n        var xi = true;\n        for (var i = 0; i < a.length; i++) {\n            var e = a[i];\n            if (!e)\n                continue;\n            if (typeof e != 'string') {\n                $.extend(x, e);\n                xi = false;\n                continue;\n            }\n            if (!xi) {\n                s += style(x);\n                x = {};\n                xi = true;\n            }\n            if (e.indexOf(':') > 0) {\n                s += e;\n                if (e.charAt(e.length - 1) != ';')\n                    s += ';';\n            }\n        }\n        if (!xi)\n            s += style(x);\n        return s;\n    }\n    WUX.css = css;\n    function cls() {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        if (!a || !a.length)\n            return '';\n        var s = '';\n        for (var i = 0; i < a.length; i++) {\n            var e = a[i];\n            if (!e)\n                continue;\n            var se = typeof e == 'string' ? e : e.n;\n            if (!se)\n                continue;\n            if (se.indexOf(':') > 0)\n                continue;\n            s += se + ' ';\n        }\n        return s.trim();\n    }\n    WUX.cls = cls;\n    function attributes(a) {\n        if (!a)\n            return '';\n        if (typeof a == 'string')\n            return a;\n        if (typeof a == 'object') {\n            var r = '';\n            for (var k in a)\n                r += k + '=\"' + a[k] + '\" ';\n            return r.trim();\n        }\n        return '';\n    }\n    WUX.attributes = attributes;\n    function ul(css) {\n        var a = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            a[_i - 1] = arguments[_i];\n        }\n        if (!a || !a.length)\n            return '';\n        var s = css ? '<ul' + buildCss(css) + '>' : '<ul>';\n        for (var i = 0; i < a.length; i++) {\n            var e = a[i];\n            if (e == null)\n                continue;\n            s += '<li>' + e + '</li>';\n        }\n        s += '</ul>';\n        return s;\n    }\n    WUX.ul = ul;\n    function ol(css, start) {\n        var a = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            a[_i - 2] = arguments[_i];\n        }\n        if (!a || !a.length)\n            return '';\n        var s = '';\n        if (start != null) {\n            s = css ? '<ol' + buildCss(css) + ' start=\"' + start + '\">' : '<ol start=\"' + start + '\">';\n        }\n        else {\n            s = css ? '<ol' + buildCss(css) + '>' : '<ol>';\n        }\n        for (var i = 0; i < a.length; i++) {\n            var e = a[i];\n            if (e == null)\n                continue;\n            s += '<li>' + e + '</li>';\n        }\n        s += '</ol>';\n        return s;\n    }\n    WUX.ol = ol;\n    function buildCss() {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        if (!a || !a.length)\n            return '';\n        var c = cls.apply(void 0, a);\n        var s = css.apply(void 0, a);\n        var r = '';\n        if (c)\n            r += ' class=\"' + c + '\"';\n        if (s)\n            r += ' style=\"' + s + '\"';\n        return r;\n    }\n    WUX.buildCss = buildCss;\n    function removeClass(css, name) {\n        if (!css || !name)\n            return css;\n        var classes = css.split(' ');\n        var r = '';\n        for (var _i = 0, classes_1 = classes; _i < classes_1.length; _i++) {\n            var c = classes_1[_i];\n            if (c == name)\n                continue;\n            r += c + ' ';\n        }\n        return r.trim();\n    }\n    WUX.removeClass = removeClass;\n    function toggleClass(css, name) {\n        if (!css || !name)\n            return css;\n        var classes = css.split(' ');\n        var f = false;\n        var r = '';\n        for (var _i = 0, classes_2 = classes; _i < classes_2.length; _i++) {\n            var c = classes_2[_i];\n            if (c == name) {\n                f = true;\n                continue;\n            }\n            r += c + ' ';\n        }\n        if (!f)\n            return r.trim() + ' ' + name;\n        return r.trim();\n    }\n    WUX.toggleClass = toggleClass;\n    function setCss(e) {\n        var a = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            a[_i - 1] = arguments[_i];\n        }\n        if (!e || !a || !a.length)\n            return e;\n        if (e instanceof WComponent) {\n            e.css.apply(e, a);\n        }\n        else if (e instanceof jQuery) {\n            if (!e.length)\n                return e;\n            var s = css.apply(void 0, a);\n            var c = cls.apply(void 0, a);\n            if (c)\n                e.addClass(c);\n            if (s)\n                e.css(styleObj(s));\n        }\n        return e;\n    }\n    WUX.setCss = setCss;\n    function buildIcon(icon, before, after, size, cls, title) {\n        if (!icon)\n            return '';\n        if (!before)\n            before = '';\n        if (!after)\n            after = '';\n        var t = title ? ' title=\"' + title + '\"' : '';\n        cls = cls ? ' ' + cls : '';\n        if (icon.indexOf('.') > 0)\n            return before + '<img src=\"' + icon + '\"' + t + '>' + after;\n        if (!size || size < 2)\n            return before + '<i class=\"fa ' + icon + cls + '\"' + t + '></i>' + after;\n        if (size > 5)\n            size = 5;\n        return before + '<i class=\"fa ' + icon + ' fa-' + size + 'x' + cls + '\"' + t + '></i>' + after;\n    }\n    WUX.buildIcon = buildIcon;\n    function build(tagName, inner, css, attributes, id, classStyle) {\n        if (!tagName)\n            tagName = 'div';\n        var clsStyle;\n        var style;\n        if (typeof css == 'string') {\n            if (css.indexOf(':') > 0) {\n                style = css;\n            }\n            else {\n                clsStyle = css;\n            }\n        }\n        else if (css) {\n            if (css.n)\n                clsStyle = css.n;\n            style = WUX.style(css);\n        }\n        if (classStyle) {\n            if (clsStyle) {\n                clsStyle += ' ' + classStyle;\n            }\n            else {\n                clsStyle = classStyle;\n            }\n        }\n        var r = '<' + tagName;\n        if (id)\n            r += ' id=\"' + id + '\"';\n        if (clsStyle)\n            r += ' class=\"' + clsStyle + '\"';\n        if (style)\n            r += ' style=\"' + style + '\"';\n        var a = WUX.attributes(attributes);\n        if (a)\n            r += ' ' + a;\n        r += '>';\n        var bca = divide(inner);\n        r += bca[1];\n        if (tagName == 'input')\n            return bca[0] + r + bca[2];\n        r += '</' + tagName + '>';\n        return bca[0] + r + bca[2];\n    }\n    WUX.build = build;\n    function addWrapper(n, w, b, e) {\n        if (!n || !w)\n            return n;\n        var cls = WUX.cls(w.classStyle, w.style);\n        var style = WUX.style(w.style);\n        var t = w.type ? w.type : 'div';\n        var r = '<' + t;\n        if (w.id)\n            r += ' id=\"' + w.id + '\"';\n        if (cls)\n            r += ' class=\"' + cls + '\"';\n        if (style)\n            r += ' style=\"' + style + '\"';\n        var a = WUX.attributes(attributes);\n        if (a)\n            r += ' ' + a;\n        if (w.title)\n            r += ' title=\"' + w.title + '\"';\n        r += '>';\n        r += '</' + t + '>';\n        var $r = $(r);\n        w.element = $r;\n        if (b)\n            n.append(b);\n        n.append($r);\n        if (e)\n            n.append(e);\n        if (w.wrapper)\n            return WUX.addWrapper($r, w.wrapper, w.begin, w.end);\n        if (w.begin)\n            $r.append(w.begin);\n        if (w.end)\n            $r.append(w.end);\n        return $r;\n    }\n    WUX.addWrapper = addWrapper;\n    function val(e, v) {\n        if (!e)\n            return;\n        if (typeof e == 'string') {\n            if (e.indexOf('<') >= 0)\n                return;\n            if (e.indexOf('#') < 0)\n                e = '#' + e;\n            var c = WUX.getComponent(e);\n            if (c) {\n                if (v === undefined)\n                    return c.getState();\n                c.setState(v);\n            }\n            else {\n                if (v === undefined)\n                    return $(e).val();\n                $(e).val(v);\n            }\n        }\n        else if (e instanceof WComponent) {\n            if (v === undefined)\n                return e.getState();\n            e.setState(v);\n        }\n        else if (e instanceof jQuery) {\n            if (v === undefined)\n                return e.val();\n            e.val(v);\n        }\n        else {\n            if (v === undefined)\n                return $(e).val();\n            $(e).val(v);\n        }\n        return v;\n    }\n    WUX.val = val;\n    function getContainer(e, s) {\n        if (s === void 0) { s = 'div'; }\n        if (!e)\n            return;\n        if (typeof e == 'string') {\n            if (e.indexOf('<') >= 0)\n                return;\n            if (e.indexOf('#') < 0)\n                e = '#' + e;\n            return WUX.getContainer($(e));\n        }\n        else if (e instanceof WComponent) {\n            var $c = e.getContext();\n            if ($c) {\n                var $r = $c.closest(s);\n                if ($r && $r.length)\n                    return $r;\n            }\n            return $c;\n        }\n        else {\n            var $r = e.parent().closest(s);\n            if ($r && $r.length)\n                return $r;\n            return e.parent();\n        }\n    }\n    WUX.getContainer = getContainer;\n    function openURL(url, history, newTab, params) {\n        if (history === void 0) { history = true; }\n        if (newTab === void 0) { newTab = false; }\n        if (!url)\n            return;\n        if (params && typeof params == 'object') {\n            var qs = '';\n            for (var p in params) {\n                if (params.hasOwnProperty(p)) {\n                    var v = params[p];\n                    qs += '&' + encodeURIComponent(p) + '=' + encodeURIComponent(v);\n                }\n            }\n            if (qs) {\n                if (url.indexOf('?') > 0) {\n                    url += qs;\n                }\n                else {\n                    url += '?' + qs.substring(1);\n                }\n            }\n        }\n        if (newTab) {\n            window.open(url, '_blank');\n        }\n        else if (history) {\n            window.location.assign(url);\n        }\n        else {\n            window.location.replace(url);\n        }\n    }\n    WUX.openURL = openURL;\n})(WUX || (WUX = {}));\nvar WUX;\n(function (WUX) {\n    var _data = {};\n    var _dccb = {};\n    WUX.global = {\n        locale: 'it',\n        main_class: 'container-fluid',\n        con_class: 'container',\n        box_class: 'ibox',\n        box_header: 'ibox-title',\n        box_title: '<h5>$</h5>',\n        box_tools: 'ibox-tools',\n        box_content: 'ibox-content',\n        box_footer: 'ibox-footer',\n        chart_bg0: 'rgba(26,179,148,0.5)',\n        chart_bg1: 'rgba(220,220,220,0.5)',\n        chart_bg2: 'rgba(160,220,255,0.5)',\n        chart_bc0: 'rgba(26,179,148,0.7)',\n        chart_bc1: 'rgba(220,220,220,0.7)',\n        chart_bc2: 'rgba(160,220,255,0.7)',\n        chart_p0: 'rgba(26,179,148,1)',\n        chart_p1: 'rgba(220,220,220,1)',\n        chart_p2: 'rgba(160,220,255,1)',\n        area: { b: '-radius:8px', m: '0px 0px 0px 0px', p: '16px 7px 5px 7px', bg: 'white' },\n        area_title: { b: 'none', f: 14, fw: 'bold', w: 'unset', ps: 'relative', t: 12, l: 0, m: 0 },\n        section: { b: '#e7eaec', m: '2px 0px 4px 0px', p: '8px 8px 8px 8px', bg: '#fafafa' },\n        section_title: { b: 'none', f: 16, fw: '600', w: 'unset', m: '-bottom:2px', tt: 'uppercase' },\n        window_top: { ps: 'fixed', t: 0, bg: '#ffffff', ml: -10, p: '0 10px', z: 1001 },\n        window_bottom: { ps: 'fixed', bt: 0, bg: '#ffffff', ml: -10, p: '0 10px', z: 1001 },\n        init: function _init(callback) {\n            if (WUX.debug)\n                console.log('[WUX] global.init...');\n            if (WUX.debug)\n                console.log('[WUX] global.init completed');\n            if (callback)\n                callback();\n        },\n        setData: function (key, data, dontTrigger) {\n            if (dontTrigger === void 0) { dontTrigger = false; }\n            if (!key)\n                key = 'global';\n            _data[key] = data;\n            if (dontTrigger)\n                return;\n            if (!_dccb[key])\n                return;\n            for (var _i = 0, _a = _dccb[key]; _i < _a.length; _i++) {\n                var cb = _a[_i];\n                cb(data);\n            }\n        },\n        getData: function (key, def) {\n            if (!key)\n                key = 'global';\n            var r = _data[key];\n            if (r == null)\n                return def;\n            return r;\n        },\n        onDataChanged: function (key, callback) {\n            if (!key)\n                key = 'global';\n            if (!_dccb[key])\n                _dccb[key] = [];\n            _dccb[key].push(callback);\n        }\n    };\n    function showMessage(m, title, type, dlg) {\n        _showMessage(m, title, type, dlg);\n    }\n    WUX.showMessage = showMessage;\n    function showInfo(m, title, dlg, f) {\n        _showInfo(m, title, dlg, f);\n    }\n    WUX.showInfo = showInfo;\n    function showSuccess(m, title, dlg) {\n        _showSuccess(m, title, dlg);\n    }\n    WUX.showSuccess = showSuccess;\n    function showWarning(m, title, dlg) {\n        _showWarning(m, title, dlg);\n    }\n    WUX.showWarning = showWarning;\n    function showError(m, title, dlg) {\n        _showError(m, title, dlg);\n    }\n    WUX.showError = showError;\n    function confirm(m, f) {\n        _confirm(m, f);\n    }\n    WUX.confirm = confirm;\n    function getInput(m, f, d) {\n        _getInput(m, f, d);\n    }\n    WUX.getInput = getInput;\n    function getPageTitle() {\n        return $('#ptitle');\n    }\n    WUX.getPageTitle = getPageTitle;\n    function getBreadcrump() {\n        return $('#pbreadcrumb');\n    }\n    WUX.getBreadcrump = getBreadcrump;\n    function getPageHeader() {\n        return $('#pheader');\n    }\n    WUX.getPageHeader = getPageHeader;\n    function getPageFooter() {\n        return $('#pfooter');\n    }\n    WUX.getPageFooter = getPageFooter;\n    function getPageMenu() {\n        return $('#side-menu');\n    }\n    WUX.getPageMenu = getPageMenu;\n    function getViewRoot() {\n        return $('#view-root');\n    }\n    WUX.getViewRoot = getViewRoot;\n    function sticky(c) {\n    }\n    WUX.sticky = sticky;\n    function stickyRefresh() {\n    }\n    WUX.stickyRefresh = stickyRefresh;\n    function formatDate(a, withDay, e) {\n        if (withDay === void 0) { withDay = false; }\n        if (e === void 0) { e = false; }\n        if (!a)\n            return '';\n        var d = WUX.WUtil.toDate(a);\n        if (!d)\n            return '';\n        var m = d.getMonth() + 1;\n        var sm = m < 10 ? '0' + m : '' + m;\n        var sd = d.getDate() < 10 ? '0' + d.getDate() : '' + d.getDate();\n        if (withDay) {\n            return WUX.formatDay(d.getDay(), e) + ', ' + sd + '/' + sm + '/' + d.getFullYear();\n        }\n        return sd + '/' + sm + '/' + d.getFullYear();\n    }\n    WUX.formatDate = formatDate;\n    function formatDateTime(a, withSec, withDay, e) {\n        if (withSec === void 0) { withSec = false; }\n        if (withDay === void 0) { withDay = false; }\n        if (e === void 0) { e = false; }\n        if (!a)\n            return '';\n        var d = WUX.WUtil.toDate(a);\n        if (!d)\n            return '';\n        var m = d.getMonth() + 1;\n        var sm = m < 10 ? '0' + m : '' + m;\n        var sd = d.getDate() < 10 ? '0' + d.getDate() : '' + d.getDate();\n        var sh = d.getHours() < 10 ? '0' + d.getHours() : '' + d.getHours();\n        var sp = d.getMinutes() < 10 ? '0' + d.getMinutes() : '' + d.getMinutes();\n        if (withSec) {\n            var ss = d.getSeconds() < 10 ? '0' + d.getSeconds() : '' + d.getSeconds();\n            if (withDay) {\n                return WUX.formatDay(d.getDay(), e) + ', ' + sd + '/' + sm + '/' + d.getFullYear() + ' ' + sh + ':' + sp + ':' + ss;\n            }\n            return sd + '/' + sm + '/' + d.getFullYear() + ' ' + sh + ':' + sp + ':' + ss;\n        }\n        if (withDay) {\n            return WUX.formatDay(d.getDay(), e) + ', ' + sd + '/' + sm + '/' + d.getFullYear() + ' ' + sh + ':' + sp;\n        }\n        return sd + '/' + sm + '/' + d.getFullYear() + ' ' + sh + ':' + sp;\n    }\n    WUX.formatDateTime = formatDateTime;\n    function formatTime(a, withSec) {\n        if (withSec === void 0) { withSec = false; }\n        if (a == null)\n            return '';\n        if (typeof a == 'number') {\n            if (withSec) {\n                var hh = Math.floor(a / 10000);\n                var mm = Math.floor((a % 10000) / 100);\n                var is = (a % 10000) % 100;\n                var sm = mm < 10 ? '0' + mm : '' + mm;\n                var ss = is < 10 ? '0' + is : '' + is;\n                return hh + ':' + sm + ':' + ss;\n            }\n            else {\n                var hh = Math.floor(a / 100);\n                var mm = a % 100;\n                var sm = mm < 10 ? '0' + mm : '' + mm;\n                return hh + ':' + sm;\n            }\n        }\n        if (typeof a == 'string') {\n            if (a.indexOf(':') > 0)\n                return a;\n            if (a.length < 3)\n                return a + ':00';\n            if (a.length >= 5)\n                return a.substring(0, 2) + ':' + a.substring(2, 4) + ':' + a.substring(4);\n            return a.substring(0, 2) + ':' + a.substring(2);\n        }\n        if (a instanceof Date) {\n            var sh = a.getHours() < 10 ? '0' + a.getHours() : '' + a.getHours();\n            var sp = a.getMinutes() < 10 ? '0' + a.getMinutes() : '' + a.getMinutes();\n            if (withSec) {\n                var ss = a.getSeconds() < 10 ? '0' + a.getSeconds() : '' + a.getSeconds();\n                return sh + ':' + sp + ':' + ss;\n            }\n            return sh + ':' + sp;\n        }\n        return '';\n    }\n    WUX.formatTime = formatTime;\n    function formatNum2(a, nz, z, neg) {\n        if (a === '' || a == null)\n            return '';\n        var n = WUX.WUtil.toNumber(a);\n        var r = ('' + (Math.round(n * 100) / 100)).replace('.', ',');\n        if (nz != null && n != 0) {\n            if (neg != null && n < 0)\n                return neg.replace('$', r);\n            return nz.replace('$', r);\n        }\n        if (z != null && n == 0)\n            return z.replace('$', r);\n        return r;\n    }\n    WUX.formatNum2 = formatNum2;\n    function formatNum(a, nz, z, neg) {\n        if (a === '' || a == null)\n            return '';\n        var n = WUX.WUtil.toNumber(a);\n        var r = ('' + n).replace('.', ',');\n        if (nz != null && n != 0) {\n            if (neg != null && n < 0) {\n                if (neg == 'l')\n                    return n.toLocaleString('it-IT');\n                return neg.replace('$', r);\n            }\n            if (nz == 'l')\n                return n.toLocaleString('it-IT');\n            return nz.replace('$', r);\n        }\n        if (z != null && n == 0)\n            return z.replace('$', r);\n        return r;\n    }\n    WUX.formatNum = formatNum;\n    function formatCurr(a, nz, z, neg) {\n        if (a === '' || a == null)\n            return '';\n        var n = WUX.WUtil.toNumber(a);\n        var r = (Math.round(n * 100) / 100).toLocaleString('it-IT');\n        var d = r.indexOf(',');\n        if (d < 0)\n            r += ',00';\n        if (d == r.length - 2)\n            r += '0';\n        if (nz != null && n != 0) {\n            if (neg != null && n < 0)\n                return neg.replace('$', r);\n            return nz.replace('$', r);\n        }\n        if (z != null && n == 0)\n            return z.replace('$', r);\n        return r;\n    }\n    WUX.formatCurr = formatCurr;\n    function formatCurr5(a, nz, z, neg) {\n        if (a === '' || a == null)\n            return '';\n        var n = WUX.WUtil.toNumber(a);\n        var r = ('' + (Math.round(n * 100000) / 100000)).replace('.', ',');\n        var d = r.indexOf(',');\n        if (d < 0)\n            r += ',00';\n        if (d == r.length - 2)\n            r += '0';\n        if (d > 0) {\n            var s1 = r.substring(0, d);\n            var s2 = r.substring(d);\n            var s3 = '';\n            for (var i = 1; i <= s1.length; i++) {\n                if (i > 3 && (i - 1) % 3 == 0)\n                    s3 = '.' + s3;\n                s3 = s1.charAt(s1.length - i) + s3;\n            }\n            r = s3 + s2;\n        }\n        if (nz != null && n != 0) {\n            if (neg != null && n < 0)\n                return neg.replace('$', r);\n            return nz.replace('$', r);\n        }\n        if (z != null && n == 0)\n            return z.replace('$', r);\n        return r;\n    }\n    WUX.formatCurr5 = formatCurr5;\n    function formatBoolean(a) {\n        if (a == null)\n            return '';\n        return a ? 'S' : 'N';\n    }\n    WUX.formatBoolean = formatBoolean;\n    function format(a) {\n        if (a == null)\n            return '';\n        if (typeof a == 'string')\n            return a;\n        if (typeof a == 'boolean')\n            return WUX.formatBoolean(a);\n        if (typeof a == 'number') {\n            var r = ('' + a);\n            if (r.indexOf('.') >= 0)\n                return WUX.formatCurr(a);\n            return WUX.formatNum(a);\n        }\n        if (a instanceof Date)\n            return WUX.formatDate(a);\n        if (a instanceof WUX.WComponent) {\n            if (a instanceof WUX.WCheck) {\n                if (a.checked)\n                    return a.text;\n                return '';\n            }\n            else if (a.rootTag == 'select') {\n                var p = a.getProps();\n                if (Array.isArray(p) && p.length > 1) {\n                    var y = '';\n                    for (var _i = 0, p_1 = p; _i < p_1.length; _i++) {\n                        var e = p_1[_i];\n                        var v = '' + e;\n                        if (!v)\n                            continue;\n                        if (v.length > 9) {\n                            var w = v.indexOf(' -');\n                            if (w > 0)\n                                v = v.substring(0, w).trim();\n                            y += ',' + v;\n                        }\n                        else {\n                            y += ',' + v;\n                        }\n                    }\n                    if (y.length)\n                        y = y.substring(1);\n                    return y;\n                }\n                else {\n                    var v = '' + a.getProps();\n                    if (!v)\n                        v = a.getState();\n                    return WUX.format(v);\n                }\n            }\n            return WUX.format(a.getState());\n        }\n        return '' + a;\n    }\n    WUX.format = format;\n    function formatDay(d, e) {\n        switch (d) {\n            case 0: return e ? 'Domenica' : 'Dom';\n            case 1: return e ? 'Luned&igrave;' : 'Lun';\n            case 2: return e ? 'Marted&igrave;' : 'Mar';\n            case 3: return e ? 'Mercoled&igrave;' : 'Mer';\n            case 4: return e ? 'Giove&igrave;' : 'Gio';\n            case 5: return e ? 'Venerd&igrave;' : 'Ven';\n            case 6: return e ? 'Sabato' : 'Sab';\n        }\n        return '';\n    }\n    WUX.formatDay = formatDay;\n    function formatMonth(m, e, y) {\n        if (m > 100) {\n            y = Math.floor(m / 100);\n            m = m % 100;\n        }\n        y = y ? ' ' + y : '';\n        switch (m) {\n            case 1: return e ? 'Gennaio' + y : 'Gen' + y;\n            case 2: return e ? 'Febbraio' + y : 'Feb' + y;\n            case 3: return e ? 'Marzo' + y : 'Mar' + y;\n            case 4: return e ? 'Aprile' + y : 'Apr' + y;\n            case 5: return e ? 'Maggio' + y : 'Mag' + y;\n            case 6: return e ? 'Giugno' + y : 'Giu' + y;\n            case 7: return e ? 'Luglio' + y : 'Lug' + y;\n            case 8: return e ? 'Agosto' + y : 'Ago' + y;\n            case 9: return e ? 'Settembre' + y : 'Set' + y;\n            case 10: return e ? 'Ottobre' + y : 'Ott' + y;\n            case 11: return e ? 'Novembre' + y : 'Nov' + y;\n            case 12: return e ? 'Dicembre' + y : 'Dic' + y;\n        }\n        return '';\n    }\n    WUX.formatMonth = formatMonth;\n    function decodeMonth(m) {\n        if (!m)\n            return 0;\n        if (typeof m == 'number') {\n            if (m > 0 && m < 13)\n                return m;\n            return 0;\n        }\n        var s = ('' + m).toLowerCase();\n        if (s.length > 3)\n            s = s.substring(0, 3);\n        if (s == 'gen')\n            return 1;\n        if (s == 'feb')\n            return 2;\n        if (s == 'mar')\n            return 3;\n        if (s == 'apr')\n            return 4;\n        if (s == 'mag')\n            return 5;\n        if (s == 'giu')\n            return 6;\n        if (s == 'lug')\n            return 7;\n        if (s == 'ago')\n            return 8;\n        if (s == 'set')\n            return 9;\n        if (s == 'ott')\n            return 10;\n        if (s == 'nov')\n            return 11;\n        if (s == 'dic')\n            return 12;\n        var n = WUX.WUtil.toInt(s);\n        if (n > 0 && n < 13)\n            return n;\n        return 0;\n    }\n    WUX.decodeMonth = decodeMonth;\n    function norm(t) {\n        if (!t)\n            return '';\n        t = '' + t;\n        t = t.replace(\"\\300\", \"A'\").replace(\"\\310\", \"E'\").replace(\"\\314\", \"I'\").replace(\"\\322\", \"O'\").replace(\"\\331\", \"U'\");\n        t = t.replace(\"\\340\", \"a'\").replace(\"\\350\", \"e'\").replace(\"\\354\", \"i'\").replace(\"\\362\", \"o'\").replace(\"\\371\", \"u'\");\n        t = t.replace(\"\\341\", \"a`\").replace(\"\\351\", \"e`\").replace(\"\\355\", \"i`\").replace(\"\\363\", \"o`\").replace(\"\\372\", \"u`\");\n        t = t.replace(\"\\u20ac\", \"E\").replace(\"\\252\", \"a\").replace(\"\\260\", \"o\");\n        return t;\n    }\n    WUX.norm = norm;\n    function den(t) {\n        if (!t)\n            return '';\n        t = '' + t;\n        t = t.replace(\"A'\", \"\\300\").replace(\"E'\", \"\\310\").replace(\"I'\", \"\\314\").replace(\"O'\", \"\\322\").replace(\"U'\", \"\\331\");\n        t = t.replace(\"a'\", \"\\340\").replace(\"e'\", \"\\350\").replace(\"i'\", \"\\354\").replace(\"o'\", \"\\362\").replace(\"u'\", \"\\371\");\n        t = t.replace(\"a`\", \"\\341\").replace(\"e`\", \"\\351\").replace(\"i`\", \"\\355\").replace(\"o`\", \"\\363\").replace(\"u`\", \"\\372\");\n        t = t.replace(\" p\\362\", \" po'\");\n        return t;\n    }\n    WUX.den = den;\n    function text(t) {\n        if (!t)\n            return '';\n        t = '' + t;\n        t = t.replace(\"&Agrave;\", \"A'\").replace(\"&Egrave;\", \"E'\").replace(\"&Igrave;\", \"I'\").replace(\"&Ograve;\", \"O'\").replace(\"&Ugrave;\", \"U'\");\n        t = t.replace(\"&agrave;\", \"a'\").replace(\"&egrave;\", \"e'\").replace(\"&igrave;\", \"i'\").replace(\"&ograve;\", \"o'\").replace(\"&ugrave;\", \"u'\");\n        t = t.replace(\"&aacute;\", \"a`\").replace(\"&eacute;\", \"e`\").replace(\"&iacute;\", \"i`\").replace(\"&oacute;\", \"o`\").replace(\"&uacute;\", \"u`\");\n        t = t.replace(\"&euro;\", \"E\").replace(\"&nbsp;\", \" \").replace(\"&amp;\", \"&\").replace(\"&gt;\", \">\").replace(\"&lt;\", \"<\").replace(\"&quot;\", \"\\\"\");\n        return t;\n    }\n    WUX.text = text;\n    var KEY = \"@D:=E?('B;F)<=A>C@?):D';@=B<?C;)E:'@=?A(B<=;(?@>E:\";\n    function encrypt(a) {\n        if (!a)\n            return '';\n        var t = '' + a;\n        var s = '';\n        var k = 0;\n        for (var i = 0; i < t.length; i++) {\n            k = k >= KEY.length - 1 ? 0 : k + 1;\n            var c = t.charCodeAt(i);\n            var d = KEY.charCodeAt(k);\n            var r = c;\n            if (c >= 32 && c <= 126) {\n                r = r - d;\n                if (r < 32)\n                    r = 127 + r - 32;\n            }\n            s += String.fromCharCode(r);\n        }\n        return s;\n    }\n    WUX.encrypt = encrypt;\n    function decrypt(a) {\n        if (!a)\n            return '';\n        var t = '' + a;\n        var s = '';\n        var k = 0;\n        for (var i = 0; i < t.length; i++) {\n            k = k >= KEY.length - 1 ? 0 : k + 1;\n            var c = t.charCodeAt(i);\n            var d = KEY.charCodeAt(k);\n            var r = c;\n            if (c >= 32 && c <= 126) {\n                r = r + d;\n                if (r > 126)\n                    r = 31 + r - 126;\n            }\n            s += String.fromCharCode(r);\n        }\n        return s;\n    }\n    WUX.decrypt = decrypt;\n    var BTN;\n    (function (BTN) {\n        BTN[\"PRIMARY\"] = \"btn btn-primary\";\n        BTN[\"SECONDARY\"] = \"btn btn-secondary\";\n        BTN[\"SUCCESS\"] = \"btn btn-success\";\n        BTN[\"DANGER\"] = \"btn btn-danger\";\n        BTN[\"WARNING\"] = \"btn btn-warning\";\n        BTN[\"INFO\"] = \"btn btn-info\";\n        BTN[\"LIGHT\"] = \"btn btn-light\";\n        BTN[\"DARK\"] = \"btn btn-dark\";\n        BTN[\"LINK\"] = \"btn btn-link\";\n        BTN[\"WHITE\"] = \"btn btn-white\";\n        BTN[\"SM_PRIMARY\"] = \"btn btn-sm btn-primary btn-block\";\n        BTN[\"SM_DEFAULT\"] = \"btn btn-sm btn-default btn-block\";\n        BTN[\"SM_SECONDARY\"] = \"btn btn-sm btn-secondary btn-block\";\n        BTN[\"SM_INFO\"] = \"btn btn-sm btn-info btn-block\";\n        BTN[\"SM_DANGER\"] = \"btn btn-sm btn-danger btn-block\";\n        BTN[\"SM_WHITE\"] = \"btn btn-sm btn-white btn-block\";\n        BTN[\"ACT_PRIMARY\"] = \"btn btn-sm btn-primary\";\n        BTN[\"ACT_DEFAULT\"] = \"btn btn-sm btn-default\";\n        BTN[\"ACT_SECONDARY\"] = \"btn btn-sm btn-secondary\";\n        BTN[\"ACT_INFO\"] = \"btn btn-sm btn-info\";\n        BTN[\"ACT_DANGER\"] = \"btn btn-sm btn-danger\";\n        BTN[\"ACT_WHITE\"] = \"btn btn-sm btn-white\";\n        BTN[\"ACT_OUTLINE_PRIMARY\"] = \"btn btn-sm btn-primary btn-outline\";\n        BTN[\"ACT_OUTLINE_DEFAULT\"] = \"btn btn-sm btn-default btn-outline\";\n        BTN[\"ACT_OUTLINE_INFO\"] = \"btn btn-sm btn-info btn-outline\";\n        BTN[\"ACT_OUTLINE_DANGER\"] = \"btn btn-sm btn-danger btn-outline\";\n    })(BTN = WUX.BTN || (WUX.BTN = {}));\n    var CSS = (function () {\n        function CSS() {\n        }\n        CSS.NORMAL = { bg: '#ffffff' };\n        CSS.ERROR = { bg: '#fce6e8' };\n        CSS.WARNING = { bg: '#fef3e6' };\n        CSS.SUCCESS = { bg: '#d1f0ea' };\n        CSS.INFO = { bg: '#ddedf6' };\n        CSS.COMPLETED = { bg: '#eeeeee' };\n        CSS.MARKED = { bg: '#fff0be' };\n        CSS.BTN_MED = { w: 110, f: 12, a: 'left' };\n        CSS.BTN_SMALL = { w: 90, f: 12, a: 'left' };\n        CSS.STACK_BTNS = { pt: 2, pb: 2, a: 'center' };\n        CSS.LINE_BTNS = { pl: 2, pr: 2, a: 'center' };\n        CSS.FORM_CTRL = 'form-control';\n        CSS.FORM_CTRL_SM = 'form-control input-sm';\n        CSS.FIELD_REQUIRED = { c: '#676a96' };\n        CSS.FIELD_CRITICAL = { c: '#aa6a6c' };\n        CSS.FIELD_INTERNAL = { c: '#aa6a6c' };\n        CSS.LABEL_NOTICE = { c: '#aa6a6c', fw: 'bold' };\n        CSS.LABEL_INFO = { c: '#676a96', fw: 'bold' };\n        return CSS;\n    }());\n    WUX.CSS = CSS;\n    var WIcon;\n    (function (WIcon) {\n        WIcon[\"LARGE\"] = \"fa-lg \";\n        WIcon[\"ADDRESS_CARD\"] = \"fa-address-card\";\n        WIcon[\"ANGLE_DOUBLE_LEFT\"] = \"fa-angle-double-left\";\n        WIcon[\"ANGLE_DOUBLE_RIGHT\"] = \"fa-angle-double-right\";\n        WIcon[\"ANGLE_LEFT\"] = \"fa-angle-left\";\n        WIcon[\"ANGLE_RIGHT\"] = \"fa-angle-right\";\n        WIcon[\"ARROW_CIRCLE_DOWN\"] = \"fa-arrow-circle-down\";\n        WIcon[\"ARROW_CIRCLE_LEFT\"] = \"fa-arrow-circle-left\";\n        WIcon[\"ARROW_CIRCLE_O_DOWN\"] = \"fa-arrow-circle-o-down\";\n        WIcon[\"ARROW_CIRCLE_O_LEFT\"] = \"fa-arrow-circle-o-left\";\n        WIcon[\"ARROW_CIRCLE_O_RIGHT\"] = \"fa-arrow-circle-o-right\";\n        WIcon[\"ARROW_CIRCLE_O_UP\"] = \"fa-arrow-circle-o-up\";\n        WIcon[\"ARROW_CIRCLE_RIGHT\"] = \"fa-arrow-circle-right\";\n        WIcon[\"ARROW_CIRCLE_UP\"] = \"fa-arrow-circle-up\";\n        WIcon[\"ARROW_DOWN\"] = \"fa-arrow-down\";\n        WIcon[\"ARROW_LEFT\"] = \"fa-arrow-left\";\n        WIcon[\"ARROW_RIGHT\"] = \"fa-arrow-right\";\n        WIcon[\"ARROW_UP\"] = \"fa-arrow-up\";\n        WIcon[\"BOLT\"] = \"fa-bolt\";\n        WIcon[\"BACKWARD\"] = \"fa-backward\";\n        WIcon[\"BOOKMARK\"] = \"fa-bookmark\";\n        WIcon[\"BOOKMARK_O\"] = \"fa-bookmark-o\";\n        WIcon[\"CALENDAR\"] = \"fa-calendar\";\n        WIcon[\"CALCULATOR\"] = \"fa-calculator\";\n        WIcon[\"CHAIN\"] = \"fa-chain\";\n        WIcon[\"CHAIN_BROKEN\"] = \"fa-chain-broken\";\n        WIcon[\"CHECK\"] = \"fa-check\";\n        WIcon[\"CHECK_CIRCLE\"] = \"fa-check-circle\";\n        WIcon[\"CHECK_CIRCLE_O\"] = \"fa-check-circle-o\";\n        WIcon[\"CHECK_SQUARE\"] = \"fa-check-square\";\n        WIcon[\"CHECK_SQUARE_O\"] = \"fa-check-square-o\";\n        WIcon[\"CHEVRON_DOWN\"] = \"fa-chevron-down\";\n        WIcon[\"CHEVRON_UP\"] = \"fa-chevron-up\";\n        WIcon[\"CLOCK_O\"] = \"fa-clock-o\";\n        WIcon[\"CLOSE\"] = \"fa-close\";\n        WIcon[\"COG\"] = \"fa-cog\";\n        WIcon[\"COMMENT\"] = \"fa-comment\";\n        WIcon[\"COMMENTS_O\"] = \"fa-comments-o\";\n        WIcon[\"COPY\"] = \"fa-copy\";\n        WIcon[\"CUT\"] = \"fa-cut\";\n        WIcon[\"DATABASE\"] = \"fa-database\";\n        WIcon[\"EDIT\"] = \"fa-edit\";\n        WIcon[\"ENVELOPE_O\"] = \"fa-envelope-o\";\n        WIcon[\"EXCHANGE\"] = \"fa-exchange\";\n        WIcon[\"FILE\"] = \"fa-file\";\n        WIcon[\"FILE_O\"] = \"fa-file-o\";\n        WIcon[\"FILE_CODE_O\"] = \"fa-file-code-o\";\n        WIcon[\"FILE_PDF_O\"] = \"fa-file-pdf-o\";\n        WIcon[\"FILE_TEXT_O\"] = \"fa-file-text-o\";\n        WIcon[\"FILES\"] = \"fa-files-o\";\n        WIcon[\"FILTER\"] = \"fa-filter\";\n        WIcon[\"FOLDER\"] = \"fa-folder\";\n        WIcon[\"FOLDER_O\"] = \"fa-folder-o\";\n        WIcon[\"FOLDER_OPEN\"] = \"fa-folder-open\";\n        WIcon[\"FOLDER_OPEN_O\"] = \"fa-folder-open-o\";\n        WIcon[\"FORWARD\"] = \"fa-forward\";\n        WIcon[\"GRADUATION_CAP\"] = \"fa-graduation-cap\";\n        WIcon[\"INFO_CIRCLE\"] = \"fa-info-circle\";\n        WIcon[\"LIFE_RING\"] = \"fa-life-ring\";\n        WIcon[\"LINK\"] = \"fa-link\";\n        WIcon[\"LEGAL\"] = \"fa-legal\";\n        WIcon[\"LIST\"] = \"fa-list\";\n        WIcon[\"MINUS\"] = \"fa-minus\";\n        WIcon[\"MINUS_SQUARE_O\"] = \"fa-minus-square-o\";\n        WIcon[\"PASTE\"] = \"fa-paste\";\n        WIcon[\"PENCIL\"] = \"fa-pencil\";\n        WIcon[\"PIE_CHART\"] = \"fa-pie-chart\";\n        WIcon[\"PLUS\"] = \"fa-plus\";\n        WIcon[\"PLUS_SQUARE_O\"] = \"fa-plus-square-o\";\n        WIcon[\"PRINT\"] = \"fa-print\";\n        WIcon[\"QUESTION_CIRCLE\"] = \"fa-question-circle\";\n        WIcon[\"RANDOM\"] = \"fa-random\";\n        WIcon[\"RECYCLE\"] = \"fa-recycle\";\n        WIcon[\"REFRESH\"] = \"fa-refresh\";\n        WIcon[\"SEARCH\"] = \"fa-search\";\n        WIcon[\"SEARCH_MINUS\"] = \"fa-search-minus\";\n        WIcon[\"SEARCH_PLUS\"] = \"fa-search-plus\";\n        WIcon[\"SEND\"] = \"fa-send\";\n        WIcon[\"SHARE_SQUARE_O\"] = \"fa-share-square-o\";\n        WIcon[\"SHOPPING_CART\"] = \"fa-shopping-cart\";\n        WIcon[\"SIGN_IN\"] = \"fa-sign-in\";\n        WIcon[\"SIGN_OUT\"] = \"fa-sign-out\";\n        WIcon[\"SQUARE\"] = \"fa-square\";\n        WIcon[\"SQUARE_O\"] = \"fa-square-o\";\n        WIcon[\"TH_LIST\"] = \"fa-th-list\";\n        WIcon[\"THUMBS_O_DOWN\"] = \"fa-thumbs-o-down\";\n        WIcon[\"THUMBS_O_UP\"] = \"fa-thumbs-o-up\";\n        WIcon[\"TIMES\"] = \"fa-times\";\n        WIcon[\"TIMES_CIRCLE\"] = \"fa-times-circle\";\n        WIcon[\"TOGGLE_OFF\"] = \"fa-toggle-off\";\n        WIcon[\"TOGGLE_ON\"] = \"fa-toggle-on\";\n        WIcon[\"TRASH\"] = \"fa-trash\";\n        WIcon[\"TRUCK\"] = \"fa-truck\";\n        WIcon[\"UNDO\"] = \"fa-undo\";\n        WIcon[\"UPLOAD\"] = \"fa-upload\";\n        WIcon[\"USER\"] = \"fa-user\";\n        WIcon[\"USER_O\"] = \"fa-user-o\";\n        WIcon[\"USERS\"] = \"fa-users\";\n        WIcon[\"WARNING\"] = \"fa-warning\";\n        WIcon[\"WIFI\"] = \"fa-wifi\";\n        WIcon[\"WRENCH\"] = \"fa-wrench\";\n    })(WIcon = WUX.WIcon || (WUX.WIcon = {}));\n    var RES = (function () {\n        function RES() {\n        }\n        RES.OK = 'OK';\n        RES.CLOSE = 'Chiudi';\n        RES.CANCEL = 'Annulla';\n        RES.ERR_DATE = 'Data non ammessa.';\n        return RES;\n    }());\n    WUX.RES = RES;\n})(WUX || (WUX = {}));\nvar WUX;\n(function (WUX) {\n    var WContainer = (function (_super) {\n        __extends(WContainer, _super);\n        function WContainer(id, classStyle, style, attributes, inline, type, addClassStyle) {\n            var _this = _super.call(this, id, 'WContainer', type, classStyle, WUX.style(style), attributes) || this;\n            _this.inline = false;\n            _this.components = [];\n            _this.inline = inline;\n            if (addClassStyle)\n                _this._classStyle = _this._classStyle ? _this._classStyle + ' ' + addClassStyle : addClassStyle;\n            _this.rootTag = inline ? 'span' : 'div';\n            if (type == 'aside')\n                _this.rootTag = 'aside';\n            return _this;\n        }\n        WContainer.create = function (w) {\n            if (!w)\n                return new WContainer();\n            var ctype = w.type ? '<' + w.type + '>' : '';\n            var c = new WContainer(w.id, w.classStyle, w.style, w.attributes, false, ctype);\n            c.wrapper = w.wrapper;\n            return c;\n        };\n        WContainer.prototype.updateState = function (nextState) {\n            _super.prototype.updateState.call(this, nextState);\n            if (this.stateComp)\n                this.stateComp.setState(this.state);\n        };\n        WContainer.prototype.getState = function () {\n            if (this.stateComp)\n                this.state = this.stateComp.getState();\n            return this.state;\n        };\n        WContainer.prototype.on = function (events, handler) {\n            _super.prototype.on.call(this, events, handler);\n            if (events == 'statechange') {\n                if (this.stateComp)\n                    this.stateComp.on('statechange', handler);\n            }\n            return this;\n        };\n        WContainer.prototype.off = function (events) {\n            _super.prototype.off.call(this, events);\n            if (events == 'statechange') {\n                if (this.stateComp)\n                    this.stateComp.off('statechange');\n            }\n            return this;\n        };\n        WContainer.prototype.trigger = function (eventType) {\n            var _a;\n            var extParams = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                extParams[_i - 1] = arguments[_i];\n            }\n            _super.prototype.trigger.apply(this, __spreadArrays([eventType], extParams));\n            if (eventType == 'statechange') {\n                if (this.stateComp)\n                    (_a = this.stateComp).trigger.apply(_a, __spreadArrays(['statechange'], extParams));\n            }\n            return this;\n        };\n        WContainer.prototype.setLayout = function (layoutManager) {\n            this.layoutManager = layoutManager;\n        };\n        WContainer.prototype.section = function (title, secStyle, legStyle) {\n            this.legend = title;\n            this.fieldsetStyle = secStyle ? WUX.css(WUX.global.section, secStyle) : WUX.global.section;\n            this.legendStyle = legStyle ? WUX.css(WUX.global.section_title, legStyle) : WUX.global.section_title;\n            return this;\n        };\n        WContainer.prototype.area = function (title, areaStyle, legStyle) {\n            this.legend = title;\n            this.fieldsetStyle = areaStyle ? WUX.css(WUX.global.area, areaStyle) : WUX.global.area;\n            this.legendStyle = legStyle ? WUX.css(WUX.global.area_title, legStyle) : WUX.global.area_title;\n            return this;\n        };\n        WContainer.prototype.end = function () {\n            if (this.parent instanceof WContainer)\n                return this.parent.end();\n            return this;\n        };\n        WContainer.prototype.grid = function () {\n            if (this.props == 'row' && this.parent instanceof WContainer)\n                return this.parent;\n            if (this.parent instanceof WContainer)\n                return this.parent.grid();\n            return this;\n        };\n        WContainer.prototype.row = function () {\n            if (this.props == 'row')\n                return this;\n            if (!this.parent) {\n                if (!this.components || !this.components.length)\n                    return this;\n                for (var i = this.components.length - 1; i >= 0; i--) {\n                    var c = this.components[i];\n                    if (c instanceof WContainer && c.getProps() == 'row')\n                        return c;\n                }\n                return this;\n            }\n            if (this.parent instanceof WContainer)\n                return this.parent.row();\n            return this;\n        };\n        WContainer.prototype.col = function () {\n            if (this.props == 'col')\n                return this;\n            if (this.parent instanceof WContainer)\n                return this.parent.col();\n            return this;\n        };\n        WContainer.prototype.addDiv = function (hcss, inner, cls_att, id) {\n            if (typeof hcss == 'number') {\n                if (hcss < 1)\n                    return this;\n                var r = WUX.build('div', inner, { h: hcss, n: cls_att });\n                return this.add($(r));\n            }\n            else {\n                var r = WUX.build('div', inner, hcss, cls_att, id);\n                return this.add($(r));\n            }\n        };\n        WContainer.prototype.addSpan = function (wcss, inner, cls_att, id) {\n            if (typeof wcss == 'number') {\n                var r = WUX.build('span', inner, { w: wcss, d: 'inline-block', a: 'center', n: cls_att });\n                return this.add($(r));\n            }\n            else {\n                var r = WUX.build('span', inner, wcss, cls_att, id);\n                return this.add($(r));\n            }\n        };\n        WContainer.prototype.addGroup = function (w) {\n            var ac = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                ac[_i - 1] = arguments[_i];\n            }\n            if (w) {\n                var cnt = this.addContainer(w);\n                if (!ac || !ac.length)\n                    return this;\n                for (var _a = 0, ac_1 = ac; _a < ac_1.length; _a++) {\n                    var c = ac_1[_a];\n                    cnt.add(c);\n                }\n                return this;\n            }\n            if (!ac || !ac.length)\n                return this;\n            for (var _b = 0, ac_2 = ac; _b < ac_2.length; _b++) {\n                var c = ac_2[_b];\n                this.add(c);\n            }\n            return this;\n        };\n        WContainer.prototype.add = function (component, constraints) {\n            if (!component)\n                return this;\n            if (component instanceof WUX.WComponent) {\n                if (!component.parent)\n                    component.parent = this;\n            }\n            var c;\n            if (typeof component == 'string' && component.length > 0) {\n                if (component.charAt(0) == '<' && component.charAt(component.length - 1) == '>') {\n                    c = $(component);\n                }\n            }\n            if (!c)\n                c = component;\n            this.components.push(c);\n            if (this.layoutManager)\n                this.layoutManager.addLayoutComponent(c, constraints);\n            return this;\n        };\n        WContainer.prototype.remove = function (index) {\n            if (index < 0)\n                index = this.components.length + index;\n            if (index < 0 || index >= this.components.length)\n                return undefined;\n            var removed = this.components.splice(index, 1);\n            if (this.layoutManager && removed.length)\n                this.layoutManager.removeLayoutComponent(removed[0]);\n            return this;\n        };\n        WContainer.prototype.removeAll = function () {\n            if (this.layoutManager) {\n                for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                    var element = _a[_i];\n                    this.layoutManager.removeLayoutComponent(element);\n                }\n            }\n            if (this.mounted) {\n                this.parent = null;\n                for (var _b = 0, _c = this.components; _b < _c.length; _b++) {\n                    var c = _c[_b];\n                    if (c instanceof WUX.WComponent)\n                        c.unmount();\n                }\n            }\n            this.components = [];\n            return this;\n        };\n        WContainer.prototype.addRow = function (classStyle, style, id, attributes) {\n            var classRow = classStyle == null ? 'row' : classStyle;\n            var row = new WContainer(id, classRow, style, attributes, false, 'row');\n            row.name = row.name + '_row';\n            return this.grid().addContainer(row);\n        };\n        WContainer.prototype.addCol = function (classStyle, style, id, attributes) {\n            if (WUX.WUtil.isNumeric(classStyle))\n                classStyle = 'col-md-' + classStyle;\n            var classCol = classStyle == null ? 'col' : classStyle;\n            var col = new WContainer(id, classCol, style, attributes, false, 'col');\n            col.name = col.name + '_col';\n            return this.row().addContainer(col);\n        };\n        WContainer.prototype.addASide = function (classStyle, style, id, attributes) {\n            var c = new WContainer(id, classStyle, style, attributes, false, 'aside');\n            c.name = c.name + '_aside';\n            return this.end().addContainer(c);\n        };\n        WContainer.prototype.addBox = function (title, classStyle, style, id, attributes) {\n            var box = new WBox(id, title, classStyle, style, attributes);\n            this.addContainer(box);\n            return box;\n        };\n        WContainer.prototype.addText = function (text, rowTag, classStyle, style, id, attributes) {\n            if (!text || !text.length)\n                return this;\n            var endRow = '';\n            if (rowTag) {\n                var i = rowTag.indexOf(' ');\n                endRow = i > 0 ? rowTag.substring(0, i) : rowTag;\n            }\n            var s = '';\n            for (var _i = 0, text_1 = text; _i < text_1.length; _i++) {\n                var r = text_1[_i];\n                if (r && r.length > 3) {\n                    var b = r.substring(0, 3);\n                    if (b == '<ul' || b == '<ol' || b == '<li' || b == '<di') {\n                        s += r;\n                        continue;\n                    }\n                }\n                if (rowTag && rowTag != 'br') {\n                    s += '<' + rowTag + '>' + r + '</' + endRow + '>';\n                }\n                else {\n                    s += r + '<br>';\n                }\n            }\n            if (classStyle || style || id || attributes) {\n                this.add(WUX.build('div', s, style, attributes, id, classStyle));\n            }\n            else {\n                this.add(s);\n            }\n            return this;\n        };\n        WContainer.prototype.findBox = function (title_id) {\n            var bid = '';\n            if (title_id && title_id.length > 1 && title_id.charAt(0) == '#')\n                bid = title_id.substring(1);\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c instanceof WBox) {\n                    if (bid) {\n                        if (c.id == bid)\n                            return c;\n                    }\n                    else if (title_id) {\n                        if (c.title == title_id || c.id == title_id)\n                            return c;\n                    }\n                    else {\n                        return c;\n                    }\n                }\n                else if (c instanceof WContainer) {\n                    var b = c.findBox(title_id);\n                    if (!b)\n                        return b;\n                }\n            }\n            return null;\n        };\n        WContainer.prototype.addStack = function (style) {\n            var ac = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                ac[_i - 1] = arguments[_i];\n            }\n            if (!ac || ac.length == 0)\n                return this;\n            var rowStyle = WUX.style(style);\n            var rowClass = WUX.cls(style);\n            for (var i = 0; i < ac.length; i++) {\n                var row = new WContainer(this.subId(), rowClass, rowStyle).add(ac[i]);\n                row.name = row.name + '_stack_' + i;\n                this.addContainer(row);\n            }\n            return this;\n        };\n        WContainer.prototype.addLine = function (style) {\n            var ac = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                ac[_i - 1] = arguments[_i];\n            }\n            if (!ac || ac.length == 0)\n                return this;\n            var colStyle = WUX.style(style);\n            var colClass = WUX.cls(style);\n            for (var i = 0; i < ac.length; i++) {\n                var c = ac[i];\n                var s = this.subId();\n                var col = void 0;\n                if (!colClass && !colStyle) {\n                    col = new WContainer(s, '', null, null, true).add(c);\n                }\n                else if (colClass) {\n                    col = new WContainer(s, colClass, null, null, true).add(c);\n                }\n                else {\n                    col = new WContainer(s, '', colStyle, null, true).add(c);\n                }\n                col.name = col.name + '_line_' + i;\n                this.addContainer(col);\n            }\n            return this;\n        };\n        WContainer.prototype.addContainer = function (conid, classStyle, style, attributes, inline, props) {\n            if (conid instanceof WContainer) {\n                if (this._classStyle == null) {\n                    if (conid._classStyle && conid._classStyle.indexOf('row') == 0) {\n                        if (this.parent instanceof WContainer) {\n                            this._classStyle = WUX.global.con_class;\n                        }\n                        else {\n                            this._classStyle = WUX.global.main_class;\n                        }\n                    }\n                }\n                conid.parent = this;\n                if (!conid.layoutManager)\n                    conid.layoutManager = this.layoutManager;\n                this.components.push(conid);\n                if (this.layoutManager)\n                    this.layoutManager.addLayoutComponent(conid, classStyle);\n                return conid;\n            }\n            else if (typeof conid == 'string') {\n                var container = new WContainer(conid, classStyle, style, attributes, inline, props);\n                if (!container.layoutManager)\n                    container.layoutManager = this.layoutManager;\n                this.components.push(container);\n                if (this.layoutManager)\n                    this.layoutManager.addLayoutComponent(container);\n                return container;\n            }\n            else {\n                if (!conid)\n                    return this;\n                var c = WContainer.create(conid);\n                c.parent = this;\n                c.layoutManager = this.layoutManager;\n                this.components.push(c);\n                if (this.layoutManager)\n                    this.layoutManager.addLayoutComponent(c, classStyle);\n                return c;\n            }\n        };\n        WContainer.prototype.render = function () {\n            if (this.parent || this._classStyle || this._style) {\n                return this.build(this.rootTag);\n            }\n            return this.buildRoot(this.rootTag);\n        };\n        WContainer.prototype.make = function () {\n            if (this.legend == null)\n                return '';\n            var fss = this.fieldsetStyle ? ' style=\"' + WUX.style(this.fieldsetStyle) + '\"' : '';\n            var lgs = this.legendStyle ? ' style=\"' + WUX.style(this.legendStyle) + '\"' : '';\n            return '<fieldset id=\"' + this.subId('fs') + '\"' + fss + '><legend' + lgs + '>' + this.legend + '</legend></fieldset>';\n        };\n        WContainer.prototype.componentDidMount = function () {\n            var node = this.root;\n            if (this.legend != null) {\n                var $fs = $('#' + this.subId('fs'));\n                if ($fs && $fs.length)\n                    node = $fs;\n            }\n            if (this.wrapper)\n                node = WUX.addWrapper(node, this.wrapper);\n            if (this.layoutManager) {\n                this.layoutManager.layoutContainer(this, node);\n                return;\n            }\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (element instanceof WUX.WComponent) {\n                    element.mount(node);\n                }\n                else {\n                    node.append(element);\n                }\n            }\n        };\n        WContainer.prototype.componentWillUnmount = function () {\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c instanceof WUX.WComponent)\n                    c.unmount();\n            }\n        };\n        WContainer.prototype.rebuild = function () {\n            var node = this.root;\n            if (this.legend != null) {\n                var $fs = $('#' + this.subId('fs'));\n                if ($fs && $fs.length)\n                    node = $fs;\n            }\n            node.empty();\n            if (this.wrapper)\n                node = WUX.addWrapper(node, this.wrapper);\n            if (this.layoutManager) {\n                this.layoutManager.layoutContainer(this, node);\n                return;\n            }\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (element instanceof WUX.WComponent) {\n                    element.mount(node);\n                }\n                else {\n                    node.append(element);\n                }\n            }\n            return this;\n        };\n        return WContainer;\n    }(WUX.WComponent));\n    WUX.WContainer = WContainer;\n    var WCardLayout = (function () {\n        function WCardLayout() {\n            this.mapConstraints = {};\n            this.mapComponents = {};\n        }\n        WCardLayout.prototype.addLayoutComponent = function (component, constraints) {\n            if (!component || !constraints)\n                return;\n            var cmpId = WUX.getId(component);\n            if (!cmpId)\n                return;\n            this.mapConstraints[cmpId] = constraints;\n            this.mapComponents[constraints] = component;\n        };\n        WCardLayout.prototype.removeLayoutComponent = function (component) {\n            var cmpId = WUX.getId(component);\n            if (!cmpId)\n                return;\n            var constraints = this.mapConstraints[cmpId];\n            delete this.mapConstraints[cmpId];\n            if (constraints)\n                delete this.mapComponents[constraints];\n        };\n        WCardLayout.prototype.layoutContainer = function (container, root) {\n            var curId = WUX.getId(this.currComp);\n            for (var _i = 0, _a = container.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                var eleId = WUX.getId(c);\n                var ehide = false;\n                if (eleId && eleId != curId && this.mapConstraints[eleId])\n                    ehide = true;\n                if (c instanceof WUX.WComponent) {\n                    if (ehide)\n                        c.visible = false;\n                    c.mount(root);\n                }\n                else if (c instanceof jQuery) {\n                    if (ehide)\n                        c.hide();\n                }\n            }\n        };\n        WCardLayout.prototype.show = function (container, name) {\n            var c = this.mapComponents[name];\n            if (!c)\n                return;\n            if (this.currComp instanceof WUX.WComponent) {\n                this.currComp.visible = false;\n            }\n            else if (this.currComp instanceof jQuery) {\n                this.currComp.show();\n            }\n            if (c instanceof WUX.WComponent) {\n                c.visible = true;\n                this.currComp = c;\n            }\n            else if (this.currComp instanceof jQuery) {\n                c.show();\n                this.currComp = c;\n            }\n            else {\n                this.currComp = undefined;\n            }\n        };\n        return WCardLayout;\n    }());\n    WUX.WCardLayout = WCardLayout;\n    var WBox = (function (_super) {\n        __extends(WBox, _super);\n        function WBox(id, title, classStyle, style, attributes) {\n            var _this = _super.call(this, id, WUX.global.box_class, style, attributes, false, 'box') || this;\n            _this.TOOL_COLLAPSE = 'collapse-link';\n            _this.TOOL_CLOSE = 'close-link';\n            _this.TOOL_FILTER = 'filter-link';\n            _this.name = 'WBox';\n            _this._addClassStyle = classStyle;\n            _this.title = title;\n            return _this;\n        }\n        Object.defineProperty(WBox.prototype, \"title\", {\n            get: function () {\n                return this._title;\n            },\n            set: function (s) {\n                if (this._title) {\n                    this.header.remove(0);\n                }\n                this._title = s;\n                if (s) {\n                    if (s.charAt(0) != '<' && WUX.global.box_title) {\n                        this.header.add(WUX.global.box_title.replace('$', s));\n                    }\n                    else {\n                        this.header.add(s);\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WBox.prototype.addTool = function (tool, icon, attributes, handler) {\n            var _this = this;\n            if (!tool)\n                return this;\n            if (typeof tool == 'string') {\n                if (!icon)\n                    icon = WUX.WIcon.WRENCH;\n                if (!this.cntls) {\n                    this.cntls = new WContainer('', WUX.global.box_tools);\n                    this.header.add(this.cntls);\n                    this.tools = {};\n                }\n                var $r = $('<a class=\"' + tool + '\">' + WUX.buildIcon(icon) + '</a>');\n                this.cntls.add($r);\n                this.tools[tool] = $r;\n                if (handler) {\n                    if (tool == this.TOOL_COLLAPSE) {\n                        this.handlers['_' + this.TOOL_COLLAPSE] = [function (e) { _this.collapse(handler); }];\n                    }\n                    else {\n                        this.handlers['_' + tool] = [handler];\n                    }\n                }\n                else {\n                    if (tool == this.TOOL_COLLAPSE)\n                        this.handlers['_' + this.TOOL_COLLAPSE] = [function (e) { _this.collapse(); }];\n                    if (tool == this.TOOL_CLOSE)\n                        this.handlers['_' + this.TOOL_CLOSE] = [function (e) { _this.close(); }];\n                }\n            }\n            else {\n                this.header.add(tool);\n            }\n            return this;\n        };\n        WBox.prototype.addCollapse = function (handler) {\n            this.addTool(this.TOOL_COLLAPSE, WUX.WIcon.CHEVRON_UP, '', handler);\n            return this;\n        };\n        WBox.prototype.addClose = function (handler) {\n            this.addTool(this.TOOL_CLOSE, WUX.WIcon.TIMES, '', handler);\n            return this;\n        };\n        WBox.prototype.addFilter = function (handler) {\n            this.addTool(this.TOOL_FILTER, WUX.WIcon.FILTER, '', handler);\n            return this;\n        };\n        Object.defineProperty(WBox.prototype, \"header\", {\n            get: function () {\n                if (this._header)\n                    return this._header;\n                return this._header = new WContainer('', WUX.cls(WUX.global.box_header, this._addClassStyle));\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WBox.prototype, \"content\", {\n            get: function () {\n                return this;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WBox.prototype, \"footer\", {\n            get: function () {\n                if (this._footer)\n                    return this._footer;\n                return this._footer = new WContainer('', WUX.cls(WUX.global.box_footer, this._addClassStyle));\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WBox.prototype.componentDidMount = function () {\n            if (this._header)\n                this._header.mount(this.root);\n            var boxContent = $(this.build('div', '', '', WUX.cls(WUX.global.box_content, this._addClassStyle), undefined, null));\n            this.root.append(boxContent);\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (element instanceof WUX.WComponent) {\n                    element.mount(boxContent);\n                }\n                else {\n                    boxContent.append(element);\n                }\n            }\n            if (this._footer)\n                this._footer.mount(this.root);\n            if (!this.tools)\n                return;\n            for (var t in this.tools) {\n                var hs = this.handlers['_' + t];\n                if (!hs || !hs.length)\n                    continue;\n                for (var _b = 0, hs_1 = hs; _b < hs_1.length; _b++) {\n                    var h = hs_1[_b];\n                    this.tools[t].click(h);\n                }\n            }\n        };\n        WBox.prototype.componentWillUnmount = function () {\n            _super.prototype.componentWillUnmount.call(this);\n            if (this._header)\n                this._header.unmount();\n            if (this._footer)\n                this._footer.unmount();\n        };\n        WBox.prototype.end = function () {\n            if (this.parent instanceof WContainer)\n                return this.parent;\n            return this;\n        };\n        WBox.prototype.addRow = function (classStyle, style, id, attributes) {\n            var classRow = classStyle == null ? 'row' : classStyle;\n            var row = new WContainer(id, classRow, style, attributes, false, 'row');\n            row.name = row.name + '_row';\n            return this.content.addContainer(row);\n        };\n        WBox.prototype.collapse = function (handler) {\n            if (!this.root)\n                return this;\n            if (handler) {\n                var e = this.createEvent('_' + this.TOOL_COLLAPSE, { collapsed: this.isCollapsed() });\n                handler(e);\n            }\n            if (this.tools && this.tools[this.TOOL_COLLAPSE]) {\n                this.tools[this.TOOL_COLLAPSE].find('i').toggleClass(WUX.WIcon.CHEVRON_UP).toggleClass(WUX.WIcon.CHEVRON_DOWN);\n            }\n            var d = this.root;\n            d.children('.ibox-content').slideToggle(200);\n            d.toggleClass('').toggleClass('border-bottom');\n            setTimeout(function () {\n                d.resize();\n                d.find('[id^=map-]').resize();\n            }, 50);\n            return this;\n        };\n        WBox.prototype.expand = function (handler) {\n            if (this.isCollapsed())\n                this.collapse(handler);\n            return this;\n        };\n        WBox.prototype.isCollapsed = function () {\n            if (!this.root)\n                return false;\n            return this.tools[this.TOOL_COLLAPSE].find('i').hasClass(WUX.WIcon.CHEVRON_DOWN);\n        };\n        WBox.prototype.close = function () {\n            if (!this.root)\n                return this;\n            this.root.remove();\n        };\n        return WBox;\n    }(WContainer));\n    WUX.WBox = WBox;\n    var WDialog = (function (_super) {\n        __extends(WDialog, _super);\n        function WDialog(id, name, btnOk, btnClose, classStyle, style, attributes) {\n            if (name === void 0) { name = 'WDialog'; }\n            if (btnOk === void 0) { btnOk = true; }\n            if (btnClose === void 0) { btnClose = true; }\n            var _this = _super.call(this, id, name, undefined, classStyle, style, attributes) || this;\n            _this.buttons = [];\n            _this.tagTitle = 'h3';\n            if (btnClose) {\n                if (!btnOk)\n                    _this.txtCancel = WUX.RES.CLOSE;\n                _this.buttonCancel();\n            }\n            if (btnOk)\n                _this.buttonOk();\n            _this.ok = false;\n            _this.cancel = false;\n            _this.isShown = false;\n            if (_this.id && _this.id != '*') {\n                if ($('#' + _this.id).length)\n                    $('#' + _this.id).remove();\n            }\n            WuxDOM.onRender(function (e) {\n                if (_this.mounted)\n                    return;\n                _this.mount(e.element);\n            });\n            return _this;\n        }\n        WDialog.prototype.onShownModal = function (handler) {\n            this.on('shown.bs.modal', handler);\n        };\n        WDialog.prototype.onHiddenModal = function (handler) {\n            this.on('hidden.bs.modal', handler);\n        };\n        Object.defineProperty(WDialog.prototype, \"header\", {\n            get: function () {\n                if (this.cntHeader)\n                    return this.cntHeader;\n                this.cntHeader = new WContainer('', 'modal-header');\n                this.btnCloseHeader = new WButton(this.subId('bhc'), '<span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>', undefined, 'close', '', 'data-dismiss=\"modal\"');\n                this.cntHeader.add(this.btnCloseHeader);\n                return this.cntHeader;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WDialog.prototype, \"body\", {\n            get: function () {\n                if (this.cntBody)\n                    return this.cntBody;\n                this.cntBody = new WContainer('', WUX.cls('modal-body', this._classStyle), '', this._attributes);\n                return this.cntBody;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WDialog.prototype, \"footer\", {\n            get: function () {\n                if (this.cntFooter)\n                    return this.cntFooter;\n                this.cntFooter = new WContainer('', 'modal-footer');\n                return this.cntFooter;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WDialog.prototype, \"title\", {\n            get: function () {\n                return this._title;\n            },\n            set: function (s) {\n                if (this._title && this.cntHeader) {\n                    this._title = s;\n                    this.cntHeader.getRoot().children(this.tagTitle + ':first').text(s);\n                }\n                else {\n                    this._title = s;\n                    this.header.add(this.buildTitle(s));\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WDialog.prototype.onClickOk = function () {\n            return true;\n        };\n        WDialog.prototype.onClickCancel = function () {\n            return true;\n        };\n        WDialog.prototype.buildBtnOK = function () {\n            return new WButton(this.subId('bfo'), WUX.RES.OK, '', WUX.BTN.INFO + ' button-sm', '', '');\n        };\n        WDialog.prototype.buildBtnCancel = function () {\n            if (this.txtCancel) {\n                return new WButton(this.subId('bfc'), this.txtCancel, '', WUX.BTN.SECONDARY + ' button-sm', '', '');\n            }\n            return new WButton(this.subId('bfc'), WUX.RES.CANCEL, '', WUX.BTN.SECONDARY + ' button-sm', '', '');\n        };\n        WDialog.prototype.buttonOk = function () {\n            var _this = this;\n            if (this.btnOK)\n                return this.btnOK;\n            this.btnOK = this.buildBtnOK();\n            this.btnOK.on('click', function (e) {\n                if (_this.onClickOk()) {\n                    _this.ok = true;\n                    _this.cancel = false;\n                    _this.root.modal('hide');\n                }\n            });\n            this.buttons.push(this.btnOK);\n        };\n        WDialog.prototype.buttonCancel = function () {\n            var _this = this;\n            if (this.btnCancel)\n                return this.btnCancel;\n            this.btnCancel = this.buildBtnCancel();\n            this.btnCancel.on('click', function (e) {\n                if (_this.onClickCancel()) {\n                    _this.ok = false;\n                    _this.cancel = true;\n                    _this.root.modal('hide');\n                }\n            });\n            this.buttons.push(this.btnCancel);\n        };\n        WDialog.prototype.show = function (parent, handler) {\n            if (!this.beforeShow())\n                return;\n            this.ok = false;\n            this.cancel = false;\n            this.parent = parent;\n            this.parentHandler = handler;\n            if (!this.mounted)\n                WuxDOM.mount(this);\n            if (this.root && this.root.length)\n                this.root.modal({ backdrop: 'static', keyboard: false });\n        };\n        WDialog.prototype.hide = function () {\n            if (this.root && this.root.length)\n                this.root.modal('hide');\n        };\n        WDialog.prototype.close = function () {\n            this.ok = false;\n            this.cancel = false;\n            if (this.root && this.root.length)\n                this.root.modal('hide');\n        };\n        WDialog.prototype.selection = function (table, warn) {\n            if (!table)\n                return false;\n            var sr = table.getSelectedRows();\n            if (!sr || !sr.length) {\n                if (warn)\n                    WUX.showWarning(warn);\n                return false;\n            }\n            var sd = table.getSelectedRowsData();\n            if (!sd || !sd.length) {\n                if (warn)\n                    WUX.showWarning(warn);\n                return false;\n            }\n            if (this.props == null || typeof this.props == 'number') {\n                var idx = sr[0];\n                this.setProps(idx);\n            }\n            this.setState(sd[0]);\n            return true;\n        };\n        WDialog.prototype.beforeShow = function () {\n            return true;\n        };\n        WDialog.prototype.onShown = function () {\n        };\n        WDialog.prototype.onHidden = function () {\n        };\n        WDialog.prototype.render = function () {\n            this.isShown = false;\n            this.cntRoot = new WContainer(this.id, 'modal inmodal fade', '', 'role=\"dialog\" aria-hidden=\"true\"');\n            this.cntMain = this.cntRoot.addContainer('', 'modal-dialog modal-lg', this._style);\n            this.cntContent = this.cntMain.addContainer('', 'modal-content');\n            if (this.cntHeader)\n                this.cntContent.addContainer(this.cntHeader);\n            if (this.cntBody)\n                this.cntContent.addContainer(this.cntBody);\n            for (var _i = 0, _a = this.buttons; _i < _a.length; _i++) {\n                var btn = _a[_i];\n                this.footer.add(btn);\n            }\n            if (this.cntFooter)\n                this.cntContent.addContainer(this.cntFooter);\n            return this.cntRoot;\n        };\n        WDialog.prototype.componentDidMount = function () {\n            var _this = this;\n            this.root.on('shown.bs.modal', function (e) {\n                _this.isShown = true;\n                _this.onShown();\n            });\n            this.root.on('hidden.bs.modal', function (e) {\n                _this.isShown = false;\n                _this.onHidden();\n                if (_this.parentHandler) {\n                    _this.parentHandler(e);\n                    _this.parentHandler = null;\n                }\n            });\n        };\n        WDialog.prototype.componentWillUnmount = function () {\n            this.isShown = false;\n            if (this.btnCloseHeader)\n                this.btnCloseHeader.unmount();\n            if (this.btnCancel)\n                this.btnCancel.unmount();\n            if (this.cntFooter)\n                this.cntFooter.unmount();\n            if (this.cntBody)\n                this.cntBody.unmount();\n            if (this.cntHeader)\n                this.cntHeader.unmount();\n            if (this.cntContent)\n                this.cntContent.unmount();\n            if (this.cntMain)\n                this.cntMain.unmount();\n            if (this.cntRoot)\n                this.cntRoot.unmount();\n        };\n        WDialog.prototype.buildTitle = function (title) {\n            if (!this.tagTitle)\n                this.tagTitle = 'h3';\n            return '<' + this.tagTitle + '>' + WUX.WUtil.toText(title) + '</' + this.tagTitle + '>';\n        };\n        return WDialog;\n    }(WUX.WComponent));\n    WUX.WDialog = WDialog;\n    var WLabel = (function (_super) {\n        __extends(WLabel, _super);\n        function WLabel(id, text, icon, classStyle, style, attributes) {\n            var _this = _super.call(this, id, 'WLabel', icon, classStyle, style, attributes) || this;\n            _this.rootTag = 'span';\n            _this.updateState(text);\n            return _this;\n        }\n        Object.defineProperty(WLabel.prototype, \"icon\", {\n            get: function () {\n                return this.props;\n            },\n            set: function (i) {\n                this.update(i, this.state, true, false, false);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WLabel.prototype.updateState = function (nextState) {\n            if (!nextState)\n                nextState = '';\n            _super.prototype.updateState.call(this, nextState);\n            if (this.root)\n                this.root.html(WUX.buildIcon(this.props, '', ' ') + nextState);\n        };\n        WLabel.prototype.for = function (e) {\n            this.forId = WUX.getId(e);\n            return this;\n        };\n        WLabel.prototype.blink = function (n) {\n            if (!this.root || !this.root.length)\n                return this;\n            this.blinks = n ? n : 3;\n            this.highlight();\n            return this;\n        };\n        WLabel.prototype.highlight = function () {\n            if (!this.root || !this.root.length)\n                return this;\n            if (this.blinks) {\n                this.blinks--;\n                this.root.effect('highlight', {}, 600, this.highlight.bind(this));\n            }\n            return this;\n        };\n        WLabel.prototype.render = function () {\n            var text = this.state ? this.state : '';\n            if (this.forId)\n                return this.buildRoot('label', WUX.buildIcon(this.props, '', ' ') + text, 'for=\"' + this.forId + '\"', this._classStyle);\n            return this.buildRoot(this.rootTag, WUX.buildIcon(this.props, '', ' ') + text, null, this._classStyle);\n        };\n        WLabel.prototype.componentDidMount = function () {\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n        };\n        return WLabel;\n    }(WUX.WComponent));\n    WUX.WLabel = WLabel;\n    var WInput = (function (_super) {\n        __extends(WInput, _super);\n        function WInput(id, type, size, classStyle, style, attributes) {\n            var _this = _super.call(this, id ? id : '*', 'WInput', type, classStyle, style, attributes) || this;\n            _this.rootTag = 'input';\n            _this.size = size;\n            _this.valueType = 's';\n            _this.blurOnEnter = false;\n            return _this;\n        }\n        WInput.prototype.updateState = function (nextState) {\n            _super.prototype.updateState.call(this, nextState);\n            if (this.root)\n                this.root.val(nextState);\n        };\n        WInput.prototype.onEnterPressed = function (handler) {\n            if (!this.handlers['_enter'])\n                this.handlers['_enter'] = [];\n            this.handlers['_enter'].push(handler);\n        };\n        WInput.prototype.render = function () {\n            var l = '';\n            if (this.label) {\n                l = this.id ? '<label for=\"' + this.id + '\">' : '<label>';\n                var br = this.label.lastIndexOf('<br');\n                if (br > 0) {\n                    l += this.label.substring(0, br).replace('<', '&lt;').replace('>', '&gt;');\n                    l += '</label><br>';\n                }\n                else {\n                    l += this.label.replace('<', '&lt;').replace('>', '&gt;');\n                    l += '</label> ';\n                }\n            }\n            if (this.props == 'static') {\n                return l + this.build('span', this.state);\n            }\n            else {\n                var addAttributes = 'name=\"' + this.id + '\"';\n                addAttributes += this.props ? ' type=\"' + this.props + '\"' : ' type=\"text\"';\n                if (this.size)\n                    addAttributes += ' size=\"' + this.size + '\"';\n                if (this.state)\n                    addAttributes += ' value=\"' + this.state + '\"';\n                if (this.placeHolder)\n                    addAttributes += ' placeholder=\"' + this.placeHolder + '\"';\n                return l + this.build(this.rootTag, '', addAttributes);\n            }\n        };\n        WInput.prototype.componentDidMount = function () {\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n            var _self = this;\n            this.root.keypress(function (e) {\n                if (e.which == 13) {\n                    var v = this.value;\n                    if (_self.valueType == 'c') {\n                        if (this.value)\n                            this.value = WUX.formatCurr(WUX.WUtil.toNumber(this.value));\n                    }\n                    else if (_self.valueType == 'c5') {\n                        if (this.value)\n                            this.value = WUX.formatCurr5(WUX.WUtil.toNumber(this.value));\n                    }\n                    else if (_self.valueType == 'n' || _self.valueType == 'p') {\n                        if (this.value)\n                            this.value = WUX.formatNum(this.value);\n                    }\n                    else if (_self.valueType == 'i') {\n                        if (this.value)\n                            this.value = WUX.WUtil.toInt(this.value);\n                    }\n                    _self.trigger('statechange', v);\n                    _self.trigger('_enter');\n                    if (_self.blurOnEnter)\n                        $(this).blur();\n                }\n            });\n            this.root.blur(function (e) {\n                var v = this.value;\n                if (_self.valueType == 'c') {\n                    if (this.value)\n                        this.value = WUX.formatCurr(WUX.WUtil.toNumber(this.value));\n                }\n                else if (_self.valueType == 'c5') {\n                    if (this.value)\n                        this.value = WUX.formatCurr5(WUX.WUtil.toNumber(this.value));\n                }\n                else if (_self.valueType == 'n' || _self.valueType == 'p') {\n                    if (this.value)\n                        this.value = WUX.formatNum(this.value);\n                }\n                else if (_self.valueType == 'i') {\n                    if (this.value)\n                        this.value = WUX.WUtil.toInt(this.value);\n                }\n                if (_self.state != v)\n                    _self.trigger('statechange', v);\n            });\n            this.root.focus(function (e) {\n                if (!this.value)\n                    return;\n                if (_self.valueType == 'c' || _self.valueType == 'c5') {\n                    var s = WUX.formatNum(this.value);\n                    if (s.indexOf(',00') >= 0 && s.indexOf(',00') == s.length - 3)\n                        s = s.substring(0, s.length - 3);\n                    if (s.indexOf(',0') >= 0 && s.indexOf(',0') == s.length - 2)\n                        s = s.substring(0, s.length - 3);\n                    this.value = s;\n                }\n                else if (_self.valueType == 'n' || _self.valueType == 'p') {\n                    this.value = WUX.formatNum(this.value);\n                }\n                else if (_self.valueType == 'i') {\n                    this.value = this.value = WUX.WUtil.toInt(this.value);\n                }\n                $(this).select();\n            });\n        };\n        return WInput;\n    }(WUX.WComponent));\n    WUX.WInput = WInput;\n    var WTextArea = (function (_super) {\n        __extends(WTextArea, _super);\n        function WTextArea(id, rows, classStyle, style, attributes) {\n            var _this = _super.call(this, id ? id : '*', 'WTextArea', rows, classStyle, style, attributes) || this;\n            _this.rootTag = 'textarea';\n            if (!rows)\n                _this.props = 5;\n            return _this;\n        }\n        WTextArea.prototype.updateState = function (nextState) {\n            _super.prototype.updateState.call(this, nextState);\n            if (this.root)\n                this.root.val(this.state);\n        };\n        WTextArea.prototype.getState = function () {\n            if (this.root)\n                this.state = WUX.norm(this.root.val());\n            return this.state;\n        };\n        WTextArea.prototype.render = function () {\n            if (!this.props)\n                this.props = 1;\n            if (this._style) {\n                if (this._style.indexOf('width') < 0) {\n                    this._style += \";width:100%\";\n                }\n            }\n            else {\n                this._style = \"width:100%\";\n            }\n            if (this._attributes) {\n                if (this._style.indexOf('rows=') < 0) {\n                    this._attributes += ' rows=\"' + this.props + '\"';\n                }\n            }\n            else {\n                this._attributes = 'rows=\"' + this.props + '\"';\n            }\n            return WUX.build('textarea', '', this._style, this._attributes, this.id, this._classStyle);\n        };\n        WTextArea.prototype.componentDidMount = function () {\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n            if (this.state)\n                this.root.val(WUX.den(this.state));\n        };\n        return WTextArea;\n    }(WUX.WComponent));\n    WUX.WTextArea = WTextArea;\n    var WCheck = (function (_super) {\n        __extends(WCheck, _super);\n        function WCheck(id, text, value, checked, classStyle, style, attributes) {\n            var _this = _super.call(this, id ? id : '*', 'WCheck', checked, classStyle, style, attributes) || this;\n            _this.rootTag = 'input';\n            _this.value = value ? value : '1';\n            if (checked)\n                _this.updateState(value);\n            _this._text = text;\n            return _this;\n        }\n        Object.defineProperty(WCheck.prototype, \"text\", {\n            get: function () {\n                if (!this._text && this.$label)\n                    return this.$label.text();\n                return this._text;\n            },\n            set: function (s) {\n                if (!this._text && this.$label) {\n                    this.$label.text(s);\n                    return;\n                }\n                this._text = s;\n                if (this.mounted)\n                    this.root.html(s);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WCheck.prototype, \"checked\", {\n            get: function () {\n                this.props = this.root.is(':checked');\n                this.state = this.props ? this.value : undefined;\n                return this.props;\n            },\n            set: function (b) {\n                this.setProps(b);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WCheck.prototype.getState = function () {\n            if (this.checked) {\n                this.state = this.value;\n            }\n            else {\n                this.state = null;\n            }\n            return this.state;\n        };\n        WCheck.prototype.updateProps = function (nextProps) {\n            _super.prototype.updateProps.call(this, nextProps);\n            this.state = this.props ? this.value : undefined;\n            if (this.root)\n                this.root.prop('checked', this.props);\n        };\n        WCheck.prototype.updateState = function (nextState) {\n            if (typeof nextState == 'boolean') {\n                nextState = nextState ? this.value : undefined;\n            }\n            _super.prototype.updateState.call(this, nextState);\n            if (this.root)\n                this.root.prop('checked', this.state != undefined);\n        };\n        WCheck.prototype.render = function () {\n            var addAttributes = 'name=\"' + this.id + '\" type=\"checkbox\"';\n            addAttributes += this.props ? ' checked=\"checked\"' : '';\n            var inner = this._text ? '&nbsp;' + this._text : '';\n            return this.build(this.rootTag, inner, addAttributes);\n        };\n        WCheck.prototype.componentDidMount = function () {\n            var _this = this;\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n            this.root.change(function (e) {\n                var checked = _this.root.is(':checked');\n                _this.trigger('propschange', checked);\n                _this.trigger('statechange', checked ? _this.value : undefined);\n            });\n        };\n        WCheck.prototype.getWrapper = function (style) {\n            if (this.wrapper)\n                return this.wrapper;\n            if (this.id) {\n                this.$label = this._text ? $('<label for=\"' + this.id + '\">' + this._text + '</label>') : $('<label></label>');\n            }\n            else {\n                this.$label = this._text ? $('<label>' + this._text + '</label>') : $('<label></label>');\n            }\n            this._text = '';\n            this.wrapper = new WUX.WContainer(this.subId(), 'checkbox', style);\n            this.wrapper.add(this);\n            this.wrapper.add(this.$label);\n            this.wrapper.stateComp = this;\n            return this.wrapper;\n        };\n        return WCheck;\n    }(WUX.WComponent));\n    WUX.WCheck = WCheck;\n    var WButton = (function (_super) {\n        __extends(WButton, _super);\n        function WButton(id, text, icon, classStyle, style, attributes, type) {\n            var _this = _super.call(this, id, 'WButton', icon, classStyle, style, attributes) || this;\n            _this.updateState(text);\n            _this.rootTag = 'button';\n            _this.type = type ? type : 'button';\n            return _this;\n        }\n        Object.defineProperty(WButton.prototype, \"icon\", {\n            get: function () {\n                return this.props;\n            },\n            set: function (i) {\n                this.update(i, this.state, true, false, false);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WButton.prototype.setText = function (text, icon) {\n            if (icon != null)\n                this.props = icon;\n            this.setState(text);\n        };\n        WButton.prototype.render = function () {\n            if (!this._classStyle)\n                this._classStyle = WUX.BTN.PRIMARY;\n            var addAttributes = this.type ? 'type=\"' + this.type + '\"' : '';\n            var html = '';\n            if (this.state) {\n                html += WUX.buildIcon(this.props, '', ' ') + this.state;\n            }\n            else {\n                html += WUX.buildIcon(this.props);\n            }\n            return this.build(this.rootTag, html, addAttributes);\n        };\n        WButton.prototype.componentDidMount = function () {\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n        };\n        WButton.prototype.componentWillUpdate = function (nextProps, nextState) {\n            var html = '';\n            if (nextState) {\n                html += WUX.buildIcon(this.props, '', ' ') + nextState;\n            }\n            else {\n                html += WUX.buildIcon(this.props);\n            }\n            this.root.html(html);\n        };\n        return WButton;\n    }(WUX.WComponent));\n    WUX.WButton = WButton;\n    var WLink = (function (_super) {\n        __extends(WLink, _super);\n        function WLink(id, text, icon, classStyle, style, attributes, href, target) {\n            var _this = _super.call(this, id, 'WLink', icon, classStyle, style, attributes) || this;\n            _this.updateState(text);\n            _this.rootTag = 'a';\n            _this._href = href;\n            _this._target = target;\n            return _this;\n        }\n        Object.defineProperty(WLink.prototype, \"icon\", {\n            get: function () {\n                return this.props;\n            },\n            set: function (s) {\n                this.update(s, this.state, true, false, false);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WLink.prototype, \"href\", {\n            get: function () {\n                return this._href;\n            },\n            set: function (s) {\n                this._href = s;\n                if (this.root && this.root.length) {\n                    if (s) {\n                        this.root.attr('href', s);\n                    }\n                    else {\n                        this.root.removeAttr('href');\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WLink.prototype, \"target\", {\n            get: function () {\n                return this._target;\n            },\n            set: function (s) {\n                this._target = s;\n                if (this.root && this.root.length) {\n                    if (s) {\n                        this.root.attr('target', s);\n                    }\n                    else {\n                        this.root.removeAttr('target');\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WLink.prototype.render = function () {\n            var addAttributes = '';\n            if (this._href)\n                addAttributes += 'href=\"' + this._href + '\"';\n            if (this._target) {\n                if (addAttributes)\n                    addAttributes += ' ';\n                addAttributes += 'target=\"' + this._target + '\"';\n            }\n            var html = '';\n            if (this.state) {\n                html += WUX.buildIcon(this.icon, '', ' ') + this.state;\n            }\n            else {\n                html += WUX.buildIcon(this.icon);\n            }\n            return this.build(this.rootTag, html, addAttributes);\n        };\n        WLink.prototype.componentDidMount = function () {\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n        };\n        WLink.prototype.componentWillUpdate = function (nextProps, nextState) {\n            var html = '';\n            if (nextState) {\n                html += WUX.buildIcon(this.icon, '', ' ') + nextState;\n            }\n            else {\n                html += WUX.buildIcon(this.icon);\n            }\n            this.root.html(html);\n        };\n        return WLink;\n    }(WUX.WComponent));\n    WUX.WLink = WLink;\n    var WTab = (function (_super) {\n        __extends(WTab, _super);\n        function WTab(id, classStyle, style, attributes, props) {\n            var _this = _super.call(this, id, 'WTab', props, classStyle, style, attributes) || this;\n            _this.tabs = [];\n            return _this;\n        }\n        WTab.prototype.addTab = function (title, icon) {\n            var tab = new WContainer('', 'panel-body');\n            tab.name = WUX.buildIcon(icon, '', ' ') + title;\n            this.tabs.push(tab);\n            return tab;\n        };\n        WTab.prototype.render = function () {\n            if (this.state == null)\n                this.state = 0;\n            var r = '<div';\n            if (this._classStyle) {\n                r += ' class=\"tabs-container ' + this._classStyle + '\"';\n            }\n            else {\n                r += ' class=\"tabs-container\"';\n            }\n            r += ' id=\"' + this.id + '\"';\n            if (this._style)\n                r += ' style=\"' + this._style + '\"';\n            if (this.attributes)\n                r += ' ' + this.attributes;\n            r += '>';\n            r += '<ul class=\"nav nav-tabs\">';\n            for (var i = 0; i < this.tabs.length; i++) {\n                var tab = this.tabs[i];\n                if (i == this.state) {\n                    r += '<li class=\"active\"><a data-toggle=\"tab\" href=\"#' + this.id + '-' + i + '\"> ' + tab.name + '</a></li>';\n                }\n                else {\n                    r += '<li><a data-toggle=\"tab\" href=\"#' + this.id + '-' + i + '\"> ' + tab.name + '</a></li>';\n                }\n            }\n            r += '</ul>';\n            r += '<div class=\"tab-content\">';\n            for (var i = 0; i < this.tabs.length; i++) {\n                if (i == this.state) {\n                    r += '<div id=\"' + this.id + '-' + i + '\" class=\"tab-pane active\"></div>';\n                }\n                else {\n                    r += '<div id=\"' + this.id + '-' + i + '\" class=\"tab-pane\"></div>';\n                }\n            }\n            r += '</div></div>';\n            return r;\n        };\n        WTab.prototype.componentDidUpdate = function (prevProps, prevState) {\n            $('.nav-tabs a[href=\"#' + this.id + '-' + this.state + '\"]').tab('show');\n        };\n        WTab.prototype.componentDidMount = function () {\n            if (!this.tabs.length)\n                return;\n            for (var i = 0; i < this.tabs.length; i++) {\n                var container = this.tabs[i];\n                var tabPane = $('#' + this.id + '-' + i);\n                if (!tabPane.length)\n                    continue;\n                container.mount(tabPane);\n            }\n            var _self = this;\n            this.root.find('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\n                var href = $(e.target).attr('href');\n                if (href) {\n                    var sep = href.lastIndexOf('-');\n                    if (sep >= 0)\n                        _self.setState(parseInt(href.substring(sep + 1)));\n                }\n            });\n        };\n        WTab.prototype.componentWillUnmount = function () {\n            for (var _i = 0, _a = this.tabs; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c)\n                    c.unmount();\n            }\n        };\n        return WTab;\n    }(WUX.WComponent));\n    WUX.WTab = WTab;\n    var WSelect = (function (_super) {\n        __extends(WSelect, _super);\n        function WSelect(id, options, multiple, classStyle, style, attributes) {\n            var _this = _super.call(this, id ? id : '*', 'WSelect', null, classStyle, style, attributes) || this;\n            _this.rootTag = 'select';\n            _this.options = options;\n            _this.multiple = multiple;\n            return _this;\n        }\n        WSelect.prototype.getProps = function () {\n            var _this = this;\n            if (!this.root)\n                return this.props;\n            this.props = [];\n            this.root.find('option:selected').each(function (i, e) {\n                _this.props.push($(e).text());\n            });\n            return this.props;\n        };\n        WSelect.prototype.select = function (i) {\n            if (!this.root || !this.options)\n                return this;\n            this.setState(this.options.length > i ? this.options[i] : null);\n            return this;\n        };\n        WSelect.prototype.addOption = function (e, sel) {\n            if (!e)\n                return this;\n            if (!this.options)\n                this.options = [];\n            this.options.push(e);\n            if (!this.mounted)\n                return this;\n            var o = this.buildOptions();\n            this.root.html(o);\n            if (sel)\n                this.updateState(e);\n            return this;\n        };\n        WSelect.prototype.remOption = function (e) {\n            if (!e || !this.options)\n                return this;\n            var x = -1;\n            for (var i = 0; i < this.options.length; i++) {\n                var s = this.options[i];\n                if (!s)\n                    continue;\n                if (typeof e == 'string') {\n                    if (typeof s == 'string') {\n                        if (s == e) {\n                            x = i;\n                            break;\n                        }\n                    }\n                    else {\n                        if (s.id == e) {\n                            x = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (typeof s == 'string') {\n                        if (s == e.id) {\n                            x = i;\n                            break;\n                        }\n                    }\n                    else {\n                        if (s.id == e.id) {\n                            x = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (x >= 0) {\n                this.options.splice(x, 1);\n                if (!this.mounted)\n                    return this;\n                var o = this.buildOptions();\n                this.root.html(o);\n            }\n            return this;\n        };\n        WSelect.prototype.setOptions = function (options, prevVal) {\n            this.options = options;\n            if (!this.mounted)\n                return this;\n            var pv = this.root.val();\n            var o = this.buildOptions();\n            this.root.html(o);\n            if (prevVal) {\n                this.root.val(pv);\n            }\n            else if (options && options.length) {\n                if (typeof options[0] == 'string') {\n                    this.trigger('statechange', options[0]);\n                }\n                else {\n                    this.trigger('statechange', WUX.WUtil.getString(options[0], 'id'));\n                }\n            }\n            return this;\n        };\n        WSelect.prototype.updateState = function (nextState) {\n            _super.prototype.updateState.call(this, nextState);\n            if (this.root) {\n                if (this.state == null) {\n                    this.root.val('');\n                }\n                else if (typeof this.state == 'string' || typeof this.state == 'number') {\n                    this.root.val('' + this.state);\n                }\n                else {\n                    this.root.val(this.state.id);\n                }\n            }\n        };\n        WSelect.prototype.render = function () {\n            var o = this.buildOptions();\n            var addAttributes = 'name=\"' + this.id + '\"';\n            if (this.multiple)\n                addAttributes += ' multiple=\"multiple\"';\n            return this.buildRoot('select', o, addAttributes);\n        };\n        WSelect.prototype.componentDidMount = function () {\n            var _this = this;\n            if (this._tooltip)\n                this.root.attr('title', this._tooltip);\n            if (this.state)\n                this.root.val(this.state);\n            this.root.on('change', function (e) {\n                _this.trigger('statechange', _this.root.val());\n            });\n        };\n        WSelect.prototype.buildOptions = function () {\n            var r = '';\n            if (!this.options)\n                this.options = [];\n            for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n                var opt = _a[_i];\n                if (typeof opt == 'string') {\n                    r += '<option>' + opt + '</option>';\n                }\n                else {\n                    r += '<option value=\"' + opt.id + '\">' + opt.text + '</option>';\n                }\n            }\n            return r;\n        };\n        return WSelect;\n    }(WUX.WComponent));\n    WUX.WSelect = WSelect;\n    var WRadio = (function (_super) {\n        __extends(WRadio, _super);\n        function WRadio(id, options, classStyle, style, attributes, props) {\n            var _this = _super.call(this, id ? id : '*', 'WRadio', props, classStyle, style, attributes) || this;\n            _this.options = options;\n            return _this;\n        }\n        Object.defineProperty(WRadio.prototype, \"tooltip\", {\n            set: function (s) {\n                this._tooltip = s;\n                if (this.internal)\n                    this.internal.tooltip = s;\n                if (!this.options || !this.options.length)\n                    return;\n                for (var i = 0; i < this.options.length; i++) {\n                    var $item = $('#' + this.id + '-' + i);\n                    if (!$item.length)\n                        continue;\n                    if (this._tooltip)\n                        $item.attr('title', this._tooltip);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WRadio.prototype.select = function (i) {\n            if (!this.root || !this.options)\n                return this;\n            this.setState(this.options.length > i ? this.options[i] : null);\n            return this;\n        };\n        WRadio.prototype.render = function () {\n            var r = '';\n            if (this.label) {\n                r += this.id ? '<label for=\"' + this.id + '\">' : '<label>';\n                r += this.label.replace('<', '&lt;').replace('>', '&gt;');\n                r += '</label> ';\n            }\n            if (!this.options || !this.options.length)\n                return r;\n            if (this.state === undefined)\n                this.state = this.options[0];\n            for (var i = 0; i < this.options.length; i++) {\n                var opt = this.options[i];\n                if (typeof opt == \"string\") {\n                    if (WUX.match(this.state, opt)) {\n                        r += '&nbsp;<label style=\"display:inline;\"><input type=\"radio\" value=\"' + opt + '\" name=\"' + this.id + '\" id=\"' + this.id + '-' + i + '\" checked> ' + opt + '</label>&nbsp;';\n                    }\n                    else {\n                        r += '&nbsp;<label style=\"display:inline;\"><input type=\"radio\" value=\"' + opt + '\" name=\"' + this.id + '\" id=\"' + this.id + '-' + i + '\"> ' + opt + '</label>&nbsp;';\n                    }\n                }\n                else {\n                    if (WUX.match(this.state, opt)) {\n                        r += '&nbsp;<label style=\"display:inline;\"><input type=\"radio\" value=\"' + opt.id + '\" name=\"' + this.id + '\" id=\"' + this.id + '-' + i + '\" checked> ' + opt.text + '</label>&nbsp;';\n                    }\n                    else {\n                        r += '&nbsp;<label style=\"display:inline;\"><input type=\"radio\" value=\"' + opt.id + '\" name=\"' + this.id + '\" id=\"' + this.id + '-' + i + '\"> ' + opt.text + '</label>&nbsp;';\n                    }\n                }\n            }\n            return r;\n        };\n        WRadio.prototype.componentDidMount = function () {\n            var _this = this;\n            if (!this.options || !this.options.length)\n                return;\n            var _loop_1 = function (i) {\n                var $item = $('#' + this_1.id + '-' + i);\n                if (!$item.length)\n                    return \"continue\";\n                if (this_1._tooltip)\n                    $item.attr('title', this_1._tooltip);\n                var opt = this_1.options[i];\n                $item.click(function () {\n                    _this.setState(opt);\n                });\n            };\n            var this_1 = this;\n            for (var i = 0; i < this.options.length; i++) {\n                _loop_1(i);\n            }\n        };\n        WRadio.prototype.componentDidUpdate = function (prevProps, prevState) {\n            var idx = -1;\n            for (var i = 0; i < this.options.length; i++) {\n                if (WUX.match(this.state, this.options[i])) {\n                    idx = i;\n                    break;\n                }\n            }\n            if (idx >= 0)\n                $('#' + this.id + '-' + idx).prop('checked', true);\n        };\n        return WRadio;\n    }(WUX.WComponent));\n    WUX.WRadio = WRadio;\n    var WTable = (function (_super) {\n        __extends(WTable, _super);\n        function WTable(id, header, keys, classStyle, style, attributes, props) {\n            var _this = _super.call(this, id ? id : '*', 'WTable', props, classStyle, style, attributes) || this;\n            _this.selectedRow = -1;\n            _this.rootTag = 'table';\n            _this.header = header;\n            if (keys && keys.length) {\n                _this.keys = keys;\n            }\n            else {\n                _this.keys = [];\n                if (_this.header)\n                    for (var i = 0; i < _this.header.length; i++)\n                        _this.keys.push(i);\n            }\n            _this.widths = [];\n            _this.templates = [];\n            _this.boldNonZero = false;\n            _this.selClass = 'success';\n            return _this;\n        }\n        WTable.prototype.onSelectionChanged = function (handler) {\n            if (!this.handlers['_selectionchanged'])\n                this.handlers['_selectionchanged'] = [];\n            this.handlers['_selectionchanged'].push(handler);\n        };\n        WTable.prototype.onDoubleClick = function (handler) {\n            if (!this.handlers['_doubleclick'])\n                this.handlers['_doubleclick'] = [];\n            this.handlers['_doubleclick'].push(handler);\n        };\n        WTable.prototype.onRowPrepared = function (handler) {\n            if (!this.handlers['_rowprepared'])\n                this.handlers['_rowprepared'] = [];\n            this.handlers['_rowprepared'].push(handler);\n        };\n        WTable.prototype.onCellClick = function (handler) {\n            if (!this.handlers['_cellclick'])\n                this.handlers['_cellclick'] = [];\n            this.handlers['_cellclick'].push(handler);\n        };\n        WTable.prototype.onCellHoverChanged = function (handler) {\n            if (!this.handlers['_cellhover'])\n                this.handlers['_cellhover'] = [];\n            this.handlers['_cellhover'].push(handler);\n        };\n        WTable.prototype.clearSelection = function () {\n            this.selectedRow = -1;\n            if (!this.mounted)\n                return this;\n            this.root.find('tbody tr').removeClass('success');\n            if (!this.handlers['_selectionchanged'])\n                return this;\n            for (var _i = 0, _a = this.handlers['_selectionchanged']; _i < _a.length; _i++) {\n                var handler = _a[_i];\n                handler({ element: this.root, selectedRowsData: [] });\n            }\n            return this;\n        };\n        WTable.prototype.select = function (idxs) {\n            this.selectedRow = idxs && idxs.length ? idxs[0] : -1;\n            if (!this.mounted)\n                return this;\n            this.root.find('tbody tr').removeClass('success');\n            for (var _i = 0, idxs_1 = idxs; _i < idxs_1.length; _i++) {\n                var idx = idxs_1[_i];\n                this.root.find('tbody tr:eq(' + idx + ')').addClass('success');\n            }\n            if (!this.handlers['_selectionchanged'])\n                return this;\n            for (var _a = 0, _b = this.handlers['_selectionchanged']; _a < _b.length; _a++) {\n                var handler = _b[_a];\n                handler({ element: this.root, selectedRowsData: [] });\n            }\n            return this;\n        };\n        WTable.prototype.selectAll = function (toggle) {\n            if (!this.mounted)\n                return this;\n            this.root.find('tbody tr').addClass('success');\n            if (!this.handlers['_selectionchanged'])\n                return this;\n            for (var _i = 0, _a = this.handlers['_selectionchanged']; _i < _a.length; _i++) {\n                var handler = _a[_i];\n                handler({ element: this.root, selectedRowsData: [] });\n            }\n            return this;\n        };\n        WTable.prototype.getSelectedRows = function () {\n            if (!this.mounted)\n                return [];\n            if (this.selectedRow < 0)\n                return [];\n            return [this.selectedRow];\n        };\n        WTable.prototype.getSelectedRowsData = function () {\n            if (!this.mounted)\n                return [];\n            if (this.selectedRow < 0)\n                return [];\n            if (!this.state || !this.state.length)\n                return [];\n            if (this.state.length <= this.selectedRow)\n                return [];\n            return this.state[this.selectedRow];\n        };\n        WTable.prototype.getFilteredRowsData = function () {\n            return this.state;\n        };\n        WTable.prototype.refresh = function () {\n            return this;\n        };\n        WTable.prototype.getCellValue = function (r, c) {\n            if (r < 0 || c < 0)\n                return null;\n            if (!this.state || this.state.length <= r)\n                return null;\n            if (!this.keys || this.keys.length <= c)\n                return null;\n            var key = this.keys[c];\n            var row = this.state[r];\n            return WUX.WUtil.getValue(row, key);\n        };\n        WTable.prototype.getColHeader = function (c) {\n            if (c < 0)\n                return '';\n            if (!this.header || this.header.length <= c)\n                return '';\n            return this.header[c];\n        };\n        WTable.prototype.render = function () {\n            if (!this.shouldBuildRoot())\n                return undefined;\n            var tableClass = 'table';\n            if (this._classStyle)\n                tableClass = this._classStyle.indexOf('table ') >= 0 ? this._classStyle : tableClass + ' ' + this._classStyle;\n            var ts = this.style ? ' style=\"' + this.style + '\"' : '';\n            var r = '<div class=\"table-responsive\"><table id=\"' + this.id + '\" class=\"' + tableClass + '\"' + ts + '>';\n            if (this.header && this.header.length) {\n                var ths = false;\n                if (typeof this.headStyle == 'string') {\n                    if (this.headStyle.indexOf('text-align') > 0)\n                        ths = true;\n                }\n                else if (this.headStyle && this.headStyle.a) {\n                    ths = true;\n                }\n                if (ths) {\n                    r += '<thead><tr>';\n                }\n                else {\n                    r += '<thead><tr' + WUX.buildCss(this.headStyle) + '>';\n                }\n                var j = -1;\n                for (var _i = 0, _a = this.header; _i < _a.length; _i++) {\n                    var h = _a[_i];\n                    j++;\n                    var s = void 0;\n                    if (j == 0) {\n                        s = this.col0Style ? this.col0Style : this.colStyle;\n                    }\n                    else if (j == this.header.length - 1) {\n                        s = this.colLStyle ? this.colLStyle : this.colStyle;\n                    }\n                    else {\n                        s = ths ? this.headStyle : this.colStyle;\n                    }\n                    var w = this.widths && this.widths.length > j ? this.widths[j] : 0;\n                    if (w) {\n                        if (this.widthsPerc) {\n                            r += '<th' + WUX.buildCss(s, { w: w + '%' }) + '>' + h + '</th>';\n                        }\n                        else {\n                            r += '<th' + WUX.buildCss(s, { w: w }) + '>' + h + '</th>';\n                        }\n                    }\n                    else {\n                        r += '<th' + WUX.buildCss(s) + '>' + h + '</th>';\n                    }\n                }\n                r += '</tr></thead>';\n            }\n            r += '<tbody></tbody>';\n            r += '</table></div>';\n            return r;\n        };\n        WTable.prototype.componentDidMount = function () {\n            this.buildBody();\n            var _self = this;\n            this.root.on('click', 'tbody tr', function (e) {\n                if (!_self.handlers['_selectionchanged']) {\n                    if (!_self.selectionMode || _self.selectionMode == 'none')\n                        return;\n                }\n                else {\n                    if (!_self.selectionMode || _self.selectionMode == 'none')\n                        return;\n                }\n                var $this = $(this);\n                $this.addClass('success').siblings().removeClass('success');\n                _self.selectedRow = $this.index();\n                var rowData = _self.state && _self.state.length ? _self.state[_self.selectedRow] : undefined;\n                if (_self.handlers['_selectionchanged']) {\n                    for (var _i = 0, _a = _self.handlers['_selectionchanged']; _i < _a.length; _i++) {\n                        var h = _a[_i];\n                        h({ element: _self.root, selectedRowsData: [rowData] });\n                    }\n                }\n            });\n            this.root.on('click', 'tbody tr td', function (e) {\n                if (!_self.handlers['_cellclick'])\n                    return;\n                var $this = $(this);\n                var r = $this.parent().index();\n                var c = $this.index();\n                for (var _i = 0, _a = _self.handlers['_cellclick']; _i < _a.length; _i++) {\n                    var h = _a[_i];\n                    h({ element: _self.root, rowIndex: r, colIndex: c });\n                }\n            });\n            this.root.on('mouseover', 'tbody tr td', function (e) {\n                if (!_self.handlers['_cellhover'])\n                    return;\n                var $this = $(this);\n                var r = $this.parent().index();\n                var c = $this.index();\n                for (var _i = 0, _a = _self.handlers['_cellhover']; _i < _a.length; _i++) {\n                    var h = _a[_i];\n                    h({ element: _self.root, rowIndex: r, colIndex: c });\n                }\n            });\n            this.root.on('dblclick', 'tbody tr', function (e) {\n                if (!_self.handlers['_doubleclick'])\n                    return;\n                for (var _i = 0, _a = _self.handlers['_doubleclick']; _i < _a.length; _i++) {\n                    var h = _a[_i];\n                    h({ element: _self.root });\n                }\n            });\n        };\n        WTable.prototype.componentDidUpdate = function (prevProps, prevState) {\n            this.buildBody();\n        };\n        WTable.prototype.buildBody = function () {\n            this.selectedRow = -1;\n            var tbody = this.root.find('tbody');\n            tbody.html('');\n            if (!this.state || !this.state.length)\n                return;\n            if (!this.keys || !this.keys.length)\n                return;\n            var i = -1;\n            for (var _i = 0, _a = this.state; _i < _a.length; _i++) {\n                var row = _a[_i];\n                i++;\n                var $r = void 0;\n                if (i == this.state.length - 1) {\n                    if (this.footerStyle) {\n                        $r = $(WUX.build('tr', '', this.footerStyle));\n                    }\n                    else {\n                        $r = $(WUX.build('tr', '', this.rowStyle));\n                    }\n                }\n                else {\n                    $r = $(WUX.build('tr', '', this.rowStyle));\n                }\n                tbody.append($r);\n                if (this.handlers['_rowprepared']) {\n                    var e = { element: this.root, rowElement: $r, data: row, rowIndex: i };\n                    for (var _b = 0, _c = this.handlers['_rowprepared']; _b < _c.length; _b++) {\n                        var handler = _c[_b];\n                        handler(e);\n                    }\n                }\n                var j = -1;\n                for (var _d = 0, _e = this.keys; _d < _e.length; _d++) {\n                    var key = _e[_d];\n                    var v = row[key];\n                    var align = '';\n                    if (v == null)\n                        v = '';\n                    j++;\n                    var t = WUX.WUtil.getItem(this.types, j);\n                    switch (t) {\n                        case 'w':\n                            align = 'text-center';\n                            break;\n                        case 'c':\n                            v = WUX.formatCurr(v);\n                            align = 'text-right';\n                            break;\n                        case 'c5':\n                            v = WUX.formatCurr5(v);\n                            align = 'text-right';\n                            break;\n                        case 'i':\n                            v = WUX.formatNum(v);\n                            align = 'text-right';\n                            break;\n                        case 'n':\n                            v = WUX.formatNum2(v);\n                            align = 'text-right';\n                            break;\n                        case 'd':\n                            v = WUX.formatDate(v);\n                            break;\n                        case 't':\n                            v = WUX.formatDateTime(v);\n                            break;\n                        case 'b':\n                            v = v ? '&check;' : '';\n                            break;\n                        default:\n                            if (v instanceof Date)\n                                v = WUX.formatDate(v);\n                            if (typeof v == 'boolean')\n                                v = v ? '&check;' : '';\n                            if (typeof v == 'number') {\n                                v = WUX.formatNum2(v);\n                                align = 'text-right';\n                            }\n                    }\n                    var s = void 0;\n                    if (j == 0) {\n                        s = this.col0Style ? this.col0Style : this.colStyle;\n                    }\n                    else if (j == this.header.length - 1) {\n                        s = this.colLStyle ? this.colLStyle : this.colStyle;\n                    }\n                    else {\n                        s = this.colStyle;\n                    }\n                    if (typeof s == 'string') {\n                        if (s.indexOf('text-align') > 0)\n                            align = '';\n                    }\n                    else if (s && s.a) {\n                        align = '';\n                    }\n                    var w = this.widths && this.widths.length > j ? this.widths[j] : 0;\n                    var f = this.templates && this.templates.length > j ? this.templates[j] : undefined;\n                    if (f) {\n                        var $td = $('<td' + WUX.buildCss(s, align, { w: w }) + '></td>');\n                        f($td, { data: row, text: v });\n                        $r.append($td);\n                    }\n                    else {\n                        if (WUX.WUtil.hasComponents(v)) {\n                            var ac = WUX.WUtil.toArrayComponent(v);\n                            for (var _f = 0, ac_3 = ac; _f < ac_3.length; _f++) {\n                                var c = ac_3[_f];\n                                var $td = $('<td' + WUX.buildCss(s, align, { w: w }) + '></td>');\n                                $r.append($td);\n                                c.mount($td);\n                            }\n                        }\n                        else {\n                            if (this.boldNonZero && v != 0 && v != '0' && v != '') {\n                                $r.append($('<td' + WUX.buildCss(s, align, { w: w }) + '><strong>' + v + '</strong></td>'));\n                            }\n                            else {\n                                $r.append($('<td' + WUX.buildCss(s, align, { w: w }) + '>' + v + '</td>'));\n                            }\n                        }\n                    }\n                }\n                if (this.header && this.header.length > this.keys.length) {\n                    for (var i_1 = 0; i_1 < this.header.length - this.keys.length; i_1++) {\n                        $r.append($('<td' + WUX.buildCss(this.colStyle) + '></td>'));\n                    }\n                }\n            }\n        };\n        return WTable;\n    }(WUX.WComponent));\n    WUX.WTable = WTable;\n    var WFormPanel = (function (_super) {\n        __extends(WFormPanel, _super);\n        function WFormPanel(id, title, action, props) {\n            var _this = _super.call(this, id, 'WFormPanel', props) || this;\n            _this.rootTag = 'form';\n            if (action) {\n                _this._attributes = 'role=\"form\" name=\"' + _this.id + '\" action=\"' + action + '\"';\n            }\n            else {\n                _this._attributes = 'role=\"form\" name=\"' + _this.id + '\" action=\"javascript:void(0);\"';\n            }\n            _this.stateChangeOnBlur = false;\n            _this.inputClass = WUX.CSS.FORM_CTRL;\n            _this.title = title;\n            _this.nextOnEnter = true;\n            _this.autoValidate = false;\n            _this.init();\n            return _this;\n        }\n        WFormPanel.prototype.init = function () {\n            this.rows = [];\n            this.roww = [];\n            this.hiddens = [];\n            this.internals = {};\n            this.components = [];\n            this.captions = [];\n            this.dpids = [];\n            this.nextMap = {};\n            this.mapTooltips = {};\n            this.mapLabelLinks = {};\n            this.minValues = {};\n            this.maxValues = {};\n            this.footer = [];\n            this.currRow = null;\n            this.addRow();\n            return this;\n        };\n        WFormPanel.prototype.focus = function () {\n            if (!this.mounted)\n                return this;\n            var f = this.first(true);\n            if (f) {\n                if (f.component) {\n                    f.component.focus();\n                }\n                else if (f.element) {\n                    f.element.focus();\n                }\n            }\n            return this;\n        };\n        WFormPanel.prototype.first = function (enabled) {\n            if (!this.rows)\n                return null;\n            for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n                var row = _a[_i];\n                for (var _b = 0, row_1 = row; _b < row_1.length; _b++) {\n                    var f = row_1[_b];\n                    if (enabled) {\n                        if (f.enabled == null || f.enabled) {\n                            if (f.readonly == null || !f.readonly)\n                                return f;\n                        }\n                    }\n                    else {\n                        return f;\n                    }\n                }\n            }\n            return null;\n        };\n        WFormPanel.prototype.focusOn = function (fieldId) {\n            if (!this.mounted)\n                return this;\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            if (f.component) {\n                f.component.focus();\n            }\n            else if (f.element) {\n                f.element.focus();\n            }\n            return this;\n        };\n        WFormPanel.prototype.onEnterPressed = function (h) {\n            if (!h)\n                return;\n            if (!this.handlers['_enter'])\n                this.handlers['_enter'] = [];\n            this.handlers['_enter'].push(h);\n            this.nextOnEnter = false;\n        };\n        WFormPanel.prototype.onChangeDate = function (h) {\n            if (!h)\n                return;\n            if (!this.handlers['_changedate'])\n                this.handlers['_changedate'] = [];\n            this.handlers['_changedate'].push(h);\n        };\n        WFormPanel.prototype.addToFooter = function (c, sep) {\n            if (!c && !this.footer)\n                return this;\n            if (sep != undefined)\n                this.footerSep = sep;\n            this.footer.push(c);\n            return this;\n        };\n        WFormPanel.prototype.addRow = function (classStyle, style, id, attributes, type) {\n            if (type === void 0) { type = 'row'; }\n            if (this.currRow && !this.currRow.length) {\n                this.roww[this.roww.length - 1] = {\n                    classStyle: classStyle,\n                    style: style,\n                    id: id,\n                    attributes: WUX.attributes(attributes),\n                    type: type\n                };\n                return this;\n            }\n            this.currRow = new Array();\n            this.rows.push(this.currRow);\n            this.roww.push({\n                classStyle: classStyle,\n                style: style,\n                id: id,\n                attributes: WUX.attributes(attributes),\n                type: type\n            });\n            return this;\n        };\n        WFormPanel.prototype.addTextField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Text, 'readonly': readonly });\n            return this;\n        };\n        WFormPanel.prototype.addNoteField = function (fieldId, label, rows, readonly) {\n            if (!rows)\n                rows = 3;\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Note, 'attributes': 'rows=\"' + rows + '\"', 'readonly': readonly });\n            return this;\n        };\n        WFormPanel.prototype.addCurrencyField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Text, 'readonly': readonly, valueType: 'c', style: { a: 'right' } });\n            return this;\n        };\n        WFormPanel.prototype.addCurrency5Field = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Text, 'readonly': readonly, valueType: 'c5', style: { a: 'right' } });\n            return this;\n        };\n        WFormPanel.prototype.addIntegerField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Text, 'readonly': readonly, valueType: 'i' });\n            return this;\n        };\n        WFormPanel.prototype.addDecimalField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Text, 'readonly': readonly, valueType: 'n' });\n            return this;\n        };\n        WFormPanel.prototype.addDateField = function (fieldId, label, readonly, minDate, maxDate) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Date, 'readonly': readonly, valueType: 'd', minValue: minDate, maxValue: maxDate });\n            return this;\n        };\n        WFormPanel.prototype.addOptionsField = function (fieldId, label, options, attributes, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Select, 'readonly': readonly, 'options': options, 'attributes': attributes });\n            return this;\n        };\n        WFormPanel.prototype.addBooleanField = function (fieldId, label) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.CheckBox });\n            return this;\n        };\n        WFormPanel.prototype.addBlankField = function (label, classStyle, style, id, attributes, inner) {\n            this.currRow.push({ 'id': id, 'label': label, 'type': WUX.WInputType.Blank, 'classStyle': classStyle, 'style': style, 'attributes': attributes, 'placeholder': inner });\n            return this;\n        };\n        WFormPanel.prototype.addRadioField = function (fieldId, label, options) {\n            var comp = new WRadio(this.subId(fieldId), options);\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Radio, 'component': comp });\n            return this;\n        };\n        WFormPanel.prototype.addPasswordField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Password, 'readonly': readonly });\n            return this;\n        };\n        WFormPanel.prototype.addEmailField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Email, 'readonly': readonly });\n            return this;\n        };\n        WFormPanel.prototype.addFtpField = function (fieldId, label, readonly) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Ftp, 'readonly': readonly });\n            return this;\n        };\n        WFormPanel.prototype.addCronField = function (fieldId, label, readonly, value) {\n            this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Cron, 'readonly': readonly, 'value': value });\n            return this;\n        };\n        WFormPanel.prototype.addComponent = function (fieldId, label, component, readonly) {\n            if (!component)\n                return;\n            if (fieldId) {\n                component.id = this.subId(fieldId);\n                this.currRow.push({ 'id': this.subId(fieldId), 'label': label, 'type': WUX.WInputType.Component, 'component': component, 'readonly': readonly });\n                if (component instanceof WUX.WInput) {\n                    if (!component.classStyle)\n                        component.classStyle = WUX.CSS.FORM_CTRL;\n                }\n            }\n            else {\n                component.id = '';\n                this.currRow.push({ 'id': '', 'label': label, 'type': WUX.WInputType.Component, 'component': component, 'readonly': readonly });\n            }\n            this.components.push(component);\n            return this;\n        };\n        WFormPanel.prototype.addCaption = function (label, icon, classStyle, style) {\n            if (!label)\n                return;\n            var component = new WUX.WLabel('', label, icon, classStyle, style);\n            this.currRow.push({ 'id': '', 'label': '', 'type': WUX.WInputType.Component, 'component': component, 'readonly': true });\n            this.components.push(component);\n            this.captions.push(component);\n            return this;\n        };\n        WFormPanel.prototype.addInternalField = function (fieldId, value) {\n            if (value === undefined)\n                value = null;\n            this.internals[fieldId] = value;\n            return this;\n        };\n        WFormPanel.prototype.addHiddenField = function (fieldId, value) {\n            this.hiddens.push({ 'id': this.subId(fieldId), 'type': WUX.WInputType.Hidden, 'value': value });\n            return this;\n        };\n        WFormPanel.prototype.setTooltip = function (fieldId, text) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            if (!text) {\n                delete this.mapTooltips[f.id];\n            }\n            else {\n                this.mapTooltips[f.id] = text;\n            }\n            return this;\n        };\n        WFormPanel.prototype.setLabelLinks = function (fieldId, links) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            if (!links || !links.length) {\n                delete this.mapLabelLinks[f.id];\n            }\n            else {\n                this.mapLabelLinks[f.id] = links;\n            }\n            return this;\n        };\n        WFormPanel.prototype.setReadOnly = function (fieldId, readonly) {\n            if (typeof fieldId == 'string') {\n                var f = this.getField(fieldId);\n                if (!f)\n                    return this;\n                f.readonly = readonly;\n                if (this.mounted) {\n                    if (f.component) {\n                        f.component.enabled = !readonly;\n                    }\n                    else {\n                        var $f = $('#' + f.id);\n                        var t = WUX.getTagName($f);\n                        if (t == 'select') {\n                            if (readonly) {\n                                $f.prop(\"disabled\", true);\n                            }\n                            else {\n                                $f.prop(\"disabled\", false);\n                            }\n                        }\n                        else {\n                            $f.prop('readonly', readonly);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < this.rows.length; i++) {\n                    var row = this.rows[i];\n                    for (var j = 0; j < row.length; j++) {\n                        var f = row[j];\n                        f.readonly = fieldId;\n                        if (this.mounted) {\n                            if (f.component) {\n                                f.component.enabled = !fieldId;\n                            }\n                            else {\n                                var $f = $('#' + f.id);\n                                var t = WUX.getTagName($f);\n                                if (t == 'select') {\n                                    if (fieldId) {\n                                        $f.prop('disabled', true);\n                                    }\n                                    else {\n                                        $f.prop('disabled', false);\n                                    }\n                                }\n                                else {\n                                    $f.prop('readonly', fieldId);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            this.trigger('propschange');\n            return this;\n        };\n        Object.defineProperty(WFormPanel.prototype, \"enabled\", {\n            set: function (b) {\n                this._enabled = b;\n                for (var i = 0; i < this.rows.length; i++) {\n                    var row = this.rows[i];\n                    for (var j = 0; j < row.length; j++) {\n                        var f = row[j];\n                        f.enabled = b;\n                        if (this.mounted) {\n                            if (f.component) {\n                                f.component.enabled = b;\n                            }\n                            else {\n                                $('#' + f.id).prop(\"disabled\", !b);\n                            }\n                        }\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WFormPanel.prototype.setEnabled = function (fieldId, enabled) {\n            if (typeof fieldId == 'string') {\n                var f = this.getField(fieldId);\n                if (!f)\n                    return this;\n                f.enabled = enabled;\n                if (this.mounted) {\n                    if (f.component) {\n                        f.component.enabled = enabled;\n                    }\n                    else {\n                        $('#' + f.id).prop(\"disabled\", !enabled);\n                    }\n                }\n            }\n            else {\n                this.enabled = fieldId;\n            }\n            this.trigger('propschange');\n            return this;\n        };\n        WFormPanel.prototype.setVisible = function (fieldId, visible) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            f.visible = visible;\n            if (this.mounted) {\n                if (f.component) {\n                    f.component.visible = visible;\n                }\n                else {\n                    if (visible)\n                        $('#' + f.id).show();\n                    else\n                        $('#' + f.id).hide();\n                }\n                if (f.label) {\n                    if (visible)\n                        $('label[for=\"' + f.id + '\"]').show();\n                    else\n                        $('label[for=\"' + f.id + '\"]').hide();\n                }\n            }\n            this.trigger('propschange');\n            return this;\n        };\n        WFormPanel.prototype.setLabelCss = function (fieldId, css) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            f.labelCss = css;\n            if (this.mounted) {\n                var $l = $('label[for=\"' + f.id + '\"]');\n                if ($l.length)\n                    WUX.setCss($l, css);\n            }\n            return this;\n        };\n        WFormPanel.prototype.setLabelText = function (fieldId, t) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            f.label = t;\n            if (this.mounted) {\n                var $l = $('label[for=\"' + f.id + '\"]');\n                if ($l.length)\n                    $l.html(t);\n            }\n            return this;\n        };\n        WFormPanel.prototype.setSpanField = function (fieldId, span) {\n            var f = this.getField(fieldId);\n            if (!f)\n                return this;\n            f.span = span;\n            return this;\n        };\n        WFormPanel.prototype.getField = function (fid) {\n            if (!fid)\n                return;\n            var sid = fid.indexOf(this.id + '-') == 0 ? fid : this.subId(fid);\n            for (var i = 0; i < this.rows.length; i++) {\n                var row = this.rows[i];\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    if (f.id == sid)\n                        return f;\n                }\n            }\n            return;\n        };\n        WFormPanel.prototype.onMount = function (fid, h) {\n            var x = this.getField(fid);\n            if (!x)\n                return this;\n            x.onmount = h;\n            return this;\n        };\n        WFormPanel.prototype.onFocus = function (fid, h) {\n            var x = this.getField(fid);\n            if (!x)\n                return this;\n            x.onfocus = h;\n            return this;\n        };\n        WFormPanel.prototype.onBlur = function (fid, h) {\n            var x = this.getField(fid);\n            if (!x)\n                return this;\n            x.onblur = h;\n            return this;\n        };\n        WFormPanel.prototype.getStateOf = function (fid) {\n            var f = this.getField(fid);\n            if (!f)\n                return null;\n            if (!f.component)\n                return null;\n            return f.component.getState();\n        };\n        WFormPanel.prototype.getPropsOf = function (fid) {\n            var f = this.getField(fid);\n            if (!f)\n                return null;\n            if (!f.component)\n                return null;\n            return f.component.getProps();\n        };\n        WFormPanel.prototype.next = function (fid) {\n            if (!fid)\n                return;\n            var sid = fid.indexOf(this.id + '-') == 0 ? fid : this.subId(fid);\n            if (this.nextMap) {\n                var nid = this.nextMap[this.ripId(sid)];\n                if (nid) {\n                    var r = this.getField(nid);\n                    if (r)\n                        return r;\n                }\n            }\n            var x = false;\n            for (var i = 0; i < this.rows.length; i++) {\n                var row = this.rows[i];\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    if (x)\n                        return f;\n                    if (f.id == sid)\n                        x = true;\n                }\n            }\n            return;\n        };\n        WFormPanel.prototype.setMandatory = function () {\n            var fids = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fids[_i] = arguments[_i];\n            }\n            if (!this.rows)\n                return this;\n            var sids = [];\n            for (var _a = 0, fids_1 = fids; _a < fids_1.length; _a++) {\n                var fid = fids_1[_a];\n                var sid = fid.indexOf(this.id + '-') == 0 ? fid : this.subId(fid);\n                sids.push(sid);\n            }\n            for (var i = 0; i < this.rows.length; i++) {\n                var row = this.rows[i];\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    if (sids.indexOf(f.id) >= 0) {\n                        f.required = true;\n                    }\n                    else {\n                        f.required = false;\n                    }\n                }\n            }\n            return this;\n        };\n        WFormPanel.prototype.checkMandatory = function (labels, focus, atLeastOne) {\n            var values = this.getState();\n            if (!values)\n                values = {};\n            var r = '';\n            var x = '';\n            var a = false;\n            for (var i = 0; i < this.rows.length; i++) {\n                var row = this.rows[i];\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    var id = this.ripId(f.id);\n                    var v = values[id];\n                    if (f.required) {\n                        if (v == null || v == '') {\n                            if (labels) {\n                                r += ',' + f.label;\n                            }\n                            else {\n                                r += ',' + id;\n                            }\n                            if (!x)\n                                x = id;\n                        }\n                        else {\n                            a = true;\n                        }\n                    }\n                }\n            }\n            if (atLeastOne && a)\n                return '';\n            if (x && focus)\n                this.focusOn(x);\n            if (r)\n                return r.substring(1);\n            return r;\n        };\n        WFormPanel.prototype.getState = function () {\n            this.state = this.autoValidate ? this.validate() : this.getValues();\n            return this.state;\n        };\n        WFormPanel.prototype.render = function () {\n            return this.buildRoot(this.rootTag);\n        };\n        WFormPanel.prototype.componentDidMount = function () {\n            var _this = this;\n            if (!this.inputClass)\n                this.inputClass = WUX.CSS.FORM_CTRL;\n            this.minValues = {};\n            this.maxValues = {};\n            this.dpids = [];\n            for (var i = 0; i < this.rows.length; i++) {\n                var w = this.roww[i];\n                var r = '<div';\n                if (w) {\n                    var c = WUX.cls(w.type, w.classStyle, w.style);\n                    if (c)\n                        r += ' class=\"' + c + '\"';\n                    var s = WUX.style(w.style);\n                    if (s)\n                        r += ' style=\"' + s + '\"';\n                    if (w.id)\n                        r += ' id=\"' + w.id + '\"';\n                    if (w.attributes)\n                        r += ' ' + w.attributes;\n                }\n                else {\n                    r += ' class=\"row\"';\n                }\n                r += '></div>';\n                var $r = $(r);\n                this.root.append($r);\n                var row = this.rows[i];\n                var cols = 0;\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    if (f.type === WUX.WInputType.Hidden)\n                        continue;\n                    cols += f.span && f.span > 0 ? f.span : 1;\n                }\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    if (f.id) {\n                        if (f.minValue)\n                            this.minValues[f.id] = f.minValue;\n                        if (f.maxValue)\n                            this.maxValues[f.id] = f.maxValue;\n                    }\n                    if (f.type === WUX.WInputType.Hidden)\n                        continue;\n                    var cs = Math.floor(12 / cols);\n                    if (cs < 1)\n                        cs = 1;\n                    if ((cs == 1 && cols < 11) && (j == 0 || j == cols - 1))\n                        cs = 2;\n                    if (f.span && f.span > 0)\n                        cs = cs * f.span;\n                    var $c = $('<div class=\"col-md-' + cs + '\"></div>');\n                    $r.append($c);\n                    var $fg = $('<div class=\"form-group\"></div>');\n                    $c.append($fg);\n                    if (f.label) {\n                        var la = '';\n                        var af = '';\n                        if (f.labelCss) {\n                            var lc = WUX.cls(f.labelCss);\n                            var ls = WUX.style(f.labelCss);\n                            if (lc)\n                                la += ' class=\"' + lc + '\"';\n                            if (ls)\n                                la += ' style=\"' + ls + '\"';\n                        }\n                        else if (f.required) {\n                            var lc = WUX.cls(WUX.CSS.FIELD_REQUIRED);\n                            var ls = WUX.style(WUX.CSS.FIELD_REQUIRED);\n                            if (lc)\n                                la += ' class=\"' + lc + '\"';\n                            if (ls)\n                                la += ' style=\"' + ls + '\"';\n                            af = ' *';\n                        }\n                        if (f.id && this.mapTooltips[f.id]) {\n                            $fg.append($('<label for=\"' + f.id + '\" title=\"' + this.mapTooltips[f.id] + '\"' + la + '>' + f.label + af + '</label>'));\n                        }\n                        else if (f.id) {\n                            $fg.append($('<label for=\"' + f.id + '\" title=\"' + f.label + '\"' + la + '>' + f.label + af + '</label>'));\n                        }\n                        else {\n                            $fg.append($('<label title=\"' + f.label + '\"' + la + '>' + f.label + af + '</label>'));\n                        }\n                        if (f.id && this.mapLabelLinks[f.id]) {\n                            for (var _i = 0, _a = this.mapLabelLinks[f.id]; _i < _a.length; _i++) {\n                                var link = _a[_i];\n                                var $sl = $('<span style=\"padding-left:8px;\"></span>');\n                                $fg.append($sl);\n                                link.mount($sl);\n                            }\n                        }\n                    }\n                    switch (f.type) {\n                        case WUX.WInputType.Blank:\n                            f.element = $(WUX.build('div', f.placeholder, f.style, f.attributes, f.id, f.classStyle));\n                            break;\n                        case WUX.WInputType.Text:\n                            var ir = '<input type=\"text\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                ir += 'readonly ';\n                            if (f.enabled == false)\n                                ir += 'disabled ';\n                            if (f.style)\n                                ir += ' style=\"' + WUX.style(f.style) + '\"';\n                            ir += '/>';\n                            f.element = $(ir);\n                            break;\n                        case WUX.WInputType.Note:\n                            var nr = '<textarea name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"form-control\" ';\n                            if (f.attributes)\n                                nr += f.attributes + ' ';\n                            if (f.readonly)\n                                nr += 'readonly ';\n                            if (f.enabled == false)\n                                nr += 'disabled ';\n                            if (f.style)\n                                nr += ' style=\"' + WUX.style(f.style) + '\"';\n                            nr += '></textarea>';\n                            f.element = $(nr);\n                            break;\n                        case WUX.WInputType.Date:\n                            this.dpids.push(f.id);\n                            var dr = '<div class=\"input-group\" id=\"igd-' + f.id + '\">';\n                            dr += '<span class=\"input-group-addon\">' + WUX.buildIcon(WUX.WIcon.CALENDAR) + '</span> ';\n                            dr += '<input type=\"text\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                dr += 'readonly ';\n                            if (f.enabled == false)\n                                dr += 'disabled ';\n                            dr += '/></div>';\n                            f.element = $(dr);\n                            break;\n                        case WUX.WInputType.CheckBox:\n                            f.element = $('<input type=\"checkbox\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" style=\"height:16px\" />');\n                            break;\n                        case WUX.WInputType.Radio:\n                            if (f.component)\n                                f.component.mount($fg);\n                            break;\n                        case WUX.WInputType.Select:\n                            var sr = '';\n                            if (f.attributes) {\n                                sr += '<select name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ' + f.attributes;\n                                if (f.readonly || f.enabled == false)\n                                    sr += ' disabled';\n                                sr += '>';\n                            }\n                            else {\n                                sr += '<select name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\"';\n                                if (f.readonly || f.enabled == false)\n                                    sr += 'disabled';\n                                sr += '>';\n                            }\n                            if (f.options && f.options.length > 0) {\n                                for (var k = 0; k < f.options.length; k++) {\n                                    var opt = f.options[k];\n                                    sr += typeof opt === 'string' ? '<option>' + opt + '</option>' : '<option value=\"' + opt.id + '\">' + opt.text + '</option>';\n                                }\n                            }\n                            sr += '</select>';\n                            f.element = $(sr);\n                            break;\n                        case WUX.WInputType.Email:\n                            var ie = '<input type=\"text\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                ie += 'readonly ';\n                            if (f.enabled == false)\n                                ie += 'disabled ';\n                            if (f.style)\n                                ie += ' style=\"' + WUX.style(f.style) + '\"';\n                            ie += '/>';\n                            f.element = $(ie);\n                            break;\n                        case WUX.WInputType.Ftp:\n                            var iftp = '<input type=\"text\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                iftp += 'readonly ';\n                            if (f.enabled == false)\n                                iftp += 'disabled ';\n                            if (f.style)\n                                iftp += ' style=\"' + WUX.style(f.style) + '\"';\n                            iftp += '/>';\n                            f.element = $(iftp);\n                            break;\n                        case WUX.WInputType.Password:\n                            var ip = '<input type=\"password\" name=\"' + f.id + '\" id=\"' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                ip += 'readonly ';\n                            if (f.enabled == false)\n                                ip += 'disabled ';\n                            if (f.style)\n                                ip += ' style=\"' + WUX.style(f.style) + '\"';\n                            ip += '/>';\n                            f.element = $(ip);\n                            break;\n                        case WUX.WInputType.Cron:\n                            var initial = '';\n                            if (f.value != null && f.value != '')\n                                initial = 'initial: \"' + f.value + '\" ,';\n                            var is = '<div id=\"cron_' + f.id + '\" class=\"' + this.inputClass + '\" ';\n                            if (f.readonly)\n                                is += 'readonly ';\n                            if (f.enabled == false)\n                                is += 'disabled ';\n                            is += ' ></div>';\n                            is += '<script type=\"text/javascript\">$(document).ready(function() {';\n                            is += '$(\"#cron_' + f.id + '\").cron({' + initial + 'onChange: function() {$(\"#' + f.id + '\").val($(this).cron(\"value\"));},useGentleSelect: true});';\n                            is += '});</script><input type=\"hidden\" name=\"' + f.id + '\" id=\"' + f.id + '\" />';\n                            f.element = $(is);\n                            break;\n                        case WUX.WInputType.Component:\n                            if (f.component) {\n                                if (f.enabled == false || f.readonly)\n                                    f.component.enabled = false;\n                                f.component.mount($fg);\n                                if (f.onmount)\n                                    f.onmount(f);\n                                if (f.onfocus)\n                                    f.component.on('focus', f.onfocus);\n                                if (f.onblur)\n                                    f.component.on('blur', f.onblur);\n                            }\n                            break;\n                    }\n                    if (f.element) {\n                        $fg.append(f.element);\n                        if (f.type == WUX.WInputType.Text) {\n                            if (f.valueType == 'c' || f.valueType == 'c5') {\n                                f.element.focus(function (e) {\n                                    if (!this.value)\n                                        return;\n                                    var s = WUX.formatNum(this.value);\n                                    if (s.indexOf(',00') >= 0 && s.indexOf(',00') == s.length - 3)\n                                        s = s.substring(0, s.length - 3);\n                                    if (s.indexOf(',0') >= 0 && s.indexOf(',0') == s.length - 2)\n                                        s = s.substring(0, s.length - 3);\n                                    this.value = s;\n                                    $(this).select();\n                                });\n                                if (f.valueType == 'c') {\n                                    f.element.blur(function (e) {\n                                        if (!this.value)\n                                            return;\n                                        this.value = WUX.formatCurr(WUX.WUtil.toNumber(this.value));\n                                    });\n                                }\n                                else {\n                                    f.element.blur(function (e) {\n                                        if (!this.value)\n                                            return;\n                                        this.value = WUX.formatCurr5(WUX.WUtil.toNumber(this.value));\n                                    });\n                                }\n                            }\n                            else if (f.valueType == 'n') {\n                                f.element.focus(function (e) {\n                                    if (!this.value)\n                                        return;\n                                    this.value = WUX.formatNum(this.value);\n                                    $(this).select();\n                                });\n                                f.element.blur(function (e) {\n                                    if (!this.value)\n                                        return;\n                                    this.value = WUX.formatNum(this.value);\n                                });\n                            }\n                            else if (f.valueType == 'i') {\n                                f.element.focus(function (e) {\n                                    if (!this.value)\n                                        return;\n                                    this.value = WUX.WUtil.toInt(this.value);\n                                    $(this).select();\n                                });\n                                f.element.blur(function (e) {\n                                    if (!this.value)\n                                        return;\n                                    this.value = WUX.WUtil.toInt(this.value);\n                                });\n                            }\n                            else {\n                                f.element.focus(function (e) {\n                                    $(this).select();\n                                });\n                            }\n                        }\n                        if (f.visible != null && !f.visible) {\n                            f.element.hide();\n                            if (f.label)\n                                $('label[for=\"' + f.id + '\"]').hide();\n                        }\n                        if (f.onmount)\n                            f.onmount(f);\n                        if (f.onfocus)\n                            f.element.focus(f.onfocus);\n                        if (f.onblur)\n                            f.element.focus(f.onblur);\n                    }\n                }\n            }\n            for (var _b = 0, _c = this.hiddens; _b < _c.length; _b++) {\n                var f = _c[_b];\n                if (f.value == null)\n                    f.value = '';\n                this.root.append('<input type=\"hidden\" name=\"' + f.id + '\" id=\"' + f.id + '\" value=\"' + f.value + '\">');\n            }\n            if (this.footer && this.footer.length > 0) {\n                var fs = WUX.style(this.footerStyle);\n                if (!this.footerClass)\n                    this.footerClass = 'col-md-12';\n                fs = fs ? ' style=\"' + fs + '\"' : ' style=\"text-align:right;\"';\n                if (this.footerSep) {\n                    if (typeof this.footerSep == 'string') {\n                        var c0 = this.footerSep.charAt(0);\n                        if (c0 == '<') {\n                            this.root.append(this.footerSep);\n                        }\n                        else if (WUX.WUtil.isNumeric(c0)) {\n                            this.root.append('<div style=\"height:' + this.footerSep + 'px;\"></div>');\n                        }\n                    }\n                    else {\n                        this.root.append('<div style=\"height:' + this.footerSep + 'px;\"></div>');\n                    }\n                }\n                var $fr = $('<div class=\"row\"></div>');\n                this.root.append($fr);\n                var $fc = $('<div class=\"' + this.footerClass + '\"' + fs + '></div>');\n                $fr.append($fc);\n                for (var _d = 0, _e = this.footer; _d < _e.length; _d++) {\n                    var fco = _e[_d];\n                    if (typeof fco == 'string' && fco.length > 0) {\n                        $fc.append($(fco));\n                    }\n                    else if (fco instanceof WUX.WComponent) {\n                        fco.mount($fc);\n                    }\n                    else {\n                        $fc.append(fco);\n                    }\n                }\n            }\n            var _loop_2 = function (fid) {\n                var minDate = WUX.WUtil.getDate(this_2.minValues, fid);\n                $('#' + fid).datepicker({\n                    language: 'it',\n                    todayBtn: 'linked',\n                    keyboardNavigation: false,\n                    forceParse: false,\n                    calendarWeeks: true,\n                    autoclose: true,\n                    minDate: minDate\n                }).on('changeDate', function (e) {\n                    if (_this.handlers['_changedate']) {\n                        for (var _i = 0, _a = _this.handlers['_changedate']; _i < _a.length; _i++) {\n                            var h = _a[_i];\n                            h(e);\n                        }\n                    }\n                    var md = WUX.WUtil.getDate(_this.minValues, fid);\n                    var xd = WUX.WUtil.getDate(_this.maxValues, fid);\n                    if (!md && !xd)\n                        return;\n                    var dv = WUX.WUtil.getDate(e, 'date');\n                    if (!dv)\n                        return;\n                    var iv = WUX.WUtil.toInt(dv);\n                    if (iv < 19000101)\n                        return;\n                    var mv = WUX.WUtil.toInt(md);\n                    if (mv >= 19000101 && iv < mv) {\n                        WUX.showWarning(WUX.RES.ERR_DATE);\n                        $(e.target).datepicker('setDate', md);\n                    }\n                    var xv = WUX.WUtil.toInt(xd);\n                    if (xv >= 19000101 && iv > xv) {\n                        WUX.showWarning(WUX.RES.ERR_DATE);\n                        $(e.target).datepicker('setDate', xd);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var _f = 0, _g = this.dpids; _f < _g.length; _f++) {\n                var fid = _g[_f];\n                _loop_2(fid);\n            }\n            if (typeof this.state == 'object')\n                this.updateView();\n            this.root.find('input').keypress(function (e) {\n                if (e.which == 13) {\n                    var tid = $(e.target).attr('id');\n                    var f = _this.next(tid);\n                    while (f && !_this.isFocusable(f)) {\n                        f = _this.next(f.id);\n                    }\n                    if (f && _this.nextOnEnter) {\n                        if (f.component) {\n                            f.component.focus();\n                        }\n                        else if (f.element) {\n                            if (f.element.prop(\"tagName\") == 'DIV') {\n                                f.element.find('input').focus();\n                            }\n                            else {\n                                f.element.focus();\n                            }\n                        }\n                        if (!_this.stateChangeOnBlur) {\n                            _this.lastChanged = _this.ripId(tid);\n                            _this.trigger('statechange');\n                        }\n                    }\n                    else {\n                        _this.lastChanged = _this.ripId(tid);\n                        _this.trigger('statechange');\n                    }\n                    _this.trigger('_enter', _this.ripId(tid));\n                }\n            });\n            if (this.stateChangeOnBlur) {\n                this.root.find('input').blur(function (e) {\n                    _this.lastChanged = _this.ripId($(e.target).attr('id'));\n                    _this.trigger('statechange');\n                });\n            }\n            this.root.on('change', 'select', function (e) {\n                var ts = new Date().getTime();\n                if (_this.lastTs && ts - _this.lastTs < 200)\n                    return;\n                _this.lastTs = ts;\n                _this.lastChanged = _this.ripId($(e.target).attr('id'));\n                _this.trigger('statechange');\n            });\n        };\n        WFormPanel.prototype.isFocusable = function (f) {\n            if (!f)\n                return false;\n            if (f.readonly)\n                return false;\n            if (f.enabled != null && !f.enabled)\n                return false;\n            return true;\n        };\n        WFormPanel.prototype.updateState = function (nextState) {\n            _super.prototype.updateState.call(this, nextState);\n            if (!this.mounted)\n                return;\n            if (!nextState || $.isEmptyObject(nextState)) {\n                this.clear();\n            }\n            else {\n                this.updateView();\n            }\n        };\n        WFormPanel.prototype.isBlank = function (fid) {\n            if (fid) {\n                var v = this.getValue(fid);\n                if (v === 0)\n                    return false;\n                if (!v)\n                    return true;\n                var s = '' + v;\n                if (!s.trim())\n                    return true;\n                return false;\n            }\n            else {\n                for (var i = 0; i < this.rows.length; i++) {\n                    var row = this.rows[i];\n                    for (var j = 0; j < row.length; j++) {\n                        var f = row[j];\n                        var v = this.getValue(f);\n                        if (v == 0)\n                            return false;\n                        if (v)\n                            return false;\n                        var s = '' + v;\n                        if (s.trim())\n                            return false;\n                    }\n                }\n                return true;\n            }\n        };\n        WFormPanel.prototype.isZero = function (fid) {\n            var v = this.getValue(fid);\n            if (!v)\n                return true;\n            if (v == '0')\n                return true;\n            var s = '' + v;\n            if (!s.trim())\n                return true;\n            return false;\n        };\n        WFormPanel.prototype.match = function (fid, val) {\n            var v = this.getValue(fid);\n            var s1 = WUX.WUtil.toString(v);\n            var s2 = WUX.WUtil.toString(val);\n            return s1 == s2;\n        };\n        WFormPanel.prototype.transferTo = function (dest, force, callback) {\n            var res;\n            if (dest instanceof WUX.WFormPanel) {\n                dest.clear();\n                res = _super.prototype.transferTo.call(this, dest, force);\n                for (var i = 0; i < this.rows.length; i++) {\n                    var row = this.rows[i];\n                    for (var j = 0; j < row.length; j++) {\n                        var f = row[j];\n                        if (!f.component)\n                            continue;\n                        var d = dest.getField(this.ripId(f.id));\n                        if (!d || !d.component)\n                            continue;\n                        res = res && f.component.transferTo(d.component);\n                    }\n                }\n                if (callback)\n                    callback();\n            }\n            else {\n                res = _super.prototype.transferTo.call(this, dest, force, callback);\n            }\n            return res;\n        };\n        WFormPanel.prototype.clear = function () {\n            if (this.debug)\n                console.log('WUX.WFormPanel.clear');\n            for (var i = 0; i < this.components.length; i++) {\n                if (this.components[i].id)\n                    this.components[i].setState(null);\n            }\n            for (var fid in this.internals) {\n                if (!this.internals.hasOwnProperty(fid))\n                    continue;\n                this.internals[fid] = null;\n            }\n            if (!this.root)\n                return this;\n            var form = this.root;\n            var f = form[0];\n            if (!f || !f.elements)\n                return this;\n            for (var i_2 = 0; i_2 < f.elements.length; i_2++) {\n                var e = f.elements[i_2];\n                switch (e.type) {\n                    case 'checkbox':\n                    case 'radio':\n                        e.checked = false;\n                        break;\n                    case 'select-one':\n                    case 'select-multiple':\n                        e.selectedIndex = -1;\n                        break;\n                    default:\n                        e.value = '';\n                }\n            }\n            return this;\n        };\n        WFormPanel.prototype.select = function (fieldId, i) {\n            if (!fieldId)\n                return this;\n            var f = this.getField(fieldId);\n            if (!f || !f.component)\n                return this;\n            var s = f.component['select'];\n            if (typeof s === 'function') {\n                s.bind(f.component)(i);\n                return this;\n            }\n            console.error('WFormPanel.select(' + fieldId + ',' + i + ') not applicable.');\n            return this;\n        };\n        WFormPanel.prototype.setValue = function (fid, v, updState) {\n            if (updState === void 0) { updState = true; }\n            if (this.debug)\n                console.log('WUX.WFormPanel.setValue(' + fid + ',' + v + ',' + updState + ')');\n            if (!fid)\n                return this;\n            var sid = this.subId(fid);\n            if (updState) {\n                if (!this.state)\n                    this.state = {};\n                this.state[fid] = v;\n            }\n            if (this.internals[fid] !== undefined) {\n                if (v === undefined)\n                    v = null;\n                this.internals[fid] = v;\n                return this;\n            }\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.id == sid) {\n                    c.setState(v);\n                    return this;\n                }\n            }\n            if (!this.root || !this.root.length)\n                return this;\n            if (typeof v == 'number')\n                v = WUX.formatNum(v);\n            if (this.dpids && this.dpids.indexOf(sid) >= 0) {\n                $('#' + sid).datepicker('setDate', WUX.WUtil.toDate(v));\n                return;\n            }\n            var $c = this.root.find('[name=' + sid + ']');\n            if (!$c.length)\n                $c = $('#' + sid);\n            if (!$c.length)\n                return this;\n            if (v == null)\n                v = '';\n            switch ($c.attr('type')) {\n                case 'checkbox':\n                case 'radio':\n                    $c.prop('checked', v);\n                    break;\n                default:\n                    if (v instanceof Date) {\n                        $c.val(WUX.formatDate(v));\n                    }\n                    else if (Array.isArray(v)) {\n                        $c.val(v);\n                    }\n                    else {\n                        $c.val(WUX.den(v.toString()));\n                    }\n            }\n            return this;\n        };\n        WFormPanel.prototype.getValue = function (fid) {\n            if (!fid)\n                return;\n            var sid;\n            var iid;\n            if (typeof fid == 'string') {\n                sid = this.subId(fid);\n                iid = fid;\n            }\n            else {\n                sid = fid.id;\n                iid = fid.id;\n            }\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.id == sid)\n                    return c.getState();\n            }\n            if (this.internals[iid] !== undefined) {\n                return this.internals[iid];\n            }\n            if (!this.root || !this.root.length)\n                return;\n            var $c = this.root.find('[name=' + sid + ']');\n            if (!$c.length)\n                $c = $('#' + sid);\n            if (!$c.length)\n                return;\n            var e = $c.get(0);\n            if (e) {\n                switch (e.type) {\n                    case 'checkbox': return e.checked;\n                    case 'select-multiple':\n                        var a = [];\n                        for (var j = 0; j < e.length; j++) {\n                            a.push(e.options[j].value);\n                        }\n                        return a;\n                }\n            }\n            return $c.val();\n        };\n        WFormPanel.prototype.getValues = function (formatted) {\n            if (!this.root || !this.root.length)\n                return {};\n            var r = {};\n            for (var fid in this.internals) {\n                if (!this.internals.hasOwnProperty(fid))\n                    continue;\n                var v = this.internals[fid];\n                if (v != null)\n                    r[fid] = v;\n            }\n            var form = this.root;\n            var f = form[0];\n            if (!f || !f.elements)\n                return r;\n            for (var i = 0; i < f.elements.length; i++) {\n                var e = f.elements[i];\n                if (!e.name || !e.value)\n                    continue;\n                var k = e.name;\n                switch (e.type) {\n                    case 'checkbox':\n                        r[this.ripId(k)] = e.checked;\n                        break;\n                    case 'radio':\n                        if (e.checked)\n                            r[this.ripId(k)] = e.value;\n                        break;\n                    case 'select-one':\n                        r[this.ripId(k)] = e.options[e.selectedIndex].value;\n                        break;\n                    case 'select-multiple':\n                        var a = [];\n                        for (var j = 0; j < e.length; j++) {\n                            if (e.options[j].selected)\n                                a.push(e.options[j].value);\n                        }\n                        r[this.ripId(k)] = a;\n                        break;\n                    case 'text':\n                    case 'textarea':\n                        r[this.ripId(k)] = WUX.norm(e.value);\n                        break;\n                    default:\n                        r[this.ripId(k)] = e.value;\n                }\n            }\n            for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.id) {\n                    var cv = null;\n                    if (formatted) {\n                        cv = WUX.format(c);\n                    }\n                    else {\n                        cv = c.getState();\n                    }\n                    if (cv == null)\n                        continue;\n                    r[this.ripId(c.id)] = cv;\n                }\n            }\n            return r;\n        };\n        WFormPanel.prototype.updateView = function () {\n            if (this.debug)\n                console.log('WUX.WFormPanel.updateView()');\n            if (!this.state) {\n                this.clear();\n                return;\n            }\n            for (var id in this.state) {\n                this.setValue(id, this.state[id], false);\n            }\n        };\n        WFormPanel.prototype.validate = function () {\n            var values = this.getValues();\n            for (var i = 0; i < this.rows.length; i++) {\n                var row = this.rows[i];\n                for (var j = 0; j < row.length; j++) {\n                    var f = row[j];\n                    var k = f.id;\n                    var id = this.ripId(k);\n                    if (f.required && values[id] == null) {\n                        throw new Error('Campo ' + f.label + ': valore obbligatorio');\n                    }\n                    if (f.size && values[id] != null && values[id].length > f.size) {\n                        throw new Error('Campo ' + f.label + ': dimensione massima superata (massimo \" + f.size + \" caratteri)');\n                    }\n                    if (f.type && values[id] != null) {\n                        var msg = null;\n                        var regExp = null;\n                        if (f.type == WUX.WInputType.Date) {\n                            values[id] = WUX.WUtil.toDate(values[id]);\n                        }\n                        switch (f.type) {\n                            case WUX.WInputType.Number:\n                                regExp = new RegExp('^\\\\d+\\\\.\\\\d{1,2}$|^\\\\d*$');\n                                if (!regExp.test(values[id]))\n                                    msg = \"Campo \" + f.label + \": valore non idoneo (\" + values[id] + \" non risulta numerico)\";\n                                break;\n                            case WUX.WInputType.Integer:\n                                regExp = new RegExp('^\\\\d*$');\n                                if (!regExp.test(values[id]))\n                                    msg = \"Campo \" + f.label + \": valore non idoneo (\" + values[id] + \" non risulta intero)\";\n                                break;\n                            case WUX.WInputType.Email:\n                                regExp = new RegExp(/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/);\n                                if (!regExp.test(values[id]))\n                                    msg = \"Campo \" + f.label + \": valore non idoneo (\" + values[id] + \" non risulta email)\";\n                                break;\n                            case WUX.WInputType.Ftp:\n                                regExp = new RegExp(/(((ftp:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/);\n                                if (!regExp.test(values[id]))\n                                    msg = \"Campo \" + f.label + \": valore non idoneo (\" + values[id] + \" non risulta URL FTP)\";\n                                break;\n                            default:\n                                break;\n                        }\n                        if (msg != null)\n                            throw new Error(msg);\n                    }\n                }\n            }\n            return values;\n        };\n        return WFormPanel;\n    }(WUX.WComponent));\n    WUX.WFormPanel = WFormPanel;\n    var WWindow = (function (_super) {\n        __extends(WWindow, _super);\n        function WWindow(id, name, position, attributes, props) {\n            if (name === void 0) { name = 'WWindow'; }\n            var _this = _super.call(this, id ? id : '*', name, props, '', '', attributes) || this;\n            _this.position = position;\n            if (!_this.position)\n                _this.position = 'bottom';\n            _this.headerStyle = WWindow.DEF_HEADER_STYLE;\n            if (_this.id && _this.id != '*') {\n                if ($('#' + _this.id).length)\n                    $('#' + _this.id).remove();\n            }\n            WuxDOM.onRender(function (e) {\n                if (_this.mounted)\n                    return;\n                _this.mount(e.element);\n            });\n            return _this;\n        }\n        WWindow.prototype.onShow = function (handler) {\n            if (!this.handlers['_onshow'])\n                this.handlers['_onshow'] = [];\n            this.handlers['_onshow'].push(handler);\n        };\n        WWindow.prototype.onHide = function (handler) {\n            if (!this.handlers['_onhide'])\n                this.handlers['_onhide'] = [];\n            this.handlers['_onhide'].push(handler);\n        };\n        WWindow.prototype.onClose = function (handler) {\n            if (!this.handlers['_onclose'])\n                this.handlers['_onclose'] = [];\n            this.handlers['_onclose'].push(handler);\n        };\n        Object.defineProperty(WWindow.prototype, \"header\", {\n            get: function () {\n                var _this = this;\n                if (this.cntHeader)\n                    return this.cntHeader;\n                this.cntHeader = new WContainer('', 'modal-header', this.headerStyle);\n                this.btnCloseHeader = new WButton(this.subId('bhc'), '<span aria-hidden=\"true\" tabIndex=\"-1\">&times;</span><span class=\"sr-only\">Close</span>', undefined, 'close', { op: 0.6 });\n                this.btnCloseHeader.on('click', function (e) {\n                    _this.close();\n                });\n                this.cntHeader.add(this.btnCloseHeader);\n                return this.cntHeader;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WWindow.prototype, \"body\", {\n            get: function () {\n                if (this.cntBody)\n                    return this.cntBody;\n                this.cntBody = new WContainer('', WUX.cls(this._classStyle));\n                return this.cntBody;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WWindow.prototype, \"container\", {\n            get: function () {\n                if (this.cntRoot)\n                    return this.cntRoot;\n                var crs = '';\n                var cra = {};\n                if (this.width)\n                    cra.w = this.width;\n                if (this.height)\n                    cra.h = this.height;\n                if (this.background)\n                    cra.bg = this.background;\n                if (this.color)\n                    cra.c = this.color;\n                if (this.position == 'top') {\n                    if (this.gap) {\n                        cra.ml = WUX.WUtil.getNumber(WUX.global.window_top, 'ml') + this.gap;\n                        crs = WUX.css(WUX.global.window_top, { d: 'none', b: 'rgba(0,0,0,0)', bs: '0 1px 3px rgba(0, 0, 0, 0.6)', t: this.gap }, this._style, cra);\n                    }\n                    else {\n                        crs = WUX.css(WUX.global.window_top, { d: 'none', b: 'rgba(0,0,0,0)', bs: '0 1px 3px rgba(0, 0, 0, 0.6)' }, this._style, cra);\n                    }\n                }\n                else {\n                    if (this.gap) {\n                        cra.ml = WUX.WUtil.getNumber(WUX.global.window_bottom, 'ml') + this.gap;\n                        crs = WUX.css(WUX.global.window_bottom, { d: 'none', b: 'rgba(0,0,0,0)', bs: '0 1px 3px rgba(0, 0, 0, 0.6)', bt: this.gap }, this._style, cra);\n                    }\n                    else {\n                        crs = WUX.css(WUX.global.window_bottom, { d: 'none', b: 'rgba(0,0,0,0)', bs: '0 1px 3px rgba(0, 0, 0, 0.6)' }, this._style, cra);\n                    }\n                }\n                this.cntRoot = new WContainer(this.id, this._classStyle, crs, this._attributes);\n                return this.cntRoot;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WWindow.prototype, \"title\", {\n            get: function () {\n                return this._title;\n            },\n            set: function (s) {\n                if (this._title && this.cntHeader) {\n                    this._title = s;\n                    this.cntHeader.getRoot().children(this.tagTitle + ':first').text(s);\n                }\n                else {\n                    this._title = s;\n                    this.header.add(this.buildTitle(s));\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        WWindow.prototype.show = function (parent) {\n            if (!this.beforeShow())\n                return;\n            this.parent = parent;\n            if (!this.mounted)\n                WuxDOM.mount(this);\n            if (this.root && this.root.length) {\n                this.isShown = true;\n                this.isClosed = false;\n                this.root.show();\n            }\n            if (!this.handlers['_onshow'])\n                return;\n            for (var _i = 0, _a = this.handlers['_onshow']; _i < _a.length; _i++) {\n                var h = _a[_i];\n                h(this.createEvent('_onshow'));\n            }\n        };\n        WWindow.prototype.hide = function () {\n            this.isShown = false;\n            if (this.root && this.root.length)\n                this.root.hide();\n            if (!this.handlers['_onhide'])\n                return;\n            for (var _i = 0, _a = this.handlers['_onhide']; _i < _a.length; _i++) {\n                var h = _a[_i];\n                h(this.createEvent('_onhide'));\n            }\n        };\n        WWindow.prototype.close = function () {\n            this.isClosed = true;\n            if (this.handlers['_onclose']) {\n                for (var _i = 0, _a = this.handlers['_onclose']; _i < _a.length; _i++) {\n                    var h = _a[_i];\n                    h(this.createEvent('_onclose'));\n                }\n            }\n            this.hide();\n        };\n        WWindow.prototype.scroll = function (c, hmin, over) {\n            if (hmin === void 0) { hmin = 0; }\n            if (over === void 0) { over = 4; }\n            if (!c || !this.root)\n                return 0;\n            var $c = c instanceof WUX.WComponent ? c.getRoot() : c;\n            if (this.position == 'top') {\n                var st = $(document).scrollTop();\n                var et = $c.offset().top;\n                var rt = et - st - 2;\n                var oh = this.root.height();\n                if (hmin && oh < hmin)\n                    oh = hmin;\n                if (rt < oh) {\n                    var ds = rt - oh;\n                    if (st < ds) {\n                        $(document).scrollTop(0);\n                    }\n                    else {\n                        $(document).scrollTop(st - ds);\n                    }\n                    return ds;\n                }\n            }\n            else {\n                var st = $(document).scrollTop();\n                var et = $c.offset().top;\n                if (!et) {\n                    var ep = $c.position();\n                    if (ep)\n                        et = ep.top;\n                }\n                var eh = $c.height();\n                if (!eh)\n                    eh = 18;\n                var eb = et + eh;\n                var rb = eb - st + 2;\n                var wh = $(window).height();\n                var oh = this.root.height();\n                if (hmin && oh < hmin)\n                    oh = hmin;\n                var ot = wh - oh;\n                if (rb > ot) {\n                    var ds = rb - ot + over;\n                    $(document).scrollTop(st + ds);\n                    return ds;\n                }\n            }\n            return 0;\n        };\n        WWindow.prototype.scrollY = function (y, hmin, over) {\n            if (hmin === void 0) { hmin = 0; }\n            if (over === void 0) { over = 4; }\n            if (this.position == 'top') {\n                var st = $(document).scrollTop();\n                var rt = y - 2;\n                var oh = this.root.height();\n                if (hmin && oh < hmin)\n                    oh = hmin;\n                if (rt < oh) {\n                    var ds = rt - oh;\n                    if (st < ds) {\n                        $(document).scrollTop(0);\n                    }\n                    else {\n                        $(document).scrollTop(st - ds);\n                    }\n                    return ds;\n                }\n            }\n            else {\n                var st = $(document).scrollTop();\n                var rb = y + (over / 2) + 2;\n                var wh = $(window).height();\n                var oh = this.root.height();\n                if (hmin && oh < hmin)\n                    oh = hmin;\n                var ot = wh - oh;\n                if (rb > ot) {\n                    var ds = rb - ot + over;\n                    $(document).scrollTop(st + ds);\n                    return ds;\n                }\n            }\n            return 0;\n        };\n        WWindow.prototype.beforeShow = function () {\n            return true;\n        };\n        WWindow.prototype.onShown = function () {\n        };\n        WWindow.prototype.onHidden = function () {\n        };\n        WWindow.prototype.render = function () {\n            this.isShown = false;\n            this.isClosed = false;\n            if (this.cntHeader)\n                this.container.addContainer(this.cntHeader);\n            if (this.cntBody)\n                this.container.addContainer(this.cntBody);\n            return this.cntRoot;\n        };\n        WWindow.prototype.componentWillUnmount = function () {\n            this.isShown = false;\n            if (this.btnCloseHeader)\n                this.btnCloseHeader.unmount();\n            if (this.cntBody)\n                this.cntBody.unmount();\n            if (this.cntHeader)\n                this.cntHeader.unmount();\n            if (this.cntRoot)\n                this.cntRoot.unmount();\n        };\n        WWindow.prototype.buildTitle = function (title) {\n            if (title == null)\n                return '';\n            if (!this.tagTitle)\n                this.tagTitle = 'h3';\n            if (this.titleStyle) {\n                var ts = WUX.style(this.titleStyle);\n                if (ts)\n                    return '<' + this.tagTitle + ' style=\"' + ts + '\">' + WUX.WUtil.toText(title) + '</' + this.tagTitle + '>';\n            }\n            return '<' + this.tagTitle + '>' + WUX.WUtil.toText(title) + '</' + this.tagTitle + '>';\n        };\n        WWindow.DEF_HEADER_STYLE = { p: 5, a: 'center' };\n        return WWindow;\n    }(WUX.WComponent));\n    WUX.WWindow = WWindow;\n})(WUX || (WUX = {}));\n"]}